/*! For license information please see main.a59638dd.js.LICENSE.txt */
(()=>{"use strict";var e={463:(e,t,n)=>{var r=n(791),i=n(296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),_=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case _:return"Portal";case x:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ie=null,Se=null;function xe(e){if(e=wi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),_e(e.stateNode,e.type,t))}}function Te(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function ke(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Se)&&(Ce(),ke())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function je(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,s,o,a,l){Le=!1,Me=null,je.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,_t,It,St,xt,Tt=!1,kt=[],Nt=null,Ct=null,At=null,Rt=new Map,Dt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<kt.length){Bt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=vi(e=Ee(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),yn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(vn),bn=sn(M({},cn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function xn(){return Sn}var Tn=M({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Tn),Nn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,Mn=u&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,Ee(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Ir={},Sr={};function xr(e){if(Ir[e])return Ir[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ir[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=xr("animationend"),kr=xr("animationiteration"),Nr=xr("animationstart"),Cr=xr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Or=Rr[Pr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(kr,"onAnimationIteration"),Dr(Nr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,a,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Re((function(){var r=s,i=Ee(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Tr:case kr:case Nr:l=yn;break;case Cr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Wn(a))if(Xn)g=or;else{g=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var v;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(v=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Bn(n))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=De(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=De(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[fi]||null}var _i=[],Ii=-1;function Si(e){return{current:e}}function xi(e){0>Ii||(e.current=_i[Ii],_i[Ii]=null,Ii--)}function Ti(e,t){Ii++,_i[Ii]=e.current,e.current=t}var ki={},Ni=Si(ki),Ci=Si(!1),Ai=ki;function Ri(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){xi(Ci),xi(Ni)}function Oi(e,t,n){if(Ni.current!==ki)throw Error(s(168));Ti(Ni,t),Ti(Ci,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ai=Ni.current,Ti(Ni,e),Ti(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ji(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Ci),xi(Ni),Ti(Ni,e)):xi(Ci),Ti(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=s+e}else Ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ys=Si(null),vs=null,ws=null,bs=null;function Es(){bs=ws=vs=null}function _s(e){var t=ys.current;xi(ys),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){vs=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function xs(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===vs)throw Error(s(308));ws=e,vs.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Ts=null;function ks(e){null===Ts?Ts=[e]:Ts.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ks(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return null===(i=r.interleaved)?(t.next=t,ks(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=o,e.lanes=o,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ps(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rc(t,e,r,n),js(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"===typeof s&&null!==s?s=xs(s):(i=Di(t)?Ai:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=xs(s):(s=Di(t)?Ai:Ni.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===a.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,a,l,c){var u=j(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(i,m,v.value,c);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return is&&$i(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case E:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===I){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===I?((s=Lc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=jc(o.type,o.key,o.props,null,r.mode,l)).ref=Ks(r,s,o),l.return=r,r=l)}return a(r);case _:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(o,r.mode,l)).return=r,r=s}return a(r);case D:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(j(o))return g(r,s,o,l);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Fc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Js=Ys(!0),Xs=Ys(!1),$s={},Zs=Si($s),eo=Si($s),to=Si($s);function no(e){if(e===$s)throw Error(s(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Zs),Ti(Zs,t)}function io(){xi(Zs),xi(eo),xi(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(Ti(eo,e),Ti(Zs,n))}function oo(e){eo.current===e&&(xi(Zs),xi(eo))}var ao=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,yo=null,vo=!1,wo=!1,bo=0,Eo=0;function _o(){throw Error(s(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,yo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,yo=go=mo=null,vo=!1,t)throw Error(s(300));return e}function xo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?mo.memoizedState=yo=e:yo=yo.next=e,yo}function ko(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===yo?mo.memoizedState:yo.next;if(null!==t)yo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===yo?mo.memoizedState=yo=e:yo=yo.next=e}return yo}function No(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=ko(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Ml|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=ko(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Do(e,t){var n=mo,r=ko(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Wo(jo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Mo(e)}function jo(e,t,n){return n((function(){Lo(t)&&Mo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Mo(e){var t=Cs(e,1);null!==t&&rc(t,e,1,-1)}function Fo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return ko().memoizedState}function Bo(e,t,n,r){var i=To();mo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=ko();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=Uo(t,n,s,r))}mo.flags|=e,i.memoizedState=Uo(1|t,n,s,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=ko();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Ml|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return ko().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,ks(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=vo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var oa={readContext:xs,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},aa={readContext:xs,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:xs,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Fo,useDebugValue:Yo,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Fo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=To();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(jo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Al.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Eo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:xs,useCallback:Jo,useContext:xs,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Co,useRef:Vo,useState:function(){return Co(No)},useDebugValue:Yo,useDeferredValue:function(e){return $o(ko(),go.memoizedState,e)},useTransition:function(){return[Co(No)[0],ko().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1},ca={readContext:xs,useCallback:Jo,useContext:xs,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(No)},useDebugValue:Yo,useDeferredValue:function(e){var t=ko();return null===go?t.memoizedState=e:$o(t,go.memoizedState,e)},useTransition:function(){return[Ao(No)[0],ko().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Do,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function ya(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function Ea(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Js(t,e.child,n,r)}function _a(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=xo(),null===e||ba?(is&&n&&es(t),t.flags|=1,Ea(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ia(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Ol,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Ol,Pl),Pl|=r;return Ea(e,t,i,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var s=Di(n)?Ai:Ni.current;return s=Ri(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=xo(),null===e||ba?(is&&r&&es(t),t.flags|=1,Ea(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Na(e,t,n,r,i){if(Di(n)){var s=!0;Li(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=xs(c):c=Ri(t,c=Di(n)?Ai:Ni.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Ws(t,o,r,c),As=!1;var d=t.memoizedState;o.state=d,Ms(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ci.current||As?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(a=As||zs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ds(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=xs(l):l=Ri(t,l=Di(n)?Ai:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ws(t,o,r,l),As=!1,d=t.memoizedState,o.state=d,Ms(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ci.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=As||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,s,i)}function Ca(e,t,n,r,i,s){Ta(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ha(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):Ea(e,t,a,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ra(e,t,n,r,i){return fs(),ps(i),t.flags|=256,Ea(e,t,n,r),t.child}var Da,Pa,Oa,ja,La={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fa(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mc(l,i,0,null),e=Lc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=La,e):Ua(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=La,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Al)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Cs(e,i),rc(r,e,i,-1))}return gc(),Va(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Oc(r,a):(a=Lc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=La,i}return e=(a=e.child).sibling,i=Oc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ua(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ea(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,n,t);else if(19===e.tag)Ba(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Di(t.type)&&Pi(),Ga(t),null;case 3:return r=t.stateNode,io(),xi(Ci),xi(Ni),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Pa(e,t),Ga(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Da(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)ja(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(xi(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===jl&&(jl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return io(),Pa(e,t),null===e&&zr(t.stateNode.containerInfo),Ga(t),null;case 10:return _s(t.type._context),Ga(t),null;case 19:if(xi(ao),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*Xe()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ao.current,Ti(ao,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ci),xi(Ni),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ao),null;case 4:return io(),null;case 10:return _s(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Da=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},ja=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){xc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xa&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,fl(e,t,n),Xa=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $a),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),vl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){xc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),vl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":$(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){xc(e,e.return,g)}}break;case 6:if(gl(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xc(e,e.return,g)}}break;case 3:if(gl(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:gl(t,e),vl(e);break;case 13:gl(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(u=Xa)||h,gl(t,e),Xa=u):gl(t,e),vl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){_l(d);continue}}null!==p?(p.return=f,Za=p):_l(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),vl(e),4&r&&ml(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Za=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ja;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ja;var c=Xa;if(Ja=o,(Xa=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Il(i):null!==l?(l.return=o,Za=l):Il(i);for(;null!==s;)Za=s,bl(s,t,n),s=s.sibling;Za=i,Ja=a,Xa=c}El(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):El(e)}}function El(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Fs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&sl(t)}catch(f){xc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function _l(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Il(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){xc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){xc(t,o,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sl,xl=Math.ceil,Tl=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Cl=0,Al=null,Rl=null,Dl=0,Pl=0,Ol=Si(0),jl=0,Ll=null,Ml=0,Fl=0,Ul=0,Vl=null,Bl=null,zl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Jl=0,Xl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Cl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));yt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===jl&&lc(e,Dl)),ic(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Al?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Cl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Cl;Cl|=2;var o=mc();for(Al===e&&Dl===t||(Wl=null,ql=Xe()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}Es(),Tl.current=o,Cl=i,null!==Rl?t=0:(Al=null,Dl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:_c(e,Bl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),t);break}_c(e,Bl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bl,Wl),r);break}_c(e,Bl,Wl);break;default:throw Error(s(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&ac(t)),e}function ac(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cl))throw Error(s(327));Ic();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bl,Wl),ic(e,Xe()),null}function uc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Xe()+500,Ui&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&Ic();var t=Cl;Cl|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Cl=t))&&zi()}}function dc(){Pl=Ol.current,xi(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),xi(Ci),xi(Ni),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(ao);break;case 10:_s(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Rl=e=Oc(e.current,null),Dl=Pl=t,jl=0,Ll=null,Ul=Fl=Ml=0,Bl=Vl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ts=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(Es(),ho.current=oa,vo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}vo=!1}if(po=0,yo=go=mo=null,wo=!1,bo=0,kl.current=null,null===n||null===n.return){jl=1,Ll=t,Rl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ya(a);if(null!==p){p.flags&=-257,va(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var y=ya(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),va(y,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==jl&&(jl=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,pa(0,c,t));break e;case 1:l=c;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ls(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}Ec(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=oa,null===e?oa:e}function gc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Al,Dl)}function yc(e,t){var n=Cl;Cl|=2;var r=mc();for(Al===e&&Dl===t||(Wl=null,fc(e,t));;)try{vc();break}catch(i){pc(e,i)}if(Es(),Cl=n,Tl.current=r,null!==Rl)throw Error(s(261));return Al=null,Dl=0,jl}function vc(){for(;null!==Rl;)bc(Rl)}function wc(){for(;null!==Rl&&!Ye();)bc(Rl)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?Ec(e):Rl=t,kl.current=null}function Ec(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return jl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===jl&&(jl=5)}function _c(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Ic()}while(null!==Yl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Al&&(Rl=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return Ic(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Nl.transition,Nl.transition=null;var a=wt;wt=1;var l=Cl;Cl|=4,kl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(E){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(E){xc(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),yl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Je(),Cl=l,wt=a,Nl.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Jl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Jl)&&0!==e.tag&&Ic(),o=e.pendingLanes,0!==(1&o)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Ic(){if(null!==Yl){var e=bt(Jl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Za=v;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){xc(l,l.return,_)}if(l===a){Za=null;break e}var E=l.sibling;if(null!==E){E.return=l.return,Za=E;break e}Za=l.return}}if(Cl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function Sc(e,t,n){e=Os(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function xc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Os(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===jl||3===jl&&(130023424&Dl)===Dl&&500>Xe()-zl?fc(e,0):Ul|=n),ic(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Cs(e,t))&&(yt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Lc(n.children,i,o,t);case S:a=8,i|=8;break;case x:return(e=Dc(12,n,t,2|i)).elementType=x,e.lanes=o,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case P:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case k:a=9;break e;case N:a=11;break e;case R:a=14;break e;case D:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,o,a,l){return e=new Vc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function zc(e){if(!e)return ki;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return ji(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Bc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Ps(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(rc(e,i,o,s),js(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ys,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fa(e,t,n):(Ti(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);Ti(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Ha(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Ri(t,Ni.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Ca(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),Ea(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Na(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Na(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Ds(e,t),Ms(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ra(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Ra(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}Ea(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ta(e,t),Ea(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fa(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):Ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_a(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return Ea(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(ys,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ci.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ps(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}Ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=xs(i)),t.flags|=1,Ea(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ia(e,t,r,i=gs(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wa(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ss(t,n),qs(t,r,i),Hs(t,r,i,n),Ca(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Xe()),0===(6&Cl)&&(ql=Xe()+500,zi()))}break;case 13:hc((function(){var t=Cs(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},_t=function(e){if(13===e.tag){var t=Cs(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Cs(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return wt},xt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ce=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,Ei,Te,ke,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:(e,t,n)=>{var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:(e,t,n)=>{var r=n(791),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},117:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var E=Array.isArray,_=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:I.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+N(l,0):s,E(o)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(k,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",E(e))for(var c=0;c<e.length;c++){var u=s+N(a=e[c],c);l+=C(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=C(a=a.value,t,i,u=s+N(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:(e,t,n)=>{e.exports=n(117)},184:(e,t,n)=>{e.exports=n(374)},813:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(_);else{var t=r(u);null!==t&&O(E,t.startTime-e)}}function _(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!C());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(E,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,x=null,T=-1,k=5,N=-1;function C(){return!(t.unstable_now()-N<k)}function A(){if(null!==x){var e=t.unstable_now();N=e;var n=!0;try{n=x(!0,e)}finally{n?I():(S=!1,x=null)}}else S=!1}if("function"===typeof w)I=function(){w(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,I=function(){D.postMessage(null)}}else I=function(){y(A,0)};function P(e){x=e,S||(S=!0,I())}function O(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,O(E,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,P(_))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},296:(e,t,n)=>{e.exports=n(813)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>se,hasStandardBrowserEnv:()=>oe,hasStandardBrowserWebWorkerEnv:()=>le});var t={};n.r(t),n.d(t,{FirebaseError:()=>Mn,SDK_VERSION:()=>Vr,_DEFAULT_ENTRY_NAME:()=>Nr,_addComponent:()=>Dr,_addOrOverwriteComponent:()=>Pr,_apps:()=>Ar,_clearComponents:()=>Mr,_components:()=>Rr,_getProvider:()=>jr,_registerComponent:()=>Or,_removeServiceInstance:()=>Lr,deleteApp:()=>Wr,getApp:()=>zr,getApps:()=>qr,initializeApp:()=>Br,onLog:()=>Kr,registerVersion:()=>Hr,setLogLevel:()=>Gr});var r=n(791),i=n.t(r,2),s=n(250);function o(e,t){return function(){return e.apply(t,arguments)}}const{toString:a}=Object.prototype,{getPrototypeOf:l}=Object,c=(u=Object.create(null),e=>{const t=a.call(e);return u[t]||(u[t]=t.slice(8,-1).toLowerCase())});var u;const h=e=>(e=e.toLowerCase(),t=>c(t)===e),d=e=>t=>typeof t===e,{isArray:f}=Array,p=d("undefined");const m=h("ArrayBuffer");const g=d("string"),y=d("function"),v=d("number"),w=e=>null!==e&&"object"===typeof e,b=e=>{if("object"!==c(e))return!1;const t=l(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},E=h("Date"),_=h("File"),I=h("Blob"),S=h("FileList"),x=h("URLSearchParams");function T(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),f(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function k(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const N="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,C=e=>!p(e)&&e!==N;const A=(R="undefined"!==typeof Uint8Array&&l(Uint8Array),e=>R&&e instanceof R);var R;const D=h("HTMLFormElement"),P=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),O=h("RegExp"),j=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};T(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},L="abcdefghijklmnopqrstuvwxyz",M="0123456789",F={DIGIT:M,ALPHA:L,ALPHA_DIGIT:L+L.toUpperCase()+M};const U=h("AsyncFunction"),V={isArray:f,isArrayBuffer:m,isBuffer:function(e){return null!==e&&!p(e)&&null!==e.constructor&&!p(e.constructor)&&y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||y(e.append)&&("formdata"===(t=c(e))||"object"===t&&y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&m(e.buffer),t},isString:g,isNumber:v,isBoolean:e=>!0===e||!1===e,isObject:w,isPlainObject:b,isUndefined:p,isDate:E,isFile:_,isBlob:I,isRegExp:O,isFunction:y,isStream:e=>w(e)&&y(e.pipe),isURLSearchParams:x,isTypedArray:A,isFileList:S,forEach:T,merge:function e(){const{caseless:t}=C(this)&&this||{},n={},r=(r,i)=>{const s=t&&k(n,i)||i;b(n[s])&&b(r)?n[s]=e(n[s],r):b(r)?n[s]=e({},r):f(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&T(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return T(t,((t,r)=>{n&&y(t)?e[r]=o(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&l(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:c,kindOfTest:h,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(f(e))return e;let t=e.length;if(!v(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:D,hasOwnProperty:P,hasOwnProp:P,reduceDescriptors:j,freezeMethods:e=>{j(e,((t,n)=>{if(y(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];y(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return f(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:k,global:N,isContextDefined:C,ALPHABET:F,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:F.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(w(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=f(e)?[]:{};return T(e,((e,t)=>{const s=n(e,r+1);!p(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:U,isThenable:e=>e&&(w(e)||y(e))&&y(e.then)&&y(e.catch)};function B(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}V.inherits(B,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:V.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const z=B.prototype,q={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{q[e]={value:e}})),Object.defineProperties(B,q),Object.defineProperty(z,"isAxiosError",{value:!0}),B.from=(e,t,n,r,i,s)=>{const o=Object.create(z);return V.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),B.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const W=B;function H(e){return V.isPlainObject(e)||V.isArray(e)}function K(e){return V.endsWith(e,"[]")?e.slice(0,-2):e}function G(e,t,n){return e?e.concat(t).map((function(e,t){return e=K(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Q=V.toFlatObject(V,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Y=function(e,t,n){if(!V.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=V.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!V.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&V.isSpecCompliantForm(t);if(!V.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(V.isDate(e))return e.toISOString();if(!a&&V.isBlob(e))throw new W("Blob is not supported. Use a Buffer instead.");return V.isArrayBuffer(e)||V.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(V.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(V.isArray(e)&&function(e){return V.isArray(e)&&!e.some(H)}(e)||(V.isFileList(e)||V.endsWith(n,"[]"))&&(a=V.toArray(e)))return n=K(n),a.forEach((function(e,r){!V.isUndefined(e)&&null!==e&&t.append(!0===o?G([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!H(e)||(t.append(G(i,n,s),l(e)),!1)}const u=[],h=Object.assign(Q,{defaultVisitor:c,convertValue:l,isVisitable:H});if(!V.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!V.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),V.forEach(n,(function(n,s){!0===(!(V.isUndefined(n)||null===n)&&i.call(t,n,V.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function J(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function X(e,t){this._pairs=[],e&&Y(e,this,t)}const $=X.prototype;$.append=function(e,t){this._pairs.push([e,t])},$.toString=function(e){const t=e?function(t){return e.call(this,t,J)}:J;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Z=X;function ee(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function te(e,t,n){if(!t)return e;const r=n&&n.encode||ee,i=n&&n.serialize;let s;if(s=i?i(t,n):V.isURLSearchParams(t)?t.toString():new Z(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const ne=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){V.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},re={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ie={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Z,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},se="undefined"!==typeof window&&"undefined"!==typeof document,oe=(ae="undefined"!==typeof navigator&&navigator.product,se&&["ReactNative","NativeScript","NS"].indexOf(ae)<0);var ae;const le="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ce={...e,...ie};const ue=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&V.isArray(r)?r.length:s,a)return V.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&V.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&V.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(V.isFormData(e)&&V.isFunction(e.entries)){const n={};return V.forEachEntry(e,((e,r)=>{t(function(e){return V.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const he={transitional:re,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=V.isObject(e);i&&V.isHTMLForm(e)&&(e=new FormData(e));if(V.isFormData(e))return r&&r?JSON.stringify(ue(e)):e;if(V.isArrayBuffer(e)||V.isBuffer(e)||V.isStream(e)||V.isFile(e)||V.isBlob(e))return e;if(V.isArrayBufferView(e))return e.buffer;if(V.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Y(e,new ce.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ce.isNode&&V.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=V.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Y(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(V.isString(e))try{return(t||JSON.parse)(e),V.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||he.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&V.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw W.from(i,W.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ce.classes.FormData,Blob:ce.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};V.forEach(["delete","get","head","post","put","patch"],(e=>{he.headers[e]={}}));const de=he,fe=V.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),pe=Symbol("internals");function me(e){return e&&String(e).trim().toLowerCase()}function ge(e){return!1===e||null==e?e:V.isArray(e)?e.map(ge):String(e)}function ye(e,t,n,r,i){return V.isFunction(r)?r.call(this,t,n):(i&&(t=n),V.isString(t)?V.isString(r)?-1!==t.indexOf(r):V.isRegExp(r)?r.test(t):void 0:void 0)}class ve{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=me(t);if(!i)throw new Error("header name must be a non-empty string");const s=V.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=ge(e))}const s=(e,t)=>V.forEach(e,((e,n)=>i(e,n,t)));return V.isPlainObject(e)||e instanceof this.constructor?s(e,t):V.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&fe[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=me(e)){const n=V.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(V.isFunction(t))return t.call(this,e,n);if(V.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=me(e)){const n=V.findKey(this,e);return!(!n||void 0===this[n]||t&&!ye(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=me(e)){const i=V.findKey(n,e);!i||t&&!ye(0,n[i],i,t)||(delete n[i],r=!0)}}return V.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!ye(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return V.forEach(this,((r,i)=>{const s=V.findKey(n,i);if(s)return t[s]=ge(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=ge(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return V.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&V.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[pe]=this[pe]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=me(e);t[r]||(!function(e,t){const n=V.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return V.isArray(e)?e.forEach(r):r(e),this}}ve.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),V.reduceDescriptors(ve.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),V.freezeMethods(ve);const we=ve;function be(e,t){const n=this||de,r=t||n,i=we.from(r.headers);let s=r.data;return V.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Ee(e){return!(!e||!e.__CANCEL__)}function _e(e,t,n){W.call(this,null==e?"canceled":e,W.ERR_CANCELED,t,n),this.name="CanceledError"}V.inherits(_e,W,{__CANCEL__:!0});const Ie=_e;const Se=ce.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];V.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),V.isString(r)&&o.push("path="+r),V.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function xe(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Te=ce.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=V.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const ke=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function Ne(e,t){let n=0;const r=ke(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const Ce={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=we.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(V.isFormData(r))if(ce.hasStandardBrowserEnv||ce.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const h=xe(e.baseURL,e.url);function d(){if(!u)return;const r=we.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new W("Request failed with status code "+n.status,[W.ERR_BAD_REQUEST,W.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),te(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new W("Request aborted",W.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new W("Network Error",W.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||re;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new W(t,r.clarifyTimeoutError?W.ETIMEDOUT:W.ECONNABORTED,e,u)),u=null},ce.hasStandardBrowserEnv&&(l&&V.isFunction(l)&&(l=l(e)),l||!1!==l&&Te(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&Se.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&V.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),V.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",Ne(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",Ne(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new Ie(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);f&&-1===ce.protocols.indexOf(f)?n(new W("Unsupported protocol "+f+":",W.ERR_BAD_REQUEST,e)):u.send(r||null)}))}};V.forEach(Ce,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ae=e=>"- ".concat(e),Re=e=>V.isFunction(e)||null===e||!1===e,De=e=>{e=V.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Re(n)&&(r=Ce[(t=String(n)).toLowerCase()],void 0===r))throw new W("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(Ae).join("\n"):" "+Ae(e[0]):"as no adapter specified";throw new W("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Pe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ie(null,e)}function Oe(e){Pe(e),e.headers=we.from(e.headers),e.data=be.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return De(e.adapter||de.adapter)(e).then((function(t){return Pe(e),t.data=be.call(e,e.transformResponse,t),t.headers=we.from(t.headers),t}),(function(t){return Ee(t)||(Pe(e),t&&t.response&&(t.response.data=be.call(e,e.transformResponse,t.response),t.response.headers=we.from(t.response.headers))),Promise.reject(t)}))}const je=e=>e instanceof we?e.toJSON():e;function Le(e,t){t=t||{};const n={};function r(e,t,n){return V.isPlainObject(e)&&V.isPlainObject(t)?V.merge.call({caseless:n},e,t):V.isPlainObject(t)?V.merge({},t):V.isArray(t)?t.slice():t}function i(e,t,n){return V.isUndefined(t)?V.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!V.isUndefined(t))return r(void 0,t)}function o(e,t){return V.isUndefined(t)?V.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(je(e),je(t),!0)};return V.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);V.isUndefined(o)&&s!==a||(n[r]=o)})),n}const Me="1.6.5",Fe={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Fe[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ue={};Fe.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new W(r(i," has been removed"+(t?" in "+t:"")),W.ERR_DEPRECATED);return t&&!Ue[i]&&(Ue[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const Ve={assertOptions:function(e,t,n){if("object"!==typeof e)throw new W("options must be an object",W.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new W("option "+s+" must be "+n,W.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new W("Unknown option "+s,W.ERR_BAD_OPTION)}},validators:Fe},Be=Ve.validators;class ze{constructor(e){this.defaults=e,this.interceptors={request:new ne,response:new ne}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Le(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Ve.assertOptions(n,{silentJSONParsing:Be.transitional(Be.boolean),forcedJSONParsing:Be.transitional(Be.boolean),clarifyTimeoutError:Be.transitional(Be.boolean)},!1),null!=r&&(V.isFunction(r)?t.paramsSerializer={serialize:r}:Ve.assertOptions(r,{encode:Be.function,serialize:Be.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&V.merge(i.common,i[t.method]);i&&V.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=we.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[Oe.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=o.length;let d=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(f){t.call(this,f);break}}try{c=Oe.call(this,d)}catch(f){return Promise.reject(f)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return te(xe((e=Le(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}V.forEach(["delete","get","head","options"],(function(e){ze.prototype[e]=function(t,n){return this.request(Le(n||{},{method:e,url:t,data:(n||{}).data}))}})),V.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(Le(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}ze.prototype[e]=t(),ze.prototype[e+"Form"]=t(!0)}));const qe=ze;class We{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Ie(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new We((function(t){e=t})),cancel:e}}}const He=We;const Ke={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ke).forEach((e=>{let[t,n]=e;Ke[n]=t}));const Ge=Ke;const Qe=function e(t){const n=new qe(t),r=o(qe.prototype.request,n);return V.extend(r,qe.prototype,n,{allOwnKeys:!0}),V.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Le(t,n))},r}(de);Qe.Axios=qe,Qe.CanceledError=Ie,Qe.CancelToken=He,Qe.isCancel=Ee,Qe.VERSION=Me,Qe.toFormData=Y,Qe.AxiosError=W,Qe.Cancel=Qe.CanceledError,Qe.all=function(e){return Promise.all(e)},Qe.spread=function(e){return function(t){return e.apply(null,t)}},Qe.isAxiosError=function(e){return V.isObject(e)&&!0===e.isAxiosError},Qe.mergeConfig=Le,Qe.AxiosHeaders=we,Qe.formToJSON=e=>ue(V.isHTMLForm(e)?new FormData(e):e),Qe.getAdapter=De,Qe.HttpStatusCode=Ge,Qe.default=Qe;const Ye=Qe;function Je(){return Je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}var Xe;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Xe||(Xe={}));const $e="popstate";function Ze(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function et(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function tt(e,t){return{usr:e.state,key:e.key,idx:t}}function nt(e,t,n,r){return void 0===n&&(n=null),Je({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?it(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function rt(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function it(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function st(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Xe.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function h(){a=Xe.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:rt(e);return Ze(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==c&&(c=0,o.replaceState(Je({},o.state,{idx:c}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($e,h),l=e,()=>{i.removeEventListener($e,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=Xe.Push;let r=nt(f.location,e,t);n&&n(r,e),c=u()+1;let h=tt(r,c),d=f.createHref(r);try{o.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=Xe.Replace;let r=nt(f.location,e,t);n&&n(r,e),c=u();let i=tt(r,c),h=f.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var ot;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(ot||(ot={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function at(e,t,n){void 0===n&&(n="/");let r=Et(("string"===typeof t?it(t):t).pathname||"/",n);if(null==r)return null;let i=lt(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o)s=vt(i[o],bt(r));return s}function lt(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Ze(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=Tt([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Ze(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),lt(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:yt(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of ct(e.path))i(e,t,r);else i(e,t)})),t}function ct(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=ct(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const ut=/^:\w+$/,ht=3,dt=2,ft=1,pt=10,mt=-2,gt=e=>"*"===e;function yt(e,t){let n=e.split("/"),r=n.length;return n.some(gt)&&(r+=mt),t&&(r+=dt),n.filter((e=>!gt(e))).reduce(((e,t)=>e+(ut.test(t)?ht:""===t?ft:pt)),r)}function vt(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=wt({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:Tt([i,c.pathname]),pathnameBase:kt(Tt([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=Tt([i,c.pathnameBase]))}return s}function wt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);et("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return et(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function bt(e){try{return decodeURI(e)}catch(t){return et(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function Et(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function _t(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function It(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function St(e){return It(e).map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function xt(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=it(e):(i=Je({},e),Ze(!i.pathname||!i.pathname.includes("?"),_t("?","pathname","search",i)),Ze(!i.pathname||!i.pathname.includes("#"),_t("#","pathname","hash",i)),Ze(!i.search||!i.search.includes("#"),_t("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?it(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Nt(r),hash:Ct(i)}}(i,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const Tt=e=>e.join("/").replace(/\/\/+/g,"/"),kt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Nt=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ct=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function At(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const Rt=["post","put","patch","delete"],Dt=(new Set(Rt),["get",...Rt]);new Set(Dt),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function Pt(){return Pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pt.apply(this,arguments)}const Ot=r.createContext(null);const jt=r.createContext(null);const Lt=r.createContext(null);const Mt=r.createContext(null);const Ft=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Ut=r.createContext(null);function Vt(){return null!=r.useContext(Mt)}function Bt(){return Vt()||Ze(!1),r.useContext(Mt).location}function zt(e){r.useContext(Lt).static||r.useLayoutEffect(e)}function qt(){let{isDataRoute:e}=r.useContext(Ft);return e?function(){let{router:e}=en($t.UseNavigateStable),t=nn(Zt.UseNavigateStable),n=r.useRef(!1);zt((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,Pt({fromRouteId:t},i)))}),[e,t]);return i}():function(){Vt()||Ze(!1);let e=r.useContext(Ot),{basename:t,navigator:n}=r.useContext(Lt),{matches:i}=r.useContext(Ft),{pathname:s}=Bt(),o=JSON.stringify(St(i)),a=r.useRef(!1);return zt((()=>{a.current=!0})),r.useCallback((function(r,i){if(void 0===i&&(i={}),!a.current)return;if("number"===typeof r)return void n.go(r);let l=xt(r,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:Tt([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,o,s,e])}()}const Wt=r.createContext(null);function Ht(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(Ft),{pathname:s}=Bt(),o=JSON.stringify(St(i));return r.useMemo((()=>xt(e,JSON.parse(o),s,"path"===n)),[e,o,s,n])}function Kt(e,t,n){Vt()||Ze(!1);let{navigator:i}=r.useContext(Lt),{matches:s}=r.useContext(Ft),o=s[s.length-1],a=o?o.params:{},l=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let c,u=Bt();if(t){var h;let e="string"===typeof t?it(t):t;"/"===l||(null==(h=e.pathname)?void 0:h.startsWith(l))||Ze(!1),c=e}else c=u;let d=c.pathname||"/",f=at(e,{pathname:"/"===l?d:d.slice(l.length)||"/"});let p=Xt(f&&f.map((e=>Object.assign({},e,{params:Object.assign({},a,e.params),pathname:Tt([l,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:Tt([l,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),s,n);return t&&p?r.createElement(Mt.Provider,{value:{location:Pt({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Xe.Pop}},p):p}function Gt(){let e=function(){var e;let t=r.useContext(Ut),n=tn(Zt.UseRouteError),i=nn(Zt.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=At(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const Qt=r.createElement(Gt,null);class Yt extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(Ft.Provider,{value:this.props.routeContext},r.createElement(Ut.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Jt(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(Ot);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Ft.Provider,{value:t},i)}function Xt(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let o=e,a=null==(i=n)?void 0:i.errors;if(null!=a){let e=o.findIndex((e=>e.route.id&&(null==a?void 0:a[e.route.id])));e>=0||Ze(!1),o=o.slice(0,Math.min(o.length,e+1))}return o.reduceRight(((e,i,s)=>{let l=i.route.id?null==a?void 0:a[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Qt);let u=t.concat(o.slice(0,s+1)),h=()=>{let t;return t=l?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(Jt,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(Yt,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var $t=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($t||{}),Zt=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Zt||{});function en(e){let t=r.useContext(Ot);return t||Ze(!1),t}function tn(e){let t=r.useContext(jt);return t||Ze(!1),t}function nn(e){let t=function(e){let t=r.useContext(Ft);return t||Ze(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||Ze(!1),n.route.id}i.startTransition;function rn(e){return function(e){let t=r.useContext(Ft).outlet;return t?r.createElement(Wt.Provider,{value:e},t):t}(e.context)}function sn(e){Ze(!1)}function on(e){let{basename:t="/",children:n=null,location:i,navigationType:s=Xe.Pop,navigator:o,static:a=!1}=e;Vt()&&Ze(!1);let l=t.replace(/^\/*/,"/"),c=r.useMemo((()=>({basename:l,navigator:o,static:a})),[l,o,a]);"string"===typeof i&&(i=it(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=r.useMemo((()=>{let e=Et(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}}),[l,u,h,d,f,p,s]);return null==m?null:r.createElement(Lt.Provider,{value:c},r.createElement(Mt.Provider,{children:n,value:m}))}function an(e){let{children:t,location:n}=e;return Kt(ln(t),n)}new Promise((()=>{}));r.Component;function ln(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ln(e.props.children,s));e.type!==sn&&Ze(!1),e.props.index&&e.props.children&&Ze(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ln(e.props.children,s)),n.push(o)})),n}var cn=n(164),un=n.t(cn,2);function hn(){return hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(this,arguments)}function dn(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const fn=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const pn=i.startTransition;un.flushSync;function mn(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),st((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return nt("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:rt(t)}),null,a)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&pn?pn((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.createElement(on,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}const gn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,yn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vn=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,unstable_viewTransition:d}=e,f=dn(e,fn),{basename:p}=r.useContext(Lt),m=!1;if("string"===typeof u&&yn.test(u)&&(n=u,gn))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Et(t.pathname,p);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:m=!0}catch(v){}let g=function(e,t){let{relative:n}=void 0===t?{}:t;Vt()||Ze(!1);let{basename:i,navigator:s}=r.useContext(Lt),{hash:o,pathname:a,search:l}=Ht(e,{relative:n}),c=a;return"/"!==i&&(c="/"===a?i:Tt([i,a])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),y=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=qt(),u=Bt(),h=Ht(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:rt(u)===rt(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,n,e,o,a,l])}(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:s,unstable_viewTransition:d});return r.createElement("a",hn({},f,{href:n||g,onClick:m||o?i:function(e){i&&i(e),e.defaultPrevented||y(e)},ref:t,target:c}))}));var wn,bn;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(wn||(wn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(bn||(bn={}));const En=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},_n={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(En(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new In;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class In extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sn=function(e){return function(e){const t=En(e);return _n.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xn=function(e){try{return _n.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Tn(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Tn(e[n],t[n]));return e}const kn=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Nn=()=>{try{return kn()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&xn(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Cn=()=>{var e;return null===(e=Nn())||void 0===e?void 0:e.config};class An{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Rn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dn(){var e;const t=null===(e=Nn())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function Pn(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function On(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function jn(){const e=Rn();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ln(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Mn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fn.prototype.create)}}class Fn{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Un,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Mn(n,s,t)}}const Un=/\{\$([^}]+)}/g;function Vn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Bn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(zn(n)&&zn(s)){if(!Bn(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zn(e){return null!==e&&"object"===typeof e}function qn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Wn(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Hn(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Kn(e,t){const n=new Gn(e,t);return n.subscribe.bind(n)}class Gn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Qn),void 0===r.error&&(r.error=Qn),void 0===r.complete&&(r.complete=Qn);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Qn(){}function Yn(e){return e&&e._delegate?e._delegate:e}class Jn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xn="[DEFAULT]";class $n{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new An;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Xn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xn;return this.component?this.component.multipleInstances?e:Xn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Zn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new $n(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const er=[];var tr;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(tr||(tr={}));const nr={debug:tr.DEBUG,verbose:tr.VERBOSE,info:tr.INFO,warn:tr.WARN,error:tr.ERROR,silent:tr.SILENT},rr=tr.INFO,ir={[tr.DEBUG]:"log",[tr.VERBOSE]:"log",[tr.INFO]:"info",[tr.WARN]:"warn",[tr.ERROR]:"error"},sr=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=ir[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class or{constructor(e){this.name=e,this._logLevel=rr,this._logHandler=sr,this._userLogHandler=null,er.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tr))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?nr[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tr.DEBUG,...t),this._logHandler(this,tr.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tr.VERBOSE,...t),this._logHandler(this,tr.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tr.INFO,...t),this._logHandler(this,tr.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tr.WARN,...t),this._logHandler(this,tr.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,tr.ERROR,...t),this._logHandler(this,tr.ERROR,...t)}}const ar=(e,t)=>t.some((t=>e instanceof t));let lr,cr;const ur=new WeakMap,hr=new WeakMap,dr=new WeakMap,fr=new WeakMap,pr=new WeakMap;let mr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return hr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function gr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(cr||(cr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(wr(this),n),vr(ur.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vr(e.apply(wr(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(wr(this),t,...r);return dr.set(s,t.sort?t.sort():[t]),vr(s)}}function yr(e){return"function"===typeof e?gr(e):(e instanceof IDBTransaction&&function(e){if(hr.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));hr.set(e,t)}(e),ar(e,lr||(lr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,mr):e)}function vr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(vr(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ur.set(t,e)})).catch((()=>{})),pr.set(t,e),t}(e);if(fr.has(e))return fr.get(e);const t=yr(e);return t!==e&&(fr.set(e,t),pr.set(t,e)),t}const wr=e=>pr.get(e);const br=["get","getKey","getAll","getAllKeys","count"],Er=["put","add","delete","clear"],_r=new Map;function Ir(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(_r.get(t))return _r.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Er.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!br.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return _r.set(t,s),s}mr=(e=>({...e,get:(t,n,r)=>Ir(t,n)||e.get(t,n,r),has:(t,n)=>!!Ir(t,n)||e.has(t,n)}))(mr);class Sr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const xr="@firebase/app",Tr="0.9.25",kr=new or("@firebase/app"),Nr="[DEFAULT]",Cr={[xr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ar=new Map,Rr=new Map;function Dr(e,t){try{e.container.addComponent(t)}catch(n){kr.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pr(e,t){e.container.addOrOverwriteComponent(t)}function Or(e){const t=e.name;if(Rr.has(t))return kr.debug("There were multiple attempts to register component ".concat(t,".")),!1;Rr.set(t,e);for(const n of Ar.values())Dr(n,e);return!0}function jr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Lr(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nr;jr(e,t).clearInstance(n)}function Mr(){Rr.clear()}const Fr=new Fn("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ur{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Jn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const Vr="10.7.1";function Br(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Nr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=Cn()),!n)throw Fr.create("no-options");const s=Ar.get(i);if(s){if(Bn(n,s.options)&&Bn(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new Zn(i);for(const l of Rr.values())o.addComponent(l);const a=new Ur(n,r,o);return Ar.set(i,a),a}function zr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nr;const t=Ar.get(e);if(!t&&e===Nr&&Cn())return Br();if(!t)throw Fr.create("no-app",{appName:e});return t}function qr(){return Array.from(Ar.values())}async function Wr(e){const t=e.name;Ar.has(t)&&(Ar.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Hr(e,t,n){var r;let i=null!==(r=Cr[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kr.warn(e.join(" "))}Or(new Jn("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Kr(e,t){if(null!==e&&"function"!==typeof e)throw Fr.create("invalid-log-argument");!function(e,t){for(const n of er){let r=null;t&&t.level&&(r=nr[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:tr[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Gr(e){var t;t=e,er.forEach((e=>{e.setLogLevel(t)}))}const Qr="firebase-heartbeat-database",Yr=1,Jr="firebase-heartbeat-store";let Xr=null;function $r(){return Xr||(Xr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=vr(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(vr(o.result),e.oldVersion,e.newVersion,vr(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Qr,Yr,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Jr)}}).catch((e=>{throw Fr.create("idb-open",{originalErrorMessage:e.message})}))),Xr}async function Zr(e,t){try{const n=(await $r()).transaction(Jr,"readwrite"),r=n.objectStore(Jr);await r.put(t,ei(e)),await n.done}catch(n){if(n instanceof Mn)kr.warn(n.message);else{const e=Fr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});kr.warn(e.message)}}}function ei(e){return"".concat(e.name,"!").concat(e.options.appId)}class ti{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ri(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ni();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ni(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),ii(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ii(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Sn(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ni(){return(new Date).toISOString().substring(0,10)}class ri{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ln()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await $r();return await t.transaction(Jr).objectStore(Jr).get(ei(e))}catch(t){if(t instanceof Mn)kr.warn(t.message);else{const e=Fr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});kr.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Zr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function ii(e){return Sn(JSON.stringify({version:2,heartbeats:e})).length}var si;si="",Or(new Jn("platform-logger",(e=>new Sr(e)),"PRIVATE")),Or(new Jn("heartbeat",(e=>new ti(e)),"PRIVATE")),Hr(xr,Tr,si),Hr(xr,Tr,"esm2017"),Hr("fire-js","");class oi{constructor(e,t){this._delegate=e,this.firebase=t,Dr(e,new Jn("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),Wr(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nr;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Nr;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Dr(this._delegate,e)}_addOrOverwriteComponent(e){Pr(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ai=new Fn("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const li=function e(){const n=function(e){const n={},r={__esModule:!0,initializeApp:function(t){const i=Br(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Vn(n,i.name))return n[i.name];const s=new e(i,r);return n[i.name]=s,s},app:i,registerVersion:Hr,setLogLevel:Gr,onLog:Kr,apps:null,SDK_VERSION:Vr,INTERNAL:{registerComponent:function(t){const n=t.name,s=n.replace("-compat","");if(Or(t)&&"PUBLIC"===t.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw ai.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==t.serviceProps&&Tn(o,t.serviceProps),r[s]=o,e.prototype[s]=function(){const e=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e.apply(this,t.multipleInstances?i:[])}}return"PUBLIC"===t.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:t}};function i(e){if(!Vn(n,e=e||Nr))throw ai.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=e,r}(oi);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Tn(n,e)},createSubscribe:Kn,ErrorFactory:Fn,deepExtend:Tn}),n}(),ci=new or("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ci.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&ci.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ui=li;!function(e){Hr("@firebase/app-compat","0.2.25",e)}();ui.registerVersion("firebase","10.7.1","app-compat");function hi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const di={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fi="EMAIL_SIGNIN",pi="PASSWORD_RESET",mi="RECOVER_EMAIL",gi="REVERT_SECOND_FACTOR_ADDITION",yi="VERIFY_AND_CHANGE_EMAIL",vi="VERIFY_EMAIL";function wi(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bi=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Ei=wi,_i=new Fn("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ii=new or("@firebase/auth");function Si(e){if(Ii.logLevel<=tr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ii.error("Auth (".concat(Vr,"): ").concat(e),...n)}}function xi(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ci(e,...n)}function Ti(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ci(e,...n)}function ki(e,t,n){const r=Object.assign(Object.assign({},Ei()),{[t]:n});return new Fn("auth","Firebase",r).create(t,{appName:e.name})}function Ni(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&xi(e,"argument-error"),ki(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ci(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return _i.create(e,...n)}function Ai(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ci(t,...r)}}function Ri(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Si(t),new Error(t)}function Di(e,t){e||Ri(t)}function Pi(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Oi(){return"http:"===ji()||"https:"===ji()}function ji(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Li{constructor(e,t){this.shortDelay=e,this.longDelay=t,Di(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())||On()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Oi()||Pn()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Mi(e,t){Di(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Fi{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ui={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vi=new Li(3e4,6e4);function Bi(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function zi(e,t,n,r){return qi(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=qn(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Fi.fetch()(Hi(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function qi(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ui),t);try{const t=new Gi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Qi(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Qi(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Qi(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Qi(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw ki(e,a,o);xi(e,a)}}catch(i){if(i instanceof Mn)throw i;xi(e,"network-request-failed",{message:String(i)})}}async function Wi(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await zi(e,t,n,r,i);return"mfaPendingCredential"in s&&xi(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Hi(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Mi(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ki(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gi{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Ti(this.auth,"network-request-failed"))),Vi.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ti(e,t,r);return i.customData._tokenResponse=n,i}function Yi(e){return void 0!==e&&void 0!==e.getResponse}function Ji(e){return void 0!==e&&void 0!==e.enterprise}class Xi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ki(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function $i(e,t){return zi(e,"GET","/v2/recaptchaConfig",Bi(e,t))}function Zi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function es(e){return 1e3*Number(e)}function ts(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Si("JWT malformed, contained fewer than 3 sections"),null;try{const e=xn(n);return e?JSON.parse(e):(Si("Failed to decode base64 JWT payload"),null)}catch(i){return Si("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function ns(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Mn&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class rs{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class is{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zi(this.lastLoginAt),this.creationTime=Zi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ss(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ns(e,async function(e,t){return zi(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Ai(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=hi(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new is(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class os{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ai(e.idToken,"internal-error"),Ai("undefined"!==typeof e.idToken,"internal-error"),Ai("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=ts(e);return Ai(t,"internal-error"),Ai("undefined"!==typeof t.exp,"internal-error"),Ai("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ai(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qi(e,{},(async()=>{const n=qn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Hi(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Fi.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new os;return n&&(Ai("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Ai("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Ai("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new os,this.toJSON())}_performRefresh(){return Ri("not implemented")}}function as(e,t){Ai("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ls{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=hi(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new is(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ns(this,this.stsTokenManager.getToken(this.auth,e));return Ai(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Yn(e),r=await n.getIdToken(t),i=ts(r);Ai(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zi(es(i.auth_time)),issuedAtTime:Zi(es(i.iat)),expirationTime:Zi(es(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Yn(e);await ss(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Ai(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ls(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ai(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ss(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ns(this,async function(e,t){return zi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:w,isAnonymous:b,providerData:E,stsTokenManager:_}=t;Ai(v&&_,e,"internal-error");const I=os.fromJSON(this.name,_);Ai("string"===typeof v,e,"internal-error"),as(u,e.name),as(h,e.name),Ai("boolean"===typeof w,e,"internal-error"),Ai("boolean"===typeof b,e,"internal-error"),as(d,e.name),as(f,e.name),as(p,e.name),as(m,e.name),as(g,e.name),as(y,e.name);const S=new ls({uid:v,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:y});return E&&Array.isArray(E)&&(S.providerData=E.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new os;r.updateFromServerResponse(t);const i=new ls({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ss(i),i}}const cs=new Map;function us(e){Di(e instanceof Function,"Expected a class definition");let t=cs.get(e);return t?(Di(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,cs.set(e,t),t)}class hs{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}hs.type="NONE";const ds=hs;function fs(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class ps{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=fs(this.userKey,r.apiKey,i),this.fullPersistenceKey=fs("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ls._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new ps(us(ds),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||us(ds);const s=fs(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ls._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new ps(i,e,n)):new ps(i,e,n)}}function ms(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ws(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(gs(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Es(t))return"Blackberry";if(_s(t))return"Webos";if(ys(t))return"Safari";if((t.includes("chrome/")||vs(t))&&!t.includes("edge/"))return"Chrome";if(bs(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function gs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/firefox\//i.test(e)}function ys(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/crios\//i.test(e)}function ws(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/iemobile/i.test(e)}function bs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/android/i.test(e)}function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/blackberry/i.test(e)}function _s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/webos/i.test(e)}function Is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ss(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return Is(e)||bs(e)||_s(e)||Es(e)||/windows phone/i.test(e)||ws(e)}function xs(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ms(Rn());break;case"Worker":t="".concat(ms(Rn()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Vr,"/").concat(r)}class Ts{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ks{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ns{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new As(this),this.idTokenSubscription=new As(this),this.beforeStateQueue=new Ts(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_i,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=us(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await ps.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ai(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ss(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?Yn(e):null;return t&&Ai(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Ai(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(us(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return zi(e,"GET","/v2/passwordPolicy",Bi(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ks(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return zi(e,"POST","/v2/accounts:revokeToken",Bi(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&us(e)||this._popupRedirectResolver;Ai(t,this,"argument-error"),this.redirectPersistenceManager=await ps.create(this,[us(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ai(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ai(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ii.logLevel<=tr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ii.warn("Auth (".concat(Vr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Cs(e){return Yn(e)}class As{constructor(e){this.auth=e,this.observer=null,this.addObserver=Kn((e=>this.observer=e))}get next(){return Ai(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Rs(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Ti("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ds(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ps{constructor(e){this.type="recaptcha-enterprise",this.auth=Cs(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ji(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{$i(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Xi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Ji(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));Rs("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Os(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ps(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function js(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Os(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Os(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Ls(e,t,n){const r=Cs(e);Ai(r._canInitEmulator,r,"emulator-config-failed"),Ai(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ms(t),{host:o,port:a}=function(e){const t=Ms(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Fs(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Fs(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ms(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Fs(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Us{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function Vs(e,t){return zi(e,"POST","/v1/accounts:resetPassword",Bi(e,t))}async function Bs(e,t){return zi(e,"POST","/v1/accounts:signUp",t)}async function zs(e,t){return Wi(e,"POST","/v1/accounts:signInWithPassword",Bi(e,t))}async function qs(e,t){return zi(e,"POST","/v1/accounts:sendOobCode",Bi(e,t))}async function Ws(e,t){return qs(e,t)}async function Hs(e,t){return qs(e,t)}class Ks extends Us{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Ks(e,t,"password")}static _fromEmailAndCode(e,t){return new Ks(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return js(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",zs);case"emailLink":return async function(e,t){return Wi(e,"POST","/v1/accounts:signInWithEmailLink",Bi(e,t))}(e,{email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return js(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bs);case"emailLink":return async function(e,t){return Wi(e,"POST","/v1/accounts:signInWithEmailLink",Bi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:xi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Gs(e,t){return Wi(e,"POST","/v1/accounts:signInWithIdp",Bi(e,t))}class Qs extends Us{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):xi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=hi(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Qs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Gs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gs(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=qn(t)}return e}}const Ys={USER_NOT_FOUND:"user-not-found"};class Js extends Us{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Js({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Js({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Wi(e,"POST","/v1/accounts:signInWithPhoneNumber",Bi(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Wi(e,"POST","/v1/accounts:signInWithPhoneNumber",Bi(e,t));if(n.temporaryProof)throw Qi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Wi(e,"POST","/v1/accounts:signInWithPhoneNumber",Bi(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Ys)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Js({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Xs{constructor(e){var t,n,r,i,s,o;const a=Wn(Hn(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Ai(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Wn(Hn(e)).link,n=t?Wn(Hn(t)).deep_link_id:null,r=Wn(Hn(e)).deep_link_id;return(r?Wn(Hn(r)).link:null)||r||n||t||e}(e);try{return new Xs(t)}catch(n){return null}}}class $s{constructor(){this.providerId=$s.PROVIDER_ID}static credential(e,t){return Ks._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Xs.parseLink(t);return Ai(n,"argument-error"),Ks._fromEmailAndCode(e,n.code,n.tenantId)}}$s.PROVIDER_ID="password",$s.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$s.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Zs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class eo extends Zs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class to extends eo{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Ai("providerId"in t&&"signInMethod"in t,"argument-error"),Qs._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Ai(e.idToken||e.accessToken,"argument-error"),Qs._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return to.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return to.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new to(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(l){return null}}}class no extends eo{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:no.PROVIDER_ID,signInMethod:no.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return no.credentialFromTaggedObject(e)}static credentialFromError(e){return no.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return no.credential(t.oauthAccessToken)}catch(n){return null}}}no.FACEBOOK_SIGN_IN_METHOD="facebook.com",no.PROVIDER_ID="facebook.com";class ro extends eo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Qs._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ro.credentialFromTaggedObject(e)}static credentialFromError(e){return ro.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ro.credential(n,r)}catch(i){return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com",ro.PROVIDER_ID="google.com";class io extends eo{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:io.PROVIDER_ID,signInMethod:io.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return io.credentialFromTaggedObject(e)}static credentialFromError(e){return io.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return io.credential(t.oauthAccessToken)}catch(n){return null}}}io.GITHUB_SIGN_IN_METHOD="github.com",io.PROVIDER_ID="github.com";class so extends Us{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Gs(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Gs(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Gs(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new so(n,i):null}static _create(e,t){return new so(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class oo extends Zs{constructor(e){Ai(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return oo.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return oo.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=so.fromJSON(e);return Ai(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return so._create(r,n)}catch(i){return null}}}class ao extends eo{constructor(){super("twitter.com")}static credential(e,t){return Qs._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ao.credential(n,r)}catch(i){return null}}}async function lo(e,t){return Wi(e,"POST","/v1/accounts:signUp",Bi(e,t))}ao.TWITTER_SIGN_IN_METHOD="twitter.com",ao.PROVIDER_ID="twitter.com";class co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ls._fromIdTokenResponse(e,n,r),s=uo(n);return new co({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=uo(n);return new co({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function uo(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ho extends Mn{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ho.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ho(e,t,n,r)}}function fo(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ho._fromErrorAndOperation(e,n,t,r);throw n}))}function po(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function mo(e,t){const n=Yn(e);await yo(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return zi(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=po(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function go(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ns(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return co._forOperation(e,"link",r)}async function yo(e,t,n){await ss(t);const r=!1===e?"provider-already-linked":"no-such-provider";Ai(po(t.providerData).has(n)===e,t.auth,r)}async function vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await ns(e,fo(r,i,t,e),n);Ai(s.idToken,r,"internal-error");const o=ts(s.idToken);Ai(o,r,"internal-error");const{sub:a}=o;return Ai(e.uid===a,r,"user-mismatch"),co._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&xi(r,"user-mismatch"),s}}async function wo(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await fo(e,r,t),s=await co._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function bo(e,t){return wo(Cs(e),t)}async function Eo(e,t){const n=Yn(e);return await yo(!1,n,t.providerId),go(n,t)}async function _o(e,t){return vo(Yn(e),t)}async function Io(e,t){const n=Cs(e),r=await async function(e,t){return Wi(e,"POST","/v1/accounts:signInWithCustomToken",Bi(e,t))}(n,{token:t,returnSecureToken:!0}),i=await co._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class So{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?xo._fromServerResponse(e,t):"totpInfo"in t?To._fromServerResponse(e,t):xi(e,"internal-error")}}class xo extends So{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new xo(t)}}class To extends So{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new To(t)}}function ko(e,t,n){var r;Ai((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Ai("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ai(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ai(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function No(e){const t=Cs(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Co(e,t){await async function(e,t){return zi(e,"POST","/v1/accounts:update",Bi(e,t))}(Yn(e),{oobCode:t})}async function Ao(e,t){const n=Yn(e),r=await Vs(n,{oobCode:t}),i=r.requestType;switch(Ai(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ai(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ai(r.mfaInfo,n,"internal-error");default:Ai(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=So._fromServerResponse(Cs(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Ro(e,t){const n={identifier:t,continueUri:Oi()?Pi():"http://localhost"},{signinMethods:r}=await async function(e,t){return zi(e,"POST","/v1/accounts:createAuthUri",Bi(e,t))}(Yn(e),n);return r||[]}async function Do(e,t){const n=Yn(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&ko(n.auth,r,t);const{email:i}=await async function(e,t){return qs(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function Po(e,t,n){const r=Yn(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&ko(r.auth,i,n);const{email:s}=await async function(e,t){return qs(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Oo(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=Yn(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ns(i,async function(e,t){return zi(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function jo(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ns(e,async function(e,t){return zi(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Lo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Mo extends Lo{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Fo extends Lo{constructor(e,t){super(e,"facebook.com",t)}}class Uo extends Mo{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Vo extends Lo{constructor(e,t){super(e,"google.com",t)}}class Bo extends Mo{constructor(e,t,n){super(e,"twitter.com",t,n)}}function zo(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ts(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Lo(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Fo(s,i);case"github.com":return new Uo(s,i);case"google.com":return new Vo(s,i);case"twitter.com":return new Bo(s,i,e.screenName||null);case"custom":case"anonymous":return new Lo(s,null);default:return new Lo(s,r,i)}}(n)}class qo{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new qo("enroll",e,t)}static _fromMfaPendingCredential(e){return new qo("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return qo._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return qo._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Wo{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Cs(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>So._fromServerResponse(n,e)));Ai(r.mfaPendingCredential,n,"internal-error");const s=qo._fromMfaPendingCredential(r.mfaPendingCredential);return new Wo(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await co._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Ai(t.user,n,"internal-error"),co._forOperation(t.user,t.operationType,o);default:xi(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Ho{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>So._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Ho(e)}async getSession(){return qo._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ns(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ns(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},zi(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Bi(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(s){throw s}var r,i}}const Ko=new WeakMap;const Go="__sak";class Qo{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Go,"1"),this.storage.removeItem(Go),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Yo extends Qo{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Rn();return ys(e)||Is(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Ss(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);jn()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yo.type="LOCAL";const Jo=Yo;class Xo extends Qo{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Xo.type="SESSION";const $o=Xo;class Zo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Zo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function ea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Zo.receivers=[];class ta{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=ea("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function na(){return window}function ra(){return"undefined"!==typeof na().WorkerGlobalScope&&"function"===typeof na().importScripts}const ia="firebaseLocalStorageDb",sa="firebaseLocalStorage",oa="fbase_key";class aa{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function la(e,t){return e.transaction([sa],t?"readwrite":"readonly").objectStore(sa)}function ca(){const e=indexedDB.open(ia,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(sa,{keyPath:oa})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(sa)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ia);return new aa(e).toPromise()}(),t(await ca()))}))}))}async function ua(e,t,n){const r=la(e,!0).put({[oa]:t,value:n});return new aa(r).toPromise()}function ha(e,t){const n=la(e,!0).delete(t);return new aa(n).toPromise()}class da{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ca()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ra()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zo._getInstance(ra()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ta(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ca();return await ua(e,Go,"1"),await ha(e,Go),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ua(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=la(e,!1).get(t),r=await new aa(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ha(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=la(e,!1).getAll();return new aa(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}da.type="LOCAL";const fa=da;const pa=1e12;class ma{constructor(e){this.auth=e,this.counter=pa,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new ga(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||pa;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||pa;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||pa;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class ga{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Ai(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ya=Ds("rcb"),va=new Li(3e4,6e4);class wa{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=na().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Ai(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Yi(na().grecaptcha)?Promise.resolve(na().grecaptcha):new Promise(((n,r)=>{const i=na().setTimeout((()=>{r(Ti(e,"network-request-failed"))}),va.get());na()[ya]=()=>{na().clearTimeout(i),delete na()[ya];const s=na().grecaptcha;if(!s||!Yi(s))return void r(Ti(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Rs("".concat("https://www.google.com/recaptcha/api.js?","?").concat(qn({onload:ya,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Ti(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=na().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ba{async load(e){return new ma(e)}clearedOneInstance(){}}const Ea="recaptcha",_a={theme:"light",type:"image"};class Ia{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},_a);this.parameters=n,this.type=Ea,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Cs(e),this.isInvisible="invisible"===this.parameters.size,Ai("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Ai(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ba:new wa,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Ai(!this.parameters.sitekey,this.auth,"argument-error"),Ai(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ai("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=na()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Ai(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ai(Oi()&&!ra(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await zi(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Ai(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ai(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sa{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Js._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function xa(e,t,n){var r;const i=await n.verify();try{let s;if(Ai("string"===typeof i,e,"argument-error"),Ai(n.type===Ea,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Ai("enroll"===t.type,e,"internal-error");const n=await function(e,t){return zi(e,"POST","/v2/accounts/mfaEnrollment:start",Bi(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Ai("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Ai(n,e,"missing-multi-factor-info");const o=await function(e,t){return zi(e,"POST","/v2/accounts/mfaSignIn:start",Bi(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return zi(e,"POST","/v1/accounts:sendVerificationCode",Bi(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ta{constructor(e){this.providerId=Ta.PROVIDER_ID,this.auth=Cs(e)}verifyPhoneNumber(e,t){return xa(this.auth,e,Yn(t))}static credential(e,t){return Js._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ta.credentialFromTaggedObject(t)}static credentialFromError(e){return Ta.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Js._fromTokenResponse(n,r):null}}function ka(e,t){return t?us(t):(Ai(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ta.PROVIDER_ID="phone",Ta.PHONE_SIGN_IN_METHOD="phone";class Na extends Us{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Gs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Gs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Gs(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ca(e){return wo(e.auth,new Na(e),e.bypassAuthState)}function Aa(e){const{auth:t,user:n}=e;return Ai(n,t,"internal-error"),vo(n,new Na(e),e.bypassAuthState)}async function Ra(e){const{auth:t,user:n}=e;return Ai(n,t,"internal-error"),go(n,new Na(e),e.bypassAuthState)}class Da{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ca;case"linkViaPopup":case"linkViaRedirect":return Ra;case"reauthViaPopup":case"reauthViaRedirect":return Aa;default:xi(this.auth,"internal-error")}}resolve(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pa=new Li(2e3,1e4);class Oa extends Da{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Oa.currentPopupAction&&Oa.currentPopupAction.cancel(),Oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ai(e,this.auth,"internal-error"),e}async onExecution(){Di(1===this.filter.length,"Popup operations only handle one event");const e=ea();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Ti(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Ti(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Pa.get())};e()}}Oa.currentPopupAction=null;const ja="pendingRedirect",La=new Map;class Ma extends Da{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=La.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Ba(t),r=Va(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}La.set(this.auth._key(),e)}return this.bypassAuthState||La.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Fa(e,t){return Va(e)._set(Ba(t),"true")}function Ua(e,t){La.set(e._key(),t)}function Va(e){return us(e._redirectPersistence)}function Ba(e){return fs(ja,e.config.apiKey,e.name)}function za(e,t,n){return async function(e,t,n){const r=Cs(e);Ni(e,t,Zs),await r._initializationPromise;const i=ka(r,n);return await Fa(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function qa(e,t,n){return async function(e,t,n){const r=Yn(e);Ni(r.auth,t,Zs),await r.auth._initializationPromise;const i=ka(r.auth,n);await Fa(i,r.auth);const s=await Ka(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Wa(e,t,n){return async function(e,t,n){const r=Yn(e);Ni(r.auth,t,Zs),await r.auth._initializationPromise;const i=ka(r.auth,n);await yo(!1,r,t.providerId),await Fa(i,r.auth);const s=await Ka(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Ha(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Cs(e),i=ka(r,t),s=new Ma(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function Ka(e){const t=ea("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Ga{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ya(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ya(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Ti(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qa(e))}saveEventToCache(e){this.cachedEventUids.add(Qa(e)),this.lastProcessedEventTime=Date.now()}}function Qa(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Ya(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function Ja(e){return zi(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Xa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$a=/^https?/;function Za(e){const t=Pi(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!$a.test(n))return!1;if(Xa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const el=new Li(3e4,6e4);function tl(){const e=na().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let nl=null;function rl(e){return nl=nl||function(e){return new Promise(((t,n)=>{var r,i,s;function o(){tl(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{tl(),n(Ti(e,"network-request-failed"))},timeout:el.get()})}if(null===(i=null===(r=na().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=na().gapi)||void 0===s?void 0:s.load)){const t=Ds("iframefcb");return na()[t]=()=>{gapi.load?o():n(Ti(e,"network-request-failed"))},Rs("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw nl=null,e}))}(e),nl}const il=new Li(5e3,15e3),sl="__/auth/iframe",ol="emulator/auth/iframe",al={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ll=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cl(e){const t=e.config;Ai(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Mi(t,ol):"https://".concat(e.config.authDomain,"/").concat(sl),r={apiKey:t.apiKey,appName:e.name,v:Vr},i=ll.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(qn(r).slice(1))}const ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hl{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function dl(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ul),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Rn().toLowerCase();n&&(a=vs(c)?"_blank":n),gs(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Is(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new hl(null);const h=window.open(t||"",a,u);Ai(h,e,"popup-blocked");try{h.focus()}catch(d){}return new hl(h)}const fl="__/auth/handler",pl="emulator/auth/handler",ml=encodeURIComponent("fac");async function gl(e,t,n,r,i,s){Ai(e.config.authDomain,e,"auth-domain-config-required"),Ai(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Vr,eventId:i};if(t instanceof Zs){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof eo){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ml,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(fl);return Mi(t,pl)}(e),"?").concat(qn(a).slice(1)).concat(c)}const yl="webStorageSupport";const vl=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$o,this._completeRedirectFn=Ha,this._overrideRedirectResult=Ua}async _openPopup(e,t,n,r){var i;Di(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return dl(e,await gl(e,t,n,Pi(),r),ea())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){na().location.href=e}(await gl(e,t,n,Pi(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Di(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await rl(e),n=na().gapi;return Ai(n,e,"internal-error"),t.open({where:document.body,url:cl(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:al,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Ti(e,"network-request-failed"),s=na().setTimeout((()=>{r(i)}),il.get());function o(){na().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}(e),n=new Ga(e);return t.register("authEvent",(t=>{Ai(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yl,{type:yl},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[yl];void 0!==i&&t(!!i),xi(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await Ja(e);for(const r of t)try{if(Za(r))return}catch(n){}xi(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ss()||ys()||Is()}};class wl{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ri("unexpected MultiFactorSessionType")}}}class bl extends wl{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new bl(e)}_finalizeEnroll(e,t,n){return function(e,t){return zi(e,"POST","/v2/accounts/mfaEnrollment:finalize",Bi(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return zi(e,"POST","/v2/accounts/mfaSignIn:finalize",Bi(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class El{constructor(){}static assertion(e){return bl._fromCredential(e)}}El.FACTOR_ID="phone";var _l="@firebase/auth",Il="1.5.1";class Sl{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ai(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Nn())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var xl;function Tl(){return window}xl="Browser",Or(new Jn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ai(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:xl,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xs(xl)},c=new Ns(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(us);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Or(new Jn("auth-internal",(e=>(e=>new Sl(e))(Cs(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(_l,Il,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(xl)),Hr(_l,Il,"esm2017");async function kl(e,t,n){var r;const{BuildInfo:i}=Tl();Di(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(Di(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return Is()?o.ibi=i.packageName:bs()?o.apn=i.packageName:xi(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,gl(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Nl(e){const{cordova:t}=Tl();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Cl=20;class Al extends Ga{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Rl(e){const t=await Ol()._get(jl(e));return t&&await Ol()._remove(jl(e)),t}function Dl(e,t){var n,r;const i=function(e){const t=Ll(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ll(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ll(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ll(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?Ti(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Pl(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Cl;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Ol(){return us(Jo)}function jl(e){return fs("authEvent",e.config.apiKey,e.name)}function Ll(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Wn(n.join("?"))}const Ml=class{constructor(){this._redirectPersistence=$o,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ha,this._overrideRedirectResult=Ua}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Al(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){xi(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,l,c,u;const h=Tl();Ai("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ai("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ai("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ai("function"===typeof(null===(l=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ai("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),La.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Pl(),postBody:null,tenantId:e.tenantId,error:Ti(e,"no-auth-event")}}(e,n,r);await function(e,t){return Ol()._set(jl(e),t)}(e,s);const o=await kl(e,s,t);return async function(e,t,n){const{cordova:r}=Tl();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout((()=>{o(Ti(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),bs()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Nl(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=Tl(),n={};Is()?n.iosBundleId=t.packageName:bs()?n.androidPackageName=t.packageName:xi(e,"operation-not-supported-in-this-environment"),await Ja(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=Tl(),s=setTimeout((async()=>{await Rl(e),t.onEvent(Fl())}),500),o=async n=>{clearTimeout(s);const r=await Rl(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=Dl(r,n.url)),t.onEvent(i||Fl())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,l="".concat(i.packageName.toLowerCase(),"://");Tl().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&o({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}};function Fl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ti("no-auth-event")}}function Ul(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Vl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return!("file:"!==Ul()&&"ionic:"!==Ul()&&"capacitor:"!==Ul()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Bl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return jn()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn();return/Edge\/\d+/.test(e)}(e)}function zl(){try{const e=self.localStorage,t=ea();if(e)return e.setItem(t,"1"),e.removeItem(t),!Bl()||Ln()}catch(e){return ql()&&Ln()}return!1}function ql(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Wl(){return("http:"===Ul()||"https:"===Ul()||Pn()||Vl())&&!(On()||Dn())&&zl()&&!ql()}function Hl(){return Vl()&&"undefined"!==typeof document}const Kl={LOCAL:"local",NONE:"none",SESSION:"session"},Gl=Ai,Ql="persistence";async function Yl(e){await e._initializationPromise;const t=Jl(),n=fs(Ql,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Jl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Xl=Ai;class $l{constructor(){this.browserResolver=us(vl),this.cordovaResolver=us(Ml),this.underlyingResolver=null,this._redirectPersistence=$o,this._completeRedirectFn=Ha,this._overrideRedirectResult=Ua}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Hl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xl(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!Hl()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Zl(e){return e.unwrap()}function ec(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new ic(e,function(e,t){var n;const r=Yn(e),i=t;return Ai(t.customData.operationType,r,"argument-error"),Ai(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Wo._fromError(r,i)}(e,t))}else if(r){const e=tc(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function tc(e){const{_tokenResponse:t}=e instanceof Mn?e.customData:e;if(!t)return null;if(!(e instanceof Mn)&&"temporaryProof"in t&&"phoneNumber"in t)return Ta.credentialFromResult(e);const n=t.providerId;if(!n||n===di.PASSWORD)return null;let r;switch(n){case di.GOOGLE:r=ro;break;case di.FACEBOOK:r=no;break;case di.GITHUB:r=io;break;case di.TWITTER:r=ao;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?so._create(n,o):Qs._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new to(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof Mn?r.credentialFromError(e):r.credentialFromResult(e)}function nc(e,t){return t.catch((t=>{throw t instanceof Mn&&ec(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,tc(r)),additionalUserInfo:zo(e),user:sc.getOrCreate(n)};var r}))}async function rc(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>nc(e,n.confirm(t))}}class ic{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return nc(Zl(this.auth),this.resolver.resolveSignIn(e))}}class sc{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=Yn(e);return Ko.has(t)||Ko.set(t,Ho._fromUser(t)),Ko.get(t)}(e)}static getOrCreate(e){return sc.USER_MAP.has(e)||sc.USER_MAP.set(e,new sc(e)),sc.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return nc(this.auth,Eo(this._delegate,e))}async linkWithPhoneNumber(e,t){return rc(this.auth,async function(e,t,n){const r=Yn(e);await yo(!1,r,"phone");const i=await xa(r.auth,t,Yn(n));return new Sa(i,(e=>Eo(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return nc(this.auth,async function(e,t,n){const r=Yn(e);Ni(r.auth,t,Zs);const i=ka(r.auth,n);return new Oa(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,$l))}async linkWithRedirect(e){return await Yl(Cs(this.auth)),Wa(this._delegate,e,$l)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return nc(this.auth,_o(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return rc(this.auth,async function(e,t,n){const r=Yn(e),i=await xa(r.auth,t,Yn(n));return new Sa(i,(e=>_o(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return nc(this.auth,async function(e,t,n){const r=Yn(e);Ni(r.auth,t,Zs);const i=ka(r.auth,n);return new Oa(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,$l))}async reauthenticateWithRedirect(e){return await Yl(Cs(this.auth)),qa(this._delegate,e,$l)}sendEmailVerification(e){return Do(this._delegate,e)}async unlink(e){return await mo(this._delegate,e),this}updateEmail(e){return function(e,t){return jo(Yn(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return jo(Yn(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await go(Yn(e),t)}(this._delegate,e)}updateProfile(e){return Oo(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Po(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sc.USER_MAP=new WeakMap;const oc=Ai;class ac{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;oc(n,"invalid-api-key",{appName:e.name}),oc(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?$l:void 0;this._delegate=t.initialize({options:{persistence:cc(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(bi),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sc.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ls(this._delegate,e,t)}applyActionCode(e){return Co(this._delegate,e)}checkActionCode(e){return Ao(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Vs(Yn(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&No(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return nc(this._delegate,async function(e,t,n){const r=Cs(e),i=js(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lo),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&No(e),t})),o=await co._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Ro(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Xs.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){oc(Wl(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Cs(e)._initializationPromise,Ha(e,t,!1)}(this._delegate,$l);return e?nc(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Cs(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=lc(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=lc(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Cs(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Ai(t.handleCodeInApp,r,"argument-error"),t&&ko(r,e,t)}(i,n),await js(r,i,"getOobCode",Hs)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Cs(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&ko(r,i,n),await js(r,i,"getOobCode",Ws)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){Gl(Object.values(Kl).includes(t),e,"invalid-persistence-type"),On()?Gl(t!==Kl.SESSION,e,"unsupported-persistence-type"):Dn()?Gl(t===Kl.NONE,e,"unsupported-persistence-type"):ql()?Gl(t===Kl.NONE||t===Kl.LOCAL&&Ln(),e,"unsupported-persistence-type"):Gl(t===Kl.NONE||zl(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Kl.SESSION:t=$o;break;case Kl.LOCAL:t=await us(fa)._isAvailable()?fa:Jo;break;case Kl.NONE:t=ds;break;default:return xi("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return nc(this._delegate,async function(e){var t;const n=Cs(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new co({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await lo(n,{returnSecureToken:!0}),i=await co._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return nc(this._delegate,bo(this._delegate,e))}signInWithCustomToken(e){return nc(this._delegate,Io(this._delegate,e))}signInWithEmailAndPassword(e,t){return nc(this._delegate,function(e,t,n){return bo(Yn(e),$s.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&No(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return nc(this._delegate,async function(e,t,n){const r=Yn(e),i=$s.credentialWithLink(t,n||Pi());return Ai(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),bo(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return rc(this._delegate,async function(e,t,n){const r=Cs(e),i=await xa(r,t,Yn(n));return new Sa(i,(e=>bo(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return oc(Wl(),this._delegate,"operation-not-supported-in-this-environment"),nc(this._delegate,async function(e,t,n){const r=Cs(e);Ni(e,t,Zs);const i=ka(r,n);return new Oa(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,$l))}async signInWithRedirect(e){return oc(Wl(),this._delegate,"operation-not-supported-in-this-environment"),await Yl(this._delegate),za(this._delegate,e,$l)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ao(Yn(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function lc(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&sc.getOrCreate(e)),error:t,complete:n}}function cc(e,t){const n=function(e,t){const n=Jl();if(!n)return[];const r=fs(Ql,e,t);switch(n.getItem(r)){case Kl.NONE:return[ds];case Kl.LOCAL:return[fa,$o];case Kl.SESSION:return[$o];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(fa)||n.push(fa),"undefined"!==typeof window)for(const r of[Jo,$o])n.includes(r)||n.push(r);return n.includes(ds)||n.push(ds),n}ac.Persistence=Kl;class uc{constructor(){this.providerId="phone",this._delegate=new Ta(Zl(ui.auth()))}static credential(e,t){return Ta.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}uc.PHONE_SIGN_IN_METHOD=Ta.PHONE_SIGN_IN_METHOD,uc.PROVIDER_ID=Ta.PROVIDER_ID;const hc=Ai;class dc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ui.app();var r;hc(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ia(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var fc;(fc=ui).INTERNAL.registerComponent(new Jn("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new ac(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fi,PASSWORD_RESET:pi,RECOVER_EMAIL:mi,REVERT_SECOND_FACTOR_ADDITION:gi,VERIFY_AND_CHANGE_EMAIL:yi,VERIFY_EMAIL:vi}},EmailAuthProvider:$s,FacebookAuthProvider:no,GithubAuthProvider:io,GoogleAuthProvider:ro,OAuthProvider:to,SAMLAuthProvider:oo,PhoneAuthProvider:uc,PhoneMultiFactorGenerator:El,RecaptchaVerifier:dc,TwitterAuthProvider:ao,Auth:ac,AuthCredential:Us,Error:Mn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),fc.registerVersion("@firebase/auth-compat","0.5.1");var pc,mc="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},gc={},yc=yc||{},vc=mc||self;function wc(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bc(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ec="closure_uid_"+(1e9*Math.random()>>>0),_c=0;function Ic(e,t,n){return e.call.apply(e.bind,arguments)}function Sc(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function xc(e,t,n){return(xc=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ic:Sc).apply(null,arguments)}function Tc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function kc(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Nc(){this.s=this.s,this.o=this.o}Nc.prototype.s=!1,Nc.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ec)&&e[Ec]||(e[Ec]=++_c))},Nc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Cc=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ac(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Rc(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(wc(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Dc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Dc.prototype.h=function(){this.defaultPrevented=!0};var Pc=function(){if(!vc.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};vc.addEventListener("test",e,t),vc.removeEventListener("test",e,t)}catch(n){}return e}();function Oc(e){return/^[\s\xa0]*$/.test(e)}function jc(){var e=vc.navigator;return e&&(e=e.userAgent)?e:""}function Lc(e){return-1!=jc().indexOf(e)}function Mc(e){return Mc[" "](e),e}Mc[" "]=function(){};var Fc,Uc,Vc=Lc("Opera"),Bc=Lc("Trident")||Lc("MSIE"),zc=Lc("Edge"),qc=zc||Bc,Wc=Lc("Gecko")&&!(-1!=jc().toLowerCase().indexOf("webkit")&&!Lc("Edge"))&&!(Lc("Trident")||Lc("MSIE"))&&!Lc("Edge"),Hc=-1!=jc().toLowerCase().indexOf("webkit")&&!Lc("Edge");function Kc(){var e=vc.document;return e?e.documentMode:void 0}e:{var Gc="",Qc=function(){var e=jc();return Wc?/rv:([^\);]+)(\)|;)/.exec(e):zc?/Edge\/([\d\.]+)/.exec(e):Bc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Hc?/WebKit\/(\S+)/.exec(e):Vc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Qc&&(Gc=Qc?Qc[1]:""),Bc){var Yc=Kc();if(null!=Yc&&Yc>parseFloat(Gc)){Fc=String(Yc);break e}}Fc=Gc}if(vc.document&&Bc){var Jc=Kc();Uc=Jc||(parseInt(Fc,10)||void 0)}else Uc=void 0;var Xc=Uc;function $c(e,t){if(Dc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Wc){e:{try{Mc(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Zc[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&$c.$.h.call(this)}}kc($c,Dc);var Zc={2:"touch",3:"pen",4:"mouse"};$c.prototype.h=function(){$c.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var eu="closure_listenable_"+(1e6*Math.random()|0),tu=0;function nu(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++tu,this.fa=this.ia=!1}function ru(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function iu(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function su(e){const t={};for(const n in e)t[n]=e[n];return t}const ou="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function au(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ou.length;t++)n=ou[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function lu(e){this.src=e,this.g={},this.h=0}function cu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Cc(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ru(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function uu(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}lu.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=uu(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new nu(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var hu="closure_lm_"+(1e6*Math.random()|0),du={};function fu(e,t,n,r,i){if(r&&r.once)return mu(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)fu(e,t[s],n,r,i);return null}return n=_u(n),e&&e[eu]?e.O(t,n,bc(r)?!!r.capture:!!r,i):pu(e,t,n,!1,r,i)}function pu(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=bc(i)?!!i.capture:!!i,a=bu(e);if(a||(e[hu]=a=new lu(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=wu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Pc||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(vu(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function mu(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)mu(e,t[s],n,r,i);return null}return n=_u(n),e&&e[eu]?e.P(t,n,bc(r)?!!r.capture:!!r,i):pu(e,t,n,!0,r,i)}function gu(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)gu(e,t[s],n,r,i);else r=bc(r)?!!r.capture:!!r,n=_u(n),e&&e[eu]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=uu(s=e.g[t],n,r,i))&&(ru(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=bu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=uu(t,n,r,i)),(n=-1<e?t[e]:null)&&yu(n))}function yu(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[eu])cu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(vu(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bu(t))?(cu(n,e),0==n.h&&(n.src=null,t[hu]=null)):ru(e)}}}function vu(e){return e in du?du[e]:du[e]="on"+e}function wu(e,t){if(e.fa)e=!0;else{t=new $c(t,this);var n=e.listener,r=e.la||e.src;e.ia&&yu(e),e=n.call(r,t)}return e}function bu(e){return(e=e[hu])instanceof lu?e:null}var Eu="__closure_events_fn_"+(1e9*Math.random()>>>0);function _u(e){return"function"===typeof e?e:(e[Eu]||(e[Eu]=function(t){return e.handleEvent(t)}),e[Eu])}function Iu(){Nc.call(this),this.i=new lu(this),this.S=this,this.J=null}function Su(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Dc(t,e);else if(t instanceof Dc)t.target=t.target||e;else{var i=t;au(t=new Dc(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=xu(o,r,!0,t)&&i}if(i=xu(o=t.g=e,r,!0,t)&&i,i=xu(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=xu(o=t.g=n[s],r,!1,t)&&i}function xu(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&cu(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}kc(Iu,Nc),Iu.prototype[eu]=!0,Iu.prototype.removeEventListener=function(e,t,n,r){gu(this,e,t,n,r)},Iu.prototype.N=function(){if(Iu.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ru(n[r]);delete t.g[e],t.h--}}this.J=null},Iu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Iu.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Tu=vc.JSON.stringify;function ku(){var e=Ou;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Nu=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Cu),(e=>e.reset()));class Cu{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Au(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ru(e){vc.setTimeout((()=>{throw e}),0)}let Du,Pu=!1,Ou=new class{constructor(){this.h=this.g=null}add(e,t){const n=Nu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},ju=()=>{const e=vc.Promise.resolve(void 0);Du=()=>{e.then(Lu)}};var Lu=()=>{for(var e;e=ku();){try{e.h.call(e.g)}catch(n){Ru(n)}var t=Nu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Pu=!1};function Mu(e,t){Iu.call(this),this.h=e||1,this.g=t||vc,this.j=xc(this.qb,this),this.l=Date.now()}function Fu(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Uu(e,t,n){if("function"===typeof e)n&&(e=xc(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=xc(e.handleEvent,e)}return 2147483647<Number(t)?-1:vc.setTimeout(e,t||0)}function Vu(e){e.g=Uu((()=>{e.g=null,e.i&&(e.i=!1,Vu(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}kc(Mu,Iu),(pc=Mu.prototype).ga=!1,pc.T=null,pc.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Su(this,"tick"),this.ga&&(Fu(this),this.start()))}},pc.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pc.N=function(){Mu.$.N.call(this),Fu(this),delete this.g};class Bu extends Nc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(vc.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zu(e){Nc.call(this),this.h=e,this.g={}}kc(zu,Nc);var qu=[];function Wu(e,t,n,r){Array.isArray(n)||(n&&(qu[0]=n.toString()),n=qu);for(var i=0;i<n.length;i++){var s=fu(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Hu(e){iu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&yu(e)}),e),e.g={}}function Ku(){this.g=!0}function Gu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Tu(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}zu.prototype.N=function(){zu.$.N.call(this),Hu(this)},zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ku.prototype.Ea=function(){this.g=!1},Ku.prototype.info=function(){};var Qu={},Yu=null;function Ju(){return Yu=Yu||new Iu}function Xu(e){Dc.call(this,Qu.Ta,e)}function $u(e){const t=Ju();Su(t,new Xu(t))}function Zu(e,t){Dc.call(this,Qu.STAT_EVENT,e),this.stat=t}function eh(e){const t=Ju();Su(t,new Zu(t,e))}function th(e,t){Dc.call(this,Qu.Ua,e),this.size=t}function nh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return vc.setTimeout((function(){e()}),t)}Qu.Ta="serverreachability",kc(Xu,Dc),Qu.STAT_EVENT="statevent",kc(Zu,Dc),Qu.Ua="timingevent",kc(th,Dc);var rh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ih={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function sh(){}function oh(e){return e.h||(e.h=e.i())}function ah(){}sh.prototype.h=null;var lh,ch={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function uh(){Dc.call(this,"d")}function hh(){Dc.call(this,"c")}function dh(){}function fh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new zu(this),this.P=mh,e=qc?125:void 0,this.V=new Mu(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ph}function ph(){this.i=null,this.g="",this.h=!1}kc(uh,Dc),kc(hh,Dc),kc(dh,sh),dh.prototype.g=function(){return new XMLHttpRequest},dh.prototype.i=function(){return{}},lh=new dh;var mh=45e3,gh={},yh={};function vh(e,t,n){e.L=1,e.A=Mh(Dh(t)),e.u=n,e.S=!0,wh(e,null)}function wh(e,t){e.G=Date.now(),Ih(e),e.B=Dh(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Jh(n.i,"t",r),e.o=0,n=e.l.J,e.h=new ph,e.g=Xd(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Bu(xc(e.Pa,e,e.g),e.O)),Wu(e.U,e.g,"readystatechange",e.nb),t=e.I?su(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),$u(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function bh(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Eh(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=_h(e,n),r==yh){4==t&&(e.s=4,eh(14),i=!1),Gu(e.j,e.m,null,"[Incomplete Response]");break}if(r==gh){e.s=4,eh(15),Gu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Gu(e.j,e.m,r,null),Nh(e,r)}bh(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,eh(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),qd(t),t.M=!0,eh(11))):(Gu(e.j,e.m,n,"[Invalid Chunked Response]"),kh(e),Th(e))}function _h(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?yh:(n=Number(t.substring(n,r)),isNaN(n)?gh:(r+=1)+n>t.length?yh:(t=t.slice(r,r+n),e.o=r+n,t))}function Ih(e){e.Y=Date.now()+e.P,Sh(e,e.P)}function Sh(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=nh(xc(e.lb,e),t)}function xh(e){e.C&&(vc.clearTimeout(e.C),e.C=null)}function Th(e){0==e.l.H||e.J||Kd(e.l,e)}function kh(e){xh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Fu(e.V),Hu(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Nh(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||rd(n.i,e)))if(!e.K&&rd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Hd(n),jd(n)}zd(n),eh(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=nh(xc(n.ib,n),6e3));if(1>=nd(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Qd(n,11)}else if((e.K||n.g==e)&&Hd(n),!Oc(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(id(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Lh(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=Jd(r,r.J?r.pa:null,r.Y),o.K){sd(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(xh(a),Ih(a)),r.g=o}else Bd(r);0<n.j.length&&Md(n)}else"stop"!=c[0]&&"close"!=c[0]||Qd(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Qd(n,7):Od(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}$u()}catch(c){}}function Ch(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(wc(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(wc(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(wc(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(pc=fh.prototype).setTimeout=function(e){this.P=e},pc.nb=function(e){e=e.target;const t=this.M;t&&3==Nd(e)?t.l():this.Pa(e)},pc.Pa=function(e){try{if(e==this.g)e:{const u=Nd(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||qc||this.g&&(this.h.h||this.g.ja()||Cd(this.g)))){this.J||4!=u||7==t||$u(),xh(this);var n=this.g.da();this.ca=n;t:if(bh(this)){var r=Cd(this.g);e="";var i=r.length,s=4==Nd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){kh(this),Th(this);var o="";break t}this.h.i=new vc.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Oc(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,eh(12),kh(this),Th(this);break e}Gu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nh(this,n)}this.S?(Eh(this,u,o),qc&&this.i&&3==u&&(Wu(this.U,this.V,"tick",this.mb),this.V.start())):(Gu(this.j,this.m,o,null),Nh(this,o)),4==u&&kh(this),this.i&&!this.J&&(4==u?Kd(this.l,this):(this.i=!1,Ih(this)))}else(function(e){const t={};e=(e.g&&2<=Nd(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Oc(e[r]))continue;var n=Au(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,eh(12)):(this.s=0,eh(13)),kh(this),Th(this)}}}catch(u){}},pc.mb=function(){if(this.g){var e=Nd(this.g),t=this.g.ja();this.o<t.length&&(xh(this),Eh(this,e,t),this.i&&4!=e&&Ih(this))}},pc.cancel=function(){this.J=!0,kh(this)},pc.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&($u(),eh(17)),kh(this),this.s=2,Th(this)):Sh(this,this.Y-e)};var Ah=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Rh){this.h=e.h,Ph(this,e.j),this.s=e.s,this.g=e.g,Oh(this,e.m),this.l=e.l;var t=e.i,n=new Kh;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),jh(this,n),this.o=e.o}else e&&(t=String(e).match(Ah))?(this.h=!1,Ph(this,t[1]||"",!0),this.s=Fh(t[2]||""),this.g=Fh(t[3]||"",!0),Oh(this,t[4]),this.l=Fh(t[5]||"",!0),jh(this,t[6]||"",!0),this.o=Fh(t[7]||"")):(this.h=!1,this.i=new Kh(null,this.h))}function Dh(e){return new Rh(e)}function Ph(e,t,n){e.j=n?Fh(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Oh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function jh(e,t,n){t instanceof Kh?(e.i=t,function(e,t){t&&!e.j&&(Gh(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Qh(this,t),Jh(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Uh(t,Wh)),e.i=new Kh(t,e.h))}function Lh(e,t,n){e.i.set(t,n)}function Mh(e){return Lh(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Fh(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Uh(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Vh),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vh(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Rh.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Uh(t,Bh,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Uh(t,Bh,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Uh(n,"/"==n.charAt(0)?qh:zh,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Uh(n,Hh)),e.join("")};var Bh=/[#\/\?@]/g,zh=/[#\?:]/g,qh=/[#\?]/g,Wh=/[#\?@]/g,Hh=/#/g;function Kh(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gh(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qh(e,t){Gh(e),t=Xh(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Yh(e,t){return Gh(e),t=Xh(e,t),e.g.has(t)}function Jh(e,t,n){Qh(e,t),0<n.length&&(e.i=null,e.g.set(Xh(e,t),Ac(n)),e.h+=n.length)}function Xh(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(pc=Kh.prototype).add=function(e,t){Gh(this),this.i=null,e=Xh(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},pc.forEach=function(e,t){Gh(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},pc.ta=function(){Gh(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},pc.Z=function(e){Gh(this);let t=[];if("string"===typeof e)Yh(this,e)&&(t=t.concat(this.g.get(Xh(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},pc.set=function(e,t){return Gh(this),this.i=null,Yh(this,e=Xh(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},pc.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},pc.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var $h=class{constructor(e,t){this.g=e,this.map=t}};function Zh(e){this.l=e||ed,vc.PerformanceNavigationTiming?e=0<(e=vc.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(vc.g&&vc.g.Ka&&vc.g.Ka()&&vc.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ed=10;function td(e){return!!e.h||!!e.g&&e.g.size>=e.j}function nd(e){return e.h?1:e.g?e.g.size:0}function rd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function id(e,t){e.g?e.g.add(t):e.h=t}function sd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function od(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ac(e.i)}Zh.prototype.cancel=function(){if(this.i=od(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ad,ld=class{stringify(e){return vc.JSON.stringify(e,void 0)}parse(e){return vc.JSON.parse(e,void 0)}};function cd(){this.g=new ld}function ud(e,t,n){const r=n||"";try{Ch(e,(function(e,n){let i=e;bc(e)&&(i=Tu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function hd(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function dd(e){this.l=e.ec||null,this.j=e.ob||!1}function fd(e,t){Iu.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=pd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kc(dd,sh),dd.prototype.g=function(){return new fd(this.l,this.j)},dd.prototype.i=(ad={},function(){return ad}),kc(fd,Iu);var pd=0;function md(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function gd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,yd(e)}function yd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(pc=fd.prototype).open=function(e,t){if(this.readyState!=pd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,yd(this)},pc.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||vc).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},pc.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gd(this)),this.readyState=pd},pc.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,yd(this)),this.g&&(this.readyState=3,yd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof vc.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;md(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},pc.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gd(this):yd(this),3==this.readyState&&md(this)}},pc.Za=function(e){this.g&&(this.response=this.responseText=e,gd(this))},pc.Ya=function(e){this.g&&(this.response=e,gd(this))},pc.ka=function(){this.g&&gd(this)},pc.setRequestHeader=function(e,t){this.v.append(e,t)},pc.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},pc.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var vd=vc.JSON.parse;function wd(e){Iu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bd,this.L=this.M=!1}kc(wd,Iu);var bd="",Ed=/^https?$/i,_d=["POST","PUT"];function Id(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Sd(e),Td(e)}function Sd(e){e.F||(e.F=!0,Su(e,"complete"),Su(e,"error"))}function xd(e){if(e.h&&"undefined"!=typeof yc&&(!e.C[1]||4!=Nd(e)||2!=e.da()))if(e.v&&4==Nd(e))Uu(e.La,0,e);else if(Su(e,"readystatechange"),4==Nd(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Ah)[1]||null;!i&&vc.self&&vc.self.location&&(i=vc.self.location.protocol.slice(0,-1)),r=!Ed.test(i?i.toLowerCase():"")}n=r}if(n)Su(e,"complete"),Su(e,"success");else{e.m=6;try{var s=2<Nd(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Sd(e)}}finally{Td(e)}}}function Td(e,t){if(e.g){kd(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Su(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function kd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(vc.clearTimeout(e.A),e.A=null)}function Nd(e){return e.g?e.g.readyState:0}function Cd(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case bd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Mf){return null}}function Ad(e){let t="";return iu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Rd(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ad(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Lh(e,t,n))}function Dd(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Pd(e){this.Ga=0,this.j=[],this.l=new Ku,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,e),this.hb=Dd("retryDelaySeedMs",1e4,e),this.eb=Dd("forwardChannelMaxRetries",2,e),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Zh(e&&e.concurrentRequestLimit),this.Ja=new cd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Od(e){if(Ld(e),3==e.H){var t=e.W++,n=Dh(e.I);if(Lh(n,"SID",e.K),Lh(n,"RID",t),Lh(n,"TYPE","terminate"),Ud(e,n),(t=new fh(e,e.l,t)).L=2,t.A=Mh(Dh(n)),n=!1,vc.navigator&&vc.navigator.sendBeacon)try{n=vc.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&vc.Image&&((new Image).src=t.A,n=!0),n||(t.g=Xd(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ih(t)}Yd(e)}function jd(e){e.g&&(qd(e),e.g.cancel(),e.g=null)}function Ld(e){jd(e),e.u&&(vc.clearTimeout(e.u),e.u=null),Hd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&vc.clearTimeout(e.m),e.m=null)}function Md(e){if(!td(e.i)&&!e.m){e.m=!0;var t=e.Na;Du||ju(),Pu||(Du(),Pu=!0),Ou.add(t,e),e.C=0}}function Fd(e,t){var n;n=t?t.m:e.W++;const r=Dh(e.I);Lh(r,"SID",e.K),Lh(r,"RID",n),Lh(r,"AID",e.V),Ud(e,r),e.o&&e.s&&Rd(r,e.o,e.s),n=new fh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Vd(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),id(e.i,n),vh(n,r,t)}function Ud(e,t){e.na&&iu(e.na,(function(e,n){Lh(t,n,e)})),e.h&&Ch({},(function(e,n){Lh(t,n,e)}))}function Vd(e,t,n){n=Math.min(e.j.length,n);var r=e.h?xc(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{ud(a,e,"req"+n+"_")}catch(em){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Bd(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Du||ju(),Pu||(Du(),Pu=!0),Ou.add(t,e),e.A=0}}function zd(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=nh(xc(e.Ma,e),Gd(e,e.A)),e.A++,!0)}function qd(e){null!=e.B&&(vc.clearTimeout(e.B),e.B=null)}function Wd(e){e.g=new fh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Dh(e.wa);Lh(t,"RID","rpc"),Lh(t,"SID",e.K),Lh(t,"AID",e.V),Lh(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Lh(t,"TO",e.qa),Lh(t,"TYPE","xmlhttp"),Ud(e,t),e.o&&e.s&&Rd(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Mh(Dh(t)),n.u=null,n.S=!0,wh(n,e)}function Hd(e){null!=e.v&&(vc.clearTimeout(e.v),e.v=null)}function Kd(e,t){var n=null;if(e.g==t){Hd(e),qd(e),e.g=null;var r=2}else{if(!rd(e.i,t))return;n=t.F,sd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Su(r=Ju(),new th(r,n)),Md(e)}else Bd(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(nd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=nh(xc(e.Na,e,t),Gd(e,e.C)),e.C++,!0))}(e,t)||2==r&&zd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Qd(e,5);break;case 4:Qd(e,10);break;case 3:Qd(e,6);break;default:Qd(e,2)}}function Gd(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Qd(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=xc(e.pb,e);n||(n=new Rh("//www.google.com/images/cleardot.gif"),vc.location&&"http"==vc.location.protocol||Ph(n,"https"),Mh(n)),function(e,t){const n=new Ku;if(vc.Image){const r=new Image;r.onload=Tc(hd,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Tc(hd,n,r,"TestLoadImage: error",!1,t),r.onabort=Tc(hd,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Tc(hd,n,r,"TestLoadImage: timeout",!1,t),vc.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else eh(2);e.H=0,e.h&&e.h.za(t),Yd(e),Ld(e)}function Yd(e){if(e.H=0,e.ma=[],e.h){const t=od(e.i);0==t.length&&0==e.j.length||(Rc(e.ma,t),Rc(e.ma,e.j),e.i.i.length=0,Ac(e.j),e.j.length=0),e.h.ya()}}function Jd(e,t,n){var r=n instanceof Rh?Dh(n):new Rh(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Oh(r,r.m);else{var i=vc.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Rh(null);r&&Ph(s,r),t&&(s.g=t),i&&Oh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Lh(r,n,t),Lh(r,"VER",e.ra),Ud(e,r),r}function Xd(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new wd(new dd({ob:n})):new wd(e.va)).Oa(e.J),t}function $d(){}function Zd(){if(Bc&&!(10<=Number(Xc)))throw Error("Environmental error: no available transport.")}function ef(e,t){Iu.call(this),this.g=new Pd(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Oc(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Oc(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new rf(this)}function tf(e){uh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function nf(){hh.call(this),this.status=1}function rf(e){this.g=e}function sf(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function of(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function af(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(pc=wd.prototype).Oa=function(e){this.M=e},pc.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():lh.g(),this.C=this.u?oh(this.u):oh(lh),this.g.onreadystatechange=xc(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Id(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=vc.FormData&&e instanceof vc.FormData,!(0<=Cc(_d,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{kd(this),0<this.B&&((this.L=function(e){return Bc&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xc(this.ua,this)):this.A=Uu(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Id(this,s)}},pc.ua=function(){"undefined"!=typeof yc&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Su(this,"timeout"),this.abort(8))},pc.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Su(this,"complete"),Su(this,"abort"),Td(this))},pc.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Td(this,!0)),wd.$.N.call(this)},pc.La=function(){this.s||(this.G||this.v||this.l?xd(this):this.kb())},pc.kb=function(){xd(this)},pc.isActive=function(){return!!this.g},pc.da=function(){try{return 2<Nd(this)?this.g.status:-1}catch(ad){return-1}},pc.ja=function(){try{return this.g?this.g.responseText:""}catch(ad){return""}},pc.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),vd(t)}},pc.Ia=function(){return this.m},pc.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(pc=Pd.prototype).ra=8,pc.H=1,pc.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new fh(this,this.l,e);let s=this.s;if(this.U&&(s?(s=su(s),au(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Vd(this,i,t),Lh(n=Dh(this.I),"RID",e),Lh(n,"CVER",22),this.F&&Lh(n,"X-HTTP-Session-Id",this.F),Ud(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ad(s)))+"&"+t:this.o&&Rd(n,this.o,s)),id(this.i,i),this.bb&&Lh(n,"TYPE","init"),this.P?(Lh(n,"$req",t),Lh(n,"SID","null"),i.aa=!0,vh(i,n,null)):vh(i,n,t),this.H=2}}else 3==this.H&&(e?Fd(this,e):0==this.j.length||td(this.i)||Fd(this))},pc.Ma=function(){if(this.u=null,Wd(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=nh(xc(this.jb,this),e)}},pc.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,eh(10),jd(this),Wd(this))},pc.ib=function(){null!=this.v&&(this.v=null,jd(this),zd(this),eh(19))},pc.pb=function(e){e?(this.l.info("Successfully pinged google.com"),eh(2)):(this.l.info("Failed to ping google.com"),eh(1))},pc.isActive=function(){return!!this.h&&this.h.isActive(this)},(pc=$d.prototype).Ba=function(){},pc.Aa=function(){},pc.za=function(){},pc.ya=function(){},pc.isActive=function(){return!0},pc.Va=function(){},Zd.prototype.g=function(e,t){return new ef(e,t)},kc(ef,Iu),ef.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;eh(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Jd(e,null,e.Y),Md(e)},ef.prototype.close=function(){Od(this.g)},ef.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Tu(e),e=n);t.j.push(new $h(t.fb++,e)),3==t.H&&Md(t)},ef.prototype.N=function(){this.g.h=null,delete this.j,Od(this.g),delete this.g,ef.$.N.call(this)},kc(tf,uh),kc(nf,hh),kc(rf,$d),rf.prototype.Ba=function(){Su(this.g,"a")},rf.prototype.Aa=function(e){Su(this.g,new tf(e))},rf.prototype.za=function(e){Su(this.g,new nf)},rf.prototype.ya=function(){Su(this.g,"b")},kc(sf,(function(){this.blockSize=-1})),sf.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},sf.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)of(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){of(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){of(this,r),i=0;break}}this.h=i,this.i+=t},sf.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var lf={};function cf(e){return-128<=e&&128>e?function(e,t){var n=lf;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new af([0|e],0>e?-1:0)})):new af([0|e],0>e?-1:0)}function uf(e){if(isNaN(e)||!isFinite(e))return df;if(0>e)return yf(uf(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=hf;return new af(t,0)}var hf=4294967296,df=cf(0),ff=cf(1),pf=cf(16777216);function mf(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function gf(e){return-1==e.h}function yf(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new af(n,~e.h).add(ff)}function vf(e,t){return e.add(yf(t))}function wf(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function bf(e,t){this.g=e,this.h=t}function Ef(e,t){if(mf(t))throw Error("division by zero");if(mf(e))return new bf(df,df);if(gf(e))return t=Ef(yf(e),t),new bf(yf(t.g),yf(t.h));if(gf(t))return t=Ef(e,yf(t)),new bf(yf(t.g),t.h);if(30<e.g.length){if(gf(e)||gf(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ff,r=t;0>=r.X(e);)n=_f(n),r=_f(r);var i=If(n,1),s=If(r,1);for(r=If(r,2),n=If(n,2);!mf(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=If(r,1),n=If(n,1)}return t=vf(e,i.R(t)),new bf(i,t)}for(i=df;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=uf(n)).R(t);gf(o)||0<o.X(e);)o=(s=uf(n-=r)).R(t);mf(s)&&(s=ff),i=i.add(s),e=vf(e,o)}return new bf(i,e)}function _f(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new af(n,e.h)}function If(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new af(i,e.h)}(pc=af.prototype).ea=function(){if(gf(this))return-yf(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:hf+r)*t,t*=hf}return e},pc.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(mf(this))return"0";if(gf(this))return"-"+yf(this).toString(e);for(var t=uf(Math.pow(e,6)),n=this,r="";;){var i=Ef(n,t).g,s=((0<(n=vf(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(mf(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},pc.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},pc.X=function(e){return gf(e=vf(this,e))?-1:mf(e)?0:1},pc.abs=function(){return gf(this)?yf(this):this},pc.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new af(n,-2147483648&n[n.length-1]?-1:0)},pc.R=function(e){if(mf(this)||mf(e))return df;if(gf(this))return gf(e)?yf(this).R(yf(e)):yf(yf(this).R(e));if(gf(e))return yf(this.R(yf(e)));if(0>this.X(pf)&&0>e.X(pf))return uf(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,wf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,wf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,wf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,wf(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new af(n,0)},pc.gb=function(e){return Ef(this,e).h},pc.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new af(n,this.h&e.h)},pc.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new af(n,this.h|e.h)},pc.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new af(n,this.h^e.h)},Zd.prototype.createWebChannel=Zd.prototype.g,ef.prototype.send=ef.prototype.u,ef.prototype.open=ef.prototype.m,ef.prototype.close=ef.prototype.close,rh.NO_ERROR=0,rh.TIMEOUT=8,rh.HTTP_ERROR=6,ih.COMPLETE="complete",ah.EventType=ch,ch.OPEN="a",ch.CLOSE="b",ch.ERROR="c",ch.MESSAGE="d",Iu.prototype.listen=Iu.prototype.O,wd.prototype.listenOnce=wd.prototype.P,wd.prototype.getLastError=wd.prototype.Sa,wd.prototype.getLastErrorCode=wd.prototype.Ia,wd.prototype.getStatus=wd.prototype.da,wd.prototype.getResponseJson=wd.prototype.Wa,wd.prototype.getResponseText=wd.prototype.ja,wd.prototype.send=wd.prototype.ha,wd.prototype.setWithCredentials=wd.prototype.Oa,sf.prototype.digest=sf.prototype.l,sf.prototype.reset=sf.prototype.reset,sf.prototype.update=sf.prototype.j,af.prototype.add=af.prototype.add,af.prototype.multiply=af.prototype.R,af.prototype.modulo=af.prototype.gb,af.prototype.compare=af.prototype.X,af.prototype.toNumber=af.prototype.ea,af.prototype.toString=af.prototype.toString,af.prototype.getBits=af.prototype.D,af.fromNumber=uf,af.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return yf(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=uf(Math.pow(n,8)),i=df,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=uf(Math.pow(n,o)),i=i.R(o).add(uf(a))):i=(i=i.R(r)).add(uf(a))}return i};var Sf=gc.createWebChannelTransport=function(){return new Zd},xf=gc.getStatEventTarget=function(){return Ju()},Tf=gc.ErrorCode=rh,kf=gc.EventType=ih,Nf=gc.Event=Qu,Cf=gc.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Af=(gc.FetchXmlHttpFactory=dd,gc.WebChannel=ah),Rf=gc.XhrIo=wd,Df=gc.Md5=sf,Pf=gc.Integer=af;const Of="@firebase/firestore";class jf{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}jf.UNAUTHENTICATED=new jf(null),jf.GOOGLE_CREDENTIALS=new jf("google-credentials-uid"),jf.FIRST_PARTY=new jf("first-party-uid"),jf.MOCK_USER=new jf("mock-user");let Lf="10.7.0";const Mf=new or("@firebase/firestore");function Ff(){return Mf.logLevel}function Uf(e){if(Mf.logLevel<=tr.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zf);Mf.debug("Firestore (".concat(Lf,"): ").concat(e),...i)}}function Vf(e){if(Mf.logLevel<=tr.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zf);Mf.error("Firestore (".concat(Lf,"): ").concat(e),...i)}}function Bf(e){if(Mf.logLevel<=tr.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(zf);Mf.warn("Firestore (".concat(Lf,"): ").concat(e),...i)}}function zf(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function qf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Lf,") INTERNAL ASSERTION FAILED: ")+e;throw Vf(t),new Error(t)}function Wf(e,t){e||qf()}function Hf(e,t){return e}const Kf={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gf extends Mn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Qf{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Yf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Jf{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(jf.UNAUTHENTICATED)))}shutdown(){}}class Xf{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $f{constructor(e){this.t=e,this.currentUser=jf.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Qf;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qf,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Uf("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Uf("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qf)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Uf("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Wf("string"==typeof t.accessToken),new Yf(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Wf(null===e||"string"==typeof e),new jf(e)}}class Zf{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=jf.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ep{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Zf(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(jf.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class np{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Uf("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Uf("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Uf("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Uf("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Wf("string"==typeof e.token),this.R=e.token,new tp(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function rp(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ip{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=rp(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function sp(e,t){return e<t?-1:e>t?1:0}function op(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function ap(e){return e+"\0"}class lp{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Gf(Kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Gf(Kf.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Gf(Kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Gf(Kf.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lp.fromMillis(Date.now())}static fromDate(e){return lp.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new lp(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?sp(this.nanoseconds,e.nanoseconds):sp(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class cp{constructor(e){this.timestamp=e}static fromTimestamp(e){return new cp(e)}static min(){return new cp(new lp(0,0))}static max(){return new cp(new lp(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class up{constructor(e,t,n){void 0===t?t=0:t>e.length&&qf(),void 0===n?n=e.length-t:n>e.length-t&&qf(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===up.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof up?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class hp extends up{construct(e,t,n){return new hp(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new hp(e)}static emptyPath(){return new hp([])}}const dp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fp extends up{construct(e,t,n){return new fp(e,t,n)}static isValidIdentifier(e){return dp.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fp.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new fp(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Gf(Kf.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Gf(Kf.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Gf(Kf.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fp(t)}static emptyPath(){return new fp([])}}class pp{constructor(e){this.path=e}static fromPath(e){return new pp(hp.fromString(e))}static fromName(e){return new pp(hp.fromString(e).popFirst(5))}static empty(){return new pp(hp.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===hp.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return hp.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pp(new hp(e.slice()))}}class mp{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function gp(e){return e.fields.find((e=>2===e.kind))}function yp(e){return e.fields.filter((e=>2!==e.kind))}mp.UNKNOWN_ID=-1;class vp{constructor(e,t){this.fieldPath=e,this.kind=t}}class wp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new wp(0,_p.min())}}function bp(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=cp.fromTimestamp(1e9===r?new lp(n+1,0):new lp(n,r));return new _p(i,pp.empty(),t)}function Ep(e){return new _p(e.readTime,e.key,-1)}class _p{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _p(cp.min(),pp.empty(),-1)}static max(){return new _p(cp.max(),pp.empty(),-1)}}function Ip(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=pp.comparator(e.documentKey,t.documentKey),0!==n?n:sp(e.largestBatchId,t.largestBatchId))}const Sp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Tp(e){if(e.code!==Kf.FAILED_PRECONDITION||e.message!==Sp)throw e;Uf("LocalStore","Unexpectedly lost primary lease")}class kp{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&qf(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new kp(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof kp?t:kp.resolve(t)}catch(e){return kp.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):kp.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):kp.reject(t)}static resolve(e){return new kp(((t,n)=>{t(e)}))}static reject(e){return new kp(((t,n)=>{n(e)}))}static waitFor(e){return new kp(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=kp.resolve(!1);for(const n of e)t=t.next((e=>e?kp.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new kp(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new kp(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Np{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new Qf,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Rp(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Lp(t.target.error);this.V.reject(new Rp(e,n))}}static open(e,t,n,r){try{return new Np(t,e.transaction(r,n))}catch(e){throw new Rp(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Uf("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pp(t)}}class Cp{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Cp.S(Rn())&&Vf("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Uf("SimpleDb","Removing database:",e),Op(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ln())return!1;if(Cp.C())return!0;const e=Rn(),t=Cp.S(e),n=0<t&&t<10,r=Cp.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Uf("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Rp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Gf(Kf.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Gf(Kf.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Rp(e,r))},r.onupgradeneeded=e=>{Uf("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Uf("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Np.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),kp.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Uf("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Ap{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Op(this.k.delete())}}class Rp extends Gf{constructor(e,t){super(Kf.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Dp(e){return"IndexedDbTransactionError"===e.name}class Pp{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Uf("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Uf("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Op(n)}add(e){return Uf("SimpleDb","ADD",this.store.name,e,e),Op(this.store.add(e))}get(e){return Op(this.store.get(e)).next((t=>(void 0===t&&(t=null),Uf("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Uf("SimpleDb","DELETE",this.store.name,e),Op(this.store.delete(e))}count(){return Uf("SimpleDb","COUNT",this.store.name),Op(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new kp(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new kp(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Uf("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new kp(((n,r)=>{t.onerror=e=>{const t=Lp(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new kp(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Ap(i),o=t(i.primaryKey,i.value,s);if(o instanceof kp){const e=o.catch((e=>(s.done(),kp.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>kp.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Op(e){return new kp(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Lp(e.target.error);n(t)}}))}let jp=!1;function Lp(e){const t=Cp.S(Rn());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Gf("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return jp||(jp=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Mp{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Uf("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Uf("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){Dp(e)?Uf("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Tp(e)}await this.ee(6e4)}))}}class Fp{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return kp.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Uf("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Uf("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Ep(t);Ip(r,n)>0&&(n=r)})),new _p(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Up{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Vp(e){return null==e}function Bp(e){return 0===e&&1/e==-1/0}function zp(e){return"number"==typeof e&&Number.isInteger(e)&&!Bp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function qp(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Hp(t)),t=Wp(e.get(n),t);return Hp(t)}function Wp(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Hp(e){return e+"\x01\x01"}function Kp(e){const t=e.length;if(Wf(t>=2),2===t)return Wf("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),hp.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&qf(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:qf()}s=t+2}return new hp(r)}Up._e=-1;const Gp=["userId","batchId"];function Qp(e,t){return[e,qp(t)]}function Yp(e,t,n){return[e,qp(t),n]}const Jp={},Xp=["prefixPath","collectionGroup","readTime","documentId"],$p=["prefixPath","collectionGroup","documentId"],Zp=["collectionGroup","readTime","prefixPath","documentId"],em=["canonicalId","targetId"],tm=["targetId","path"],nm=["path","targetId"],rm=["collectionId","parent"],im=["indexId","uid"],sm=["uid","sequenceNumber"],om=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],am=["indexId","uid","orderedDocumentKey"],lm=["userId","collectionPath","documentId"],cm=["userId","collectionPath","largestBatchId"],um=["userId","collectionGroup","largestBatchId"],hm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],dm=[...hm,"documentOverlays"],fm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],pm=fm,mm=[...pm,"indexConfiguration","indexState","indexEntries"];class gm extends xp{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function ym(e,t){const n=Hf(e);return Cp.M(n.ae,t)}function vm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function wm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Em{constructor(e,t){this.comparator=e,this.root=t||Im.EMPTY}insert(e,t){return new Em(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Im.BLACK,null,null))}remove(e){return new Em(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Im.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _m(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _m(this.root,e,this.comparator,!1)}getReverseIterator(){return new _m(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _m(this.root,e,this.comparator,!0)}}class _m{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Im{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Im.RED,this.left=null!=r?r:Im.EMPTY,this.right=null!=i?i:Im.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Im(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Im.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Im.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Im.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Im.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw qf();if(this.right.isRed())throw qf();const e=this.left.check();if(e!==this.right.check())throw qf();return e+(this.isRed()?0:1)}}Im.EMPTY=null,Im.RED=!0,Im.BLACK=!1,Im.EMPTY=new class{constructor(){this.size=0}get key(){throw qf()}get value(){throw qf()}get color(){throw qf()}get left(){throw qf()}get right(){throw qf()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Im(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sm{constructor(e){this.comparator=e,this.data=new Em(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new xm(this.data.getIterator())}getIteratorFrom(e){return new xm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Sm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Sm(this.comparator);return t.data=e,t}}class xm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tm(e){return e.hasNext()?e.getNext():void 0}class km{constructor(e){this.fields=e,e.sort(fp.comparator)}static empty(){return new km([])}unionWith(e){let t=new Sm(fp.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new km(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return op(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Nm extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Nm("Invalid base64 string: "+e):e}}(e);return new Cm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Cm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return sp(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Cm.EMPTY_BYTE_STRING=new Cm("");const Am=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rm(e){if(Wf(!!e),"string"==typeof e){let t=0;const n=Am.exec(e);if(Wf(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Dm(e.seconds),nanos:Dm(e.nanos)}}function Dm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Pm(e){return"string"==typeof e?Cm.fromBase64String(e):Cm.fromUint8Array(e)}function Om(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jm(e){const t=e.mapValue.fields.__previous_value__;return Om(t)?jm(t):t}function Lm(e){const t=Rm(e.mapValue.fields.__local_write_time__.timestampValue);return new lp(t.seconds,t.nanos)}class Mm{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Fm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Fm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Fm&&e.projectId===this.projectId&&e.database===this.database}}const Um={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Vm={nullValue:"NULL_VALUE"};function Bm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Om(e)?4:tg(e)?9007199254740991:10:qf()}function zm(e,t){if(e===t)return!0;const n=Bm(e);if(n!==Bm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lm(e).isEqual(Lm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Rm(e.timestampValue),r=Rm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Pm(e.bytesValue).isEqual(Pm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Dm(e.geoPointValue.latitude)===Dm(t.geoPointValue.latitude)&&Dm(e.geoPointValue.longitude)===Dm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Dm(e.integerValue)===Dm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Dm(e.doubleValue),r=Dm(t.doubleValue);return n===r?Bp(n)===Bp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return op(e.arrayValue.values||[],t.arrayValue.values||[],zm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vm(n)!==vm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!zm(n[i],r[i])))return!1;return!0}(e,t);default:return qf()}}function qm(e,t){return void 0!==(e.values||[]).find((e=>zm(e,t)))}function Wm(e,t){if(e===t)return 0;const n=Bm(e),r=Bm(t);if(n!==r)return sp(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return sp(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Dm(e.integerValue||e.doubleValue),r=Dm(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Hm(e.timestampValue,t.timestampValue);case 4:return Hm(Lm(e),Lm(t));case 5:return sp(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Pm(e),r=Pm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=sp(n[i],r[i]);if(0!==e)return e}return sp(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=sp(Dm(e.latitude),Dm(t.latitude));return 0!==n?n:sp(Dm(e.longitude),Dm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Wm(n[i],r[i]);if(e)return e}return sp(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Um.mapValue&&t===Um.mapValue)return 0;if(e===Um.mapValue)return 1;if(t===Um.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=sp(r[o],s[o]);if(0!==e)return e;const t=Wm(n[r[o]],i[s[o]]);if(0!==t)return t}return sp(r.length,s.length)}(e.mapValue,t.mapValue);default:throw qf()}}function Hm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return sp(e,t);const n=Rm(e),r=Rm(t),i=sp(n.seconds,r.seconds);return 0!==i?i:sp(n.nanos,r.nanos)}function Km(e){return Gm(e)}function Gm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Rm(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Pm(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return pp.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Gm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Gm(e.fields[i]));return n+"}"}(e.mapValue):qf()}function Qm(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ym(e){return!!e&&"integerValue"in e}function Jm(e){return!!e&&"arrayValue"in e}function Xm(e){return!!e&&"nullValue"in e}function $m(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Zm(e){return!!e&&"mapValue"in e}function eg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return wm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=eg(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=eg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function tg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function ng(e){return"nullValue"in e?Vm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Qm(Fm.empty(),pp.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:qf()}function rg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Qm(Fm.empty(),pp.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Um:qf()}function ig(e,t){const n=Wm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function sg(e,t){const n=Wm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class og{constructor(e){this.value=e}static empty(){return new og({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Zm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eg(t)}setAll(e){let t=fp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=eg(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Zm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Zm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){wm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new og(eg(this.value))}}function ag(e){const t=[];return wm(e.fields,((e,n)=>{const r=new fp([e]);if(Zm(n)){const e=ag(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new km(t)}class lg{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new lg(e,0,cp.min(),cp.min(),cp.min(),og.empty(),0)}static newFoundDocument(e,t,n,r){return new lg(e,1,t,cp.min(),n,r,0)}static newNoDocument(e,t){return new lg(e,2,t,cp.min(),cp.min(),og.empty(),0)}static newUnknownDocument(e,t){return new lg(e,3,t,cp.min(),cp.min(),og.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(cp.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=og.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=og.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cp.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof lg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new lg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class cg{constructor(e,t){this.position=e,this.inclusive=t}}function ug(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?pp.comparator(pp.fromName(o.referenceValue),n.key):Wm(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function hg(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!zm(e.position[n],t.position[n]))return!1;return!0}class dg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function fg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class pg{}class mg extends pg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new xg(e,t,n):"array-contains"===t?new Cg(e,n):"in"===t?new Ag(e,n):"not-in"===t?new Rg(e,n):"array-contains-any"===t?new Dg(e,n):new mg(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Tg(e,n):new kg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Wm(t,this.value)):null!==t&&Bm(this.value)===Bm(t)&&this.matchesComparison(Wm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return qf()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gg extends pg{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new gg(e,t)}matches(e){return yg(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function yg(e){return"and"===e.op}function vg(e){return"or"===e.op}function wg(e){return bg(e)&&yg(e)}function bg(e){for(const t of e.filters)if(t instanceof gg)return!1;return!0}function Eg(e){if(e instanceof mg)return e.field.canonicalString()+e.op.toString()+Km(e.value);if(wg(e))return e.filters.map((e=>Eg(e))).join(",");{const t=e.filters.map((e=>Eg(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function _g(e,t){return e instanceof mg?function(e,t){return t instanceof mg&&e.op===t.op&&e.field.isEqual(t.field)&&zm(e.value,t.value)}(e,t):e instanceof gg?function(e,t){return t instanceof gg&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&_g(n,t.filters[r])),!0)}(e,t):void qf()}function Ig(e,t){const n=e.filters.concat(t);return gg.create(n,e.op)}function Sg(e){return e instanceof mg?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Km(e.value))}(e):e instanceof gg?function(e){return e.op.toString()+" {"+e.getFilters().map(Sg).join(" ,")+"}"}(e):"Filter"}class xg extends mg{constructor(e,t,n){super(e,t,n),this.key=pp.fromName(n.referenceValue)}matches(e){const t=pp.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tg extends mg{constructor(e,t){super(e,"in",t),this.keys=Ng("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class kg extends mg{constructor(e,t){super(e,"not-in",t),this.keys=Ng("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Ng(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>pp.fromName(e.referenceValue)))}class Cg extends mg{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jm(t)&&qm(t.arrayValue,this.value)}}class Ag extends mg{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&qm(this.value.arrayValue,t)}}class Rg extends mg{constructor(e,t){super(e,"not-in",t)}matches(e){if(qm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!qm(this.value.arrayValue,t)}}class Dg extends mg{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>qm(this.value.arrayValue,e)))}}class Pg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Og(e){return new Pg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function jg(e){const t=Hf(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Eg(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Vp(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Km(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Km(e))).join(",")),t.ce=e}return t.ce}function Lg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!fg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!_g(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!hg(e.startAt,t.startAt)&&hg(e.endAt,t.endAt)}function Mg(e){return pp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Fg(e,t){return e.filters.filter((e=>e instanceof mg&&e.field.isEqual(t)))}function Ug(e,t,n){let r=Vm,i=!0;for(const s of Fg(e,t)){let e=Vm,t=!0;switch(s.op){case"<":case"<=":e=ng(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Vm}ig({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ig({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Vg(e,t,n){let r=Um,i=!0;for(const s of Fg(e,t)){let e=Um,t=!0;switch(s.op){case">=":case">":e=rg(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Um}sg({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];sg({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Bg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function zg(e,t,n,r,i,s,o,a){return new Bg(e,t,n,r,i,s,o,a)}function qg(e){return new Bg(e)}function Wg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Hg(e){return null!==e.collectionGroup}function Kg(e){const t=Hf(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Sm(fp.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new dg(r,n))})),e.has(fp.keyField().canonicalString())||t.le.push(new dg(fp.keyField(),n))}return t.le}function Gg(e){const t=Hf(e);return t.he||(t.he=Qg(t,Kg(e))),t.he}function Qg(e,t){if("F"===e.limitType)return Og(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new dg(e.field,t)}));const n=e.endAt?new cg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new cg(e.startAt.position,e.startAt.inclusive):null;return Og(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Yg(e,t){const n=e.filters.concat([t]);return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Jg(e,t,n){return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Xg(e,t){return Lg(Gg(e),Gg(t))&&e.limitType===t.limitType}function $g(e){return"".concat(jg(Gg(e)),"|lt:").concat(e.limitType)}function Zg(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Sg(e))).join(", "),"]")),Vp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Km(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Km(e))).join(",")),"Target(".concat(t,")")}(Gg(e)),"; limitType=").concat(e.limitType,")")}function ey(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):pp.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Kg(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ug(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Kg(e),t))&&!(e.endAt&&!function(e,t,n){const r=ug(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Kg(e),t))}(e,t)}function ty(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ny(e){return(t,n)=>{let r=!1;for(const i of Kg(e)){const e=ry(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ry(e,t,n){const r=e.field.isKeyField()?pp.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Wm(r,i):qf()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return qf()}}class iy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){wm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return bm(this.inner)}size(){return this.innerSize}}const sy=new Em(pp.comparator);function oy(){return sy}const ay=new Em(pp.comparator);function ly(){let e=ay;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function cy(e){let t=ay;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function uy(){return dy()}function hy(){return dy()}function dy(){return new iy((e=>e.toString()),((e,t)=>e.isEqual(t)))}const fy=new Em(pp.comparator),py=new Sm(pp.comparator);function my(){let e=py;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const gy=new Sm(sp);function yy(){return gy}function vy(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bp(t)?"-0":t}}function wy(e){return{integerValue:""+e}}function by(e,t){return zp(t)?wy(t):vy(e,t)}class Ey{constructor(){this._=void 0}}function _y(e,t,n){return e instanceof xy?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Om(t)&&(t=jm(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ty?ky(e,t):e instanceof Ny?Cy(e,t):function(e,t){const n=Sy(e,t),r=Ry(n)+Ry(e.Ie);return Ym(n)&&Ym(e.Ie)?wy(r):vy(e.serializer,r)}(e,t)}function Iy(e,t,n){return e instanceof Ty?ky(e,t):e instanceof Ny?Cy(e,t):n}function Sy(e,t){return e instanceof Ay?function(e){return Ym(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class xy extends Ey{}class Ty extends Ey{constructor(e){super(),this.elements=e}}function ky(e,t){const n=Dy(t);for(const r of e.elements)n.some((e=>zm(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ny extends Ey{constructor(e){super(),this.elements=e}}function Cy(e,t){let n=Dy(t);for(const r of e.elements)n=n.filter((e=>!zm(e,r)));return{arrayValue:{values:n}}}class Ay extends Ey{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Ry(e){return Dm(e.integerValue||e.doubleValue)}function Dy(e){return Jm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Py{constructor(e,t){this.field=e,this.transform=t}}class Oy{constructor(e,t){this.version=e,this.transformResults=t}}class jy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new jy}static exists(e){return new jy(void 0,e)}static updateTime(e){return new jy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ly(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class My{}function Fy(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Qy(e.key,jy.none()):new qy(e.key,e.data,jy.none());{const n=e.data,r=og.empty();let i=new Sm(fp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Wy(e.key,r,new km(i.toArray()),jy.none())}}function Uy(e,t,n){e instanceof qy?function(e,t,n){const r=e.value.clone(),i=Ky(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wy?function(e,t,n){if(!Ly(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ky(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Hy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vy(e,t,n,r){return e instanceof qy?function(e,t,n,r){if(!Ly(e.precondition,t))return n;const i=e.value.clone(),s=Gy(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wy?function(e,t,n,r){if(!Ly(e.precondition,t))return n;const i=Gy(e.fieldTransforms,r,t),s=t.data;return s.setAll(Hy(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ly(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function By(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Sy(r.transform,e||null);null!=i&&(null===n&&(n=og.empty()),n.set(r.field,i))}return n||null}function zy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&op(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ty&&t instanceof Ty||e instanceof Ny&&t instanceof Ny?op(e.elements,t.elements,zm):e instanceof Ay&&t instanceof Ay?zm(e.Ie,t.Ie):e instanceof xy&&t instanceof xy}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class qy extends My{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wy extends My{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Hy(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ky(e,t,n){const r=new Map;Wf(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Iy(o,a,n[i]))}return r}function Gy(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,_y(e,s,t))}return r}class Qy extends My{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yy extends My{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jy{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Uy(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Vy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Vy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=hy();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Fy(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(cp.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),my())}isEqual(e){return this.batchId===e.batchId&&op(this.mutations,e.mutations,((e,t)=>zy(e,t)))&&op(this.baseMutations,e.baseMutations,((e,t)=>zy(e,t)))}}class Xy{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Wf(e.mutations.length===n.length);let r=fy;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Xy(e,t,n,r)}}class $y{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Zy{constructor(e,t){this.count=e,this.unchangedNames=t}}var ev,tv;function nv(e){switch(e){default:return qf();case Kf.CANCELLED:case Kf.UNKNOWN:case Kf.DEADLINE_EXCEEDED:case Kf.RESOURCE_EXHAUSTED:case Kf.INTERNAL:case Kf.UNAVAILABLE:case Kf.UNAUTHENTICATED:return!1;case Kf.INVALID_ARGUMENT:case Kf.NOT_FOUND:case Kf.ALREADY_EXISTS:case Kf.PERMISSION_DENIED:case Kf.FAILED_PRECONDITION:case Kf.ABORTED:case Kf.OUT_OF_RANGE:case Kf.UNIMPLEMENTED:case Kf.DATA_LOSS:return!0}}function rv(e){if(void 0===e)return Vf("GRPC error has no .code"),Kf.UNKNOWN;switch(e){case ev.OK:return Kf.OK;case ev.CANCELLED:return Kf.CANCELLED;case ev.UNKNOWN:return Kf.UNKNOWN;case ev.DEADLINE_EXCEEDED:return Kf.DEADLINE_EXCEEDED;case ev.RESOURCE_EXHAUSTED:return Kf.RESOURCE_EXHAUSTED;case ev.INTERNAL:return Kf.INTERNAL;case ev.UNAVAILABLE:return Kf.UNAVAILABLE;case ev.UNAUTHENTICATED:return Kf.UNAUTHENTICATED;case ev.INVALID_ARGUMENT:return Kf.INVALID_ARGUMENT;case ev.NOT_FOUND:return Kf.NOT_FOUND;case ev.ALREADY_EXISTS:return Kf.ALREADY_EXISTS;case ev.PERMISSION_DENIED:return Kf.PERMISSION_DENIED;case ev.FAILED_PRECONDITION:return Kf.FAILED_PRECONDITION;case ev.ABORTED:return Kf.ABORTED;case ev.OUT_OF_RANGE:return Kf.OUT_OF_RANGE;case ev.UNIMPLEMENTED:return Kf.UNIMPLEMENTED;case ev.DATA_LOSS:return Kf.DATA_LOSS;default:return qf()}}(tv=ev||(ev={}))[tv.OK=0]="OK",tv[tv.CANCELLED=1]="CANCELLED",tv[tv.UNKNOWN=2]="UNKNOWN",tv[tv.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tv[tv.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tv[tv.NOT_FOUND=5]="NOT_FOUND",tv[tv.ALREADY_EXISTS=6]="ALREADY_EXISTS",tv[tv.PERMISSION_DENIED=7]="PERMISSION_DENIED",tv[tv.UNAUTHENTICATED=16]="UNAUTHENTICATED",tv[tv.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tv[tv.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tv[tv.ABORTED=10]="ABORTED",tv[tv.OUT_OF_RANGE=11]="OUT_OF_RANGE",tv[tv.UNIMPLEMENTED=12]="UNIMPLEMENTED",tv[tv.INTERNAL=13]="INTERNAL",tv[tv.UNAVAILABLE=14]="UNAVAILABLE",tv[tv.DATA_LOSS=15]="DATA_LOSS";let iv=null;function sv(){return new TextEncoder}const ov=new Pf([4294967295,4294967295],0);function av(e){const t=sv().encode(e),n=new Df;return n.update(t),new Uint8Array(n.digest())}function lv(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Pf([n,r],0),new Pf([i,s],0)]}class cv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uv("Invalid padding: ".concat(t));if(n<0)throw new uv("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new uv("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new uv("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Pf.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Pf.fromNumber(n)));return 1===r.compare(ov)&&(r=new Pf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=av(e),[n,r]=lv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new cv(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=av(e),[n,r]=lv(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class uv extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hv{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,dv.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new hv(cp.min(),r,new Em(sp),oy(),my())}}class dv{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new dv(n,t,my(),my(),my())}}class fv{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class pv{constructor(e,t){this.targetId=e,this.fe=t}}class mv{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gv{constructor(){this.ge=0,this.pe=wv(),this.ye=Cm.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=my(),t=my(),n=my();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:qf()}})),new dv(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=wv()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Wf(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class yv{constructor(e){this.Le=e,this.ke=new Map,this.qe=oy(),this.Qe=vv(),this.Ke=new Em(sp)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:qf()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Mg(i))if(0===n){const e=new pp(i.path);this.We(t,e,lg.newNoDocument(e,cp.min()))}else Wf(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==iv||iv.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Pm(n).toUint8Array()}catch(e){if(e instanceof Nm)return Bf("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new cv(s,r,i)}catch(e){return Bf(e instanceof uv?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Mg(i.target)){const t=new pp(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,lg.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=my();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new hv(e,t,this.Ke,this.qe,n);return this.qe=oy(),this.Qe=vv(),this.Ke=new Em(sp),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new gv,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Sm(sp),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Uf("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new gv),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function vv(){return new Em(pp.comparator)}function wv(){return new Em(pp.comparator)}const bv={asc:"ASCENDING",desc:"DESCENDING"},Ev={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_v={and:"AND",or:"OR"};class Iv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Sv(e,t){return e.useProto3Json||Vp(t)?t:{value:t}}function xv(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function kv(e,t){return xv(e,t.toTimestamp())}function Nv(e){return Wf(!!e),cp.fromTimestamp(function(e){const t=Rm(e);return new lp(t.seconds,t.nanos)}(e))}function Cv(e,t){return function(e){return new hp(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Av(e){const t=hp.fromString(e);return Wf($v(t)),t}function Rv(e,t){return Cv(e.databaseId,t.path)}function Dv(e,t){const n=Av(t);if(n.get(1)!==e.databaseId.projectId)throw new Gf(Kf.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Gf(Kf.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new pp(Lv(n))}function Pv(e,t){return Cv(e.databaseId,t)}function Ov(e){const t=Av(e);return 4===t.length?hp.emptyPath():Lv(t)}function jv(e){return new hp(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lv(e){return Wf(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Mv(e,t,n){return{name:Rv(e,t),fields:n.value.mapValue.fields}}function Fv(e,t,n){const r=Dv(e,t.name),i=Nv(t.updateTime),s=t.createTime?Nv(t.createTime):cp.min(),o=new og({mapValue:{fields:t.fields}}),a=lg.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Uv(e,t){let n;if(t instanceof qy)n={update:Mv(e,t.key,t.value)};else if(t instanceof Qy)n={delete:Rv(e,t.key)};else if(t instanceof Wy)n={update:Mv(e,t.key,t.data),updateMask:Xv(t.fieldMask)};else{if(!(t instanceof Yy))return qf();n={verify:Rv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof xy)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ty)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ny)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ay)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw qf()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kv(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:qf()}(e,t.precondition)),n}function Vv(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?jy.updateTime(Nv(e.updateTime)):void 0!==e.exists?jy.exists(e.exists):jy.none()}(t.currentDocument):jy.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Wf("REQUEST_TIME"===t.setToServerValue),n=new xy;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Ty(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Ny(e)}else"increment"in t?n=new Ay(e,t.increment):qf();const r=fp.fromServerFormat(t.fieldPath);return new Py(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Dv(e,t.update.name),s=new og({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new km(t.map((e=>fp.fromServerFormat(e))))}(t.updateMask);return new Wy(i,s,e,n,r)}return new qy(i,s,n,r)}if(t.delete){const r=Dv(e,t.delete);return new Qy(r,n)}if(t.verify){const r=Dv(e,t.verify);return new Yy(r,n)}return qf()}function Bv(e,t){return{documents:[Pv(e,t.path)]}}function zv(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Pv(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Pv(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Jv(gg.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Qv(e.field),direction:Hv(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Sv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function qv(e){let t=Ov(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Wf(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Wv(e);return t instanceof gg&&wg(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new dg(Yv(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Vp(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new cg(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new cg(n,t)}(n.endAt)),zg(t,i,o,s,a,"F",l,c)}function Wv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yv(e.unaryFilter.field);return mg.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Yv(e.unaryFilter.field);return mg.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yv(e.unaryFilter.field);return mg.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yv(e.unaryFilter.field);return mg.create(i,"!=",{nullValue:"NULL_VALUE"});default:return qf()}}(e):void 0!==e.fieldFilter?function(e){return mg.create(Yv(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qf()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return gg.create(e.compositeFilter.filters.map((e=>Wv(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return qf()}}(e.compositeFilter.op))}(e):qf()}function Hv(e){return bv[e]}function Kv(e){return Ev[e]}function Gv(e){return _v[e]}function Qv(e){return{fieldPath:e.canonicalString()}}function Yv(e){return fp.fromServerFormat(e.fieldPath)}function Jv(e){return e instanceof mg?function(e){if("=="===e.op){if($m(e.value))return{unaryFilter:{field:Qv(e.field),op:"IS_NAN"}};if(Xm(e.value))return{unaryFilter:{field:Qv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($m(e.value))return{unaryFilter:{field:Qv(e.field),op:"IS_NOT_NAN"}};if(Xm(e.value))return{unaryFilter:{field:Qv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qv(e.field),op:Kv(e.op),value:e.value}}}(e):e instanceof gg?function(e){const t=e.getFilters().map((e=>Jv(e)));return 1===t.length?t[0]:{compositeFilter:{op:Gv(e.op),filters:t}}}(e):qf()}function Xv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function $v(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cp.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:cp.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Cm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Zv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ew{constructor(e){this.ut=e}}function tw(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:nw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Rv(e,t.key),fields:t.data.value.mapValue.fields,updateTime:xv(e,t.version.toTimestamp()),createTime:xv(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rw(t.version)};else{if(!t.isUnknownDocument())return qf();r.unknownDocument={path:n.path.toArray(),version:rw(t.version)}}return r}function nw(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function rw(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function iw(e){const t=new lp(e.seconds,e.nanoseconds);return cp.fromTimestamp(t)}function sw(e,t){const n=(t.baseMutations||[]).map((t=>Vv(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Vv(e.ut,t))),i=lp.fromMillis(t.localWriteTimeMs);return new Jy(t.batchId,i,n,r)}function ow(e){const t=iw(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?iw(e.lastLimboFreeSnapshotVersion):cp.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return Wf(1===e.documents.length),Gg(qg(Ov(e.documents[0])))}(e.query):function(e){return Gg(qv(e))}(e.query),new Zv(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Cm.fromBase64String(e.resumeToken))}function aw(e,t){const n=rw(t.snapshotVersion),r=rw(t.lastLimboFreeSnapshotVersion);let i;i=Mg(t.target)?Bv(e.ut,t.target):zv(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:jg(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function lw(e){const t=qv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Jg(t,t.limit,"L"):t}function cw(e,t){return new $y(t.largestBatchId,Vv(e.ut,t.overlayMutation))}function uw(e,t){const n=t.path.lastSegment();return[e,qp(t.path.popLast()),n]}function hw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:rw(r.readTime),documentKey:qp(r.documentKey.path),largestBatchId:r.largestBatchId}}class dw{getBundleMetadata(e,t){return fw(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:iw(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return fw(e).put(function(e){return{bundleId:e.id,createTime:rw(Nv(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return pw(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:lw(e.bundledQuery),readTime:iw(e.readTime)}}(e)}))}saveNamedQuery(e,t){return pw(e).put(function(e){return{name:e.name,readTime:rw(Nv(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function fw(e){return ym(e,"bundles")}function pw(e){return ym(e,"namedQueries")}class mw{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new mw(e,n)}getOverlay(e,t){return gw(e).get(uw(this.userId,t)).next((e=>e?cw(this.serializer,e):null))}getOverlays(e,t){const n=uy();return kp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new $y(t,i);r.push(this.lt(e,s))})),kp.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(qp(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(gw(e).H("collectionPathOverlayIndex",r))})),kp.waitFor(i)}getOverlaysForCollection(e,t,n){const r=uy(),i=qp(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return gw(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=cw(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=uy();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return gw(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=cw(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return gw(e).put(function(e,t,n){const[r,i,s]=uw(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Uv(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function gw(e){return ym(e,"documentOverlays")}class yw{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Dm(e.integerValue));else if("doubleValue"in e){const n=Dm(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Bp(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Pm(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?tg(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):qf()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),pp.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function vw(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function ww(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=vw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yw.St=new yw;class bw{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=ww(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=ww(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Ew{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class _w{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Iw{constructor(){this.Wt=new bw,this.Gt=new Ew(this.Wt),this.zt=new _w(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Sw{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Sw(this.indexId,this.documentKey,this.arrayValue,n)}}function xw(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Tw(e.arrayValue,t.arrayValue),0!==n?n:(n=Tw(e.directionalValue,t.directionalValue),0!==n?n:pp.comparator(e.documentKey,t.documentKey)))}function Tw(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class kw{constructor(e){this.Jt=new Sm(((e,t)=>fp.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(Wf(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=gp(e);if(void 0!==t&&!this.tn(t))return!1;const n=yp(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new Sm(fp.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new vp(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new vp(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new vp(n.field,"asc"===n.dir?0:1)));return new mp(mp.UNKNOWN_ID,this.collectionId,t,wp.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Nw(e){var t,n;if(Wf(e instanceof mg||e instanceof gg),e instanceof mg){if(e instanceof Ag){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>mg.create(e.field,"==",t))))||[];return gg.create(r,"or")}return e}const r=e.filters.map((e=>Nw(e)));return gg.create(r,e.op)}function Cw(e){if(0===e.getFilters().length)return[];const t=Pw(Nw(e));return Wf(Dw(t)),Aw(t)||Rw(t)?[t]:t.getFilters()}function Aw(e){return e instanceof mg}function Rw(e){return e instanceof gg&&wg(e)}function Dw(e){return Aw(e)||Rw(e)||function(e){if(e instanceof gg&&vg(e)){for(const t of e.getFilters())if(!Aw(t)&&!Rw(t))return!1;return!0}return!1}(e)}function Pw(e){if(Wf(e instanceof mg||e instanceof gg),e instanceof mg)return e;if(1===e.filters.length)return Pw(e.filters[0]);const t=e.filters.map((e=>Pw(e)));let n=gg.create(t,e.op);return n=Lw(n),Dw(n)?n:(Wf(n instanceof gg),Wf(yg(n)),Wf(n.filters.length>1),n.filters.reduce(((e,t)=>Ow(e,t))))}function Ow(e,t){let n;return Wf(e instanceof mg||e instanceof gg),Wf(t instanceof mg||t instanceof gg),n=e instanceof mg?t instanceof mg?function(e,t){return gg.create([e,t],"and")}(e,t):jw(e,t):t instanceof mg?jw(t,e):function(e,t){if(Wf(e.filters.length>0&&t.filters.length>0),yg(e)&&yg(t))return Ig(e,t.getFilters());const n=vg(e)?e:t,r=vg(e)?t:e,i=n.filters.map((e=>Ow(e,r)));return gg.create(i,"or")}(e,t),Lw(n)}function jw(e,t){if(yg(t))return Ig(t,e.getFilters());{const n=t.filters.map((t=>Ow(e,t)));return gg.create(n,"or")}}function Lw(e){if(Wf(e instanceof mg||e instanceof gg),e instanceof mg)return e;const t=e.getFilters();if(1===t.length)return Lw(t[0]);if(bg(e))return e;const n=t.map((e=>Lw(e))),r=[];return n.forEach((t=>{t instanceof mg?r.push(t):t instanceof gg&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:gg.create(r,e.op)}class Mw{constructor(){this.on=new Fw}addToCollectionParentIndex(e,t){return this.on.add(t),kp.resolve()}getCollectionParents(e,t){return kp.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return kp.resolve()}deleteFieldIndex(e,t){return kp.resolve()}deleteAllFieldIndexes(e){return kp.resolve()}createTargetIndexes(e,t){return kp.resolve()}getDocumentsMatchingTarget(e,t){return kp.resolve(null)}getIndexType(e,t){return kp.resolve(0)}getFieldIndexes(e,t){return kp.resolve([])}getNextCollectionGroupToUpdate(e){return kp.resolve(null)}getMinOffset(e,t){return kp.resolve(_p.min())}getMinOffsetFromCollectionGroup(e,t){return kp.resolve(_p.min())}updateCollectionGroup(e,t,n){return kp.resolve()}updateIndexEntries(e,t){return kp.resolve()}}class Fw{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Sm(hp.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Sm(hp.comparator)).toArray()}}const Uw=new Uint8Array(0);class Vw{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Fw,this.an=new iy((e=>jg(e)),((e,t)=>Lg(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:qp(r)};return Bw(e).put(i)}return kp.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[ap(t),""],!1,!0);return Bw(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Kp(r.parent))}return n}))}addFieldIndex(e,t){const n=qw(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Ww(e);return i.next((e=>{n.put(hw(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=qw(e),r=Ww(e),i=zw(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=qw(e),n=zw(e),r=Ww(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return kp.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new kw(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=zw(e);let r=!0;const i=new Map;return kp.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=my();const r=[];return kp.forEach(i,((i,s)=>{Uf("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(jg(t)));const o=function(e,t){const n=gp(t);if(void 0===n)return null;for(const r of Fg(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of yp(t))for(const t of Fg(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of yp(t)){const t=0===i.kind?Ug(e,i.fieldPath,e.startAt):Vg(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new cg(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of yp(t)){const t=0===i.kind?Vg(e,i.fieldPath,e.endAt):Ug(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new cg(n,r)}(s,i),u=this.ln(i,s,l),h=this.ln(i,s,c),d=this.hn(i,s,a),f=this.Pn(i.indexId,o,u,l.inclusive,h,c.inclusive,d);return kp.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=pp.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return kp.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Cw(gg.create(e.filters,"and")).map((t=>Og(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),c=[];for(let u=0;u<a;++u){const a=t?this.In(t[u/l]):Uw,h=this.Tn(e,a,n[u%l],r),d=this.En(e,a,i[u%l],s),f=o.map((t=>this.Tn(e,a,t,!0)));c.push(...this.createRange(h,d,f))}return c}Tn(e,t,n,r){const i=new Sw(e,pp.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new Sw(e,pp.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new kw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return kp.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Sm(fp.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Iw;for(const r of yp(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);yw.St.ht(e,i)}return n.Ut()}In(e){const t=new Iw;return yw.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Iw;return yw.St.ht(Qm(this.databaseId,t),n.jt(function(e){const t=yp(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Iw);let i=0;for(const s of yp(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&Jm(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);yw.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Iw;n.seed(e.Ut()),yw.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof mg&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=qw(e),r=Ww(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return kp.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new wp(t.sequenceNumber,new _p(iw(t.readTime),new pp(Kp(t.documentKey)),t.largestBatchId)):wp.empty(),r=e.fields.map((e=>{let[t,n]=e;return new vp(fp.fromServerFormat(t),n)}));return new mp(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:sp(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=qw(e),i=Ww(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>kp.forEach(t,(t=>i.put(hw(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return kp.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?kp.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),kp.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?kp.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return zw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return zw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=zw(e);let i=new Sm(xw);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new Sw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new Sm(xw);const r=this.dn(t,e);if(null==r)return n;const i=gp(t);if(null!=i){const s=e.data.field(i.fieldPath);if(Jm(s))for(const i of s.arrayValue.values||[])n=n.add(new Sw(t.indexId,e.key,this.In(i),r))}else n=n.add(new Sw(t.indexId,e.key,Uw,r));return n}yn(e,t,n,r,i){Uf("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=Tm(s),l=Tm(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=Tm(o)):t?(i(a),a=Tm(s)):(a=Tm(s),l=Tm(o))}}(r,i,xw,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),kp.waitFor(s)}fn(e){let t=1;return Ww(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>xw(e,t))).filter(((e,t,n)=>!t||0!==xw(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=xw(s,e),i=xw(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Uw,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Uw,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return xw(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hw)}getMinOffset(e,t){return kp.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||qf())))).next(Hw)}}function Bw(e){return ym(e,"collectionParents")}function zw(e){return ym(e,"indexEntries")}function qw(e){return ym(e,"indexConfiguration")}function Ww(e){return ym(e,"indexState")}function Hw(e){Wf(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Ip(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new _p(t.readTime,t.documentKey,n)}const Kw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gw{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Gw(e,Gw.DEFAULT_COLLECTION_PERCENTILE,Gw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qw(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{Wf(1===a)})));const c=[];for(const u of n.mutations){const e=Yp(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return kp.waitFor(s).next((()=>c))}function Yw(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw qf();t=e.noDocument}return JSON.stringify(t).length}Gw.DEFAULT_COLLECTION_PERCENTILE=10,Gw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gw.DEFAULT=new Gw(41943040,Gw.DEFAULT_COLLECTION_PERCENTILE,Gw.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gw.DISABLED=new Gw(-1,0,0);class Jw{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){Wf(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Jw(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return $w(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Zw(e),s=$w(e);return s.add({}).next((o=>{Wf("number"==typeof o);const a=new Jy(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Uv(e.ut,t))),i=n.mutations.map((t=>Uv(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),c=[];let u=new Sm(((e,t)=>sp(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Yp(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,Jp))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[o]=a.keys()})),kp.waitFor(c).next((()=>a))}))}lookupMutationBatch(e,t){return $w(e).get(t).next((e=>e?(Wf(e.userId===this.userId),sw(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?kp.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return $w(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Wf(t.batchId>=n),i=sw(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return $w(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return $w(e).W("userMutationsIndex",t).next((e=>e.map((e=>sw(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=Qp(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Zw(e).Y({range:r},((n,r,s)=>{const[o,a,l]=n,c=Kp(a);if(o===this.userId&&t.path.isEqual(c))return $w(e).get(l).next((e=>{if(!e)throw qf();Wf(e.userId===this.userId),i.push(sw(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Sm(sp);const r=[];return t.forEach((t=>{const i=Qp(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Zw(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,l=Kp(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),kp.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=Qp(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Sm(sp);return Zw(e).Y({range:s},((e,t,i)=>{const[s,a,l]=e,c=Kp(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(l)):i.done()})).next((()=>this.vn(e,o)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push($w(e).get(t).next((e=>{if(null===e)throw qf();Wf(e.userId===this.userId),n.push(sw(this.serializer,e))})))})),kp.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Qw(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),kp.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return kp.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Zw(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Kp(e[1]);r.push(t)}else n.done()})).next((()=>{Wf(0===r.length)}))}))}containsKey(e,t){return Xw(e,this.userId,t)}Mn(e){return eb(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Xw(e,t,n){const r=Qp(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Zw(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function $w(e){return ym(e,"mutations")}function Zw(e){return ym(e,"documentMutations")}function eb(e){return ym(e,"mutationQueues")}class tb{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new tb(0)}static Nn(){return new tb(-1)}}class nb{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new tb(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>cp.fromTimestamp(new lp(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>rb(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(Wf(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return rb(e).Y(((s,o)=>{const a=ow(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>kp.waitFor(i))).next((()=>r))}forEachTarget(e,t){return rb(e).Y(((e,n)=>{const r=ow(n);t(r)}))}Bn(e){return ib(e).get("targetGlobalKey").next((e=>(Wf(null!==e),e)))}Ln(e,t){return ib(e).put("targetGlobalKey",t)}kn(e,t){return rb(e).put(aw(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=jg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return rb(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=ow(n);Lg(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=sb(e);return t.forEach((t=>{const s=qp(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),kp.waitFor(r)}removeMatchingKeys(e,t,n){const r=sb(e);return kp.forEach(t,(t=>{const i=qp(t.path);return kp.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=sb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=sb(e);let i=my();return r.Y({range:n,J:!0},((e,t,n)=>{const r=Kp(e[1]),s=new pp(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=qp(t.path),r=IDBKeyRange.bound([n],[ap(n)],!1,!0);let i=0;return sb(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return rb(e).get(t).next((e=>e?ow(e):null))}}function rb(e){return ym(e,"targets")}function ib(e){return ym(e,"targetGlobal")}function sb(e){return ym(e,"targetDocuments")}function ob(e,t){let[n,r]=e,[i,s]=t;const o=sp(n,i);return 0===o?sp(r,s):o}class ab{constructor(e){this.Qn=e,this.buffer=new Sm(ob),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ob(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lb{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Uf("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Dp(e)?Uf("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Tp(e)}await this.Gn(3e5)}))}}class cb{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return kp.resolve(Up._e);const n=new ab(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Uf("LruGarbageCollector","Garbage collection skipped; disabled"),kp.resolve(Kw)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Uf("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Kw):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Uf("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Ff()<=tr.DEBUG&&Uf("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-a)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),kp.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function ub(e,t){return new cb(e,t)}class hb{constructor(e,t){this.db=e,this.garbageCollector=ub(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return db(e,n)}removeReference(e,t,n){return db(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return db(e,t)}Xn(e,t){return function(e,t){let n=!1;return eb(e).Z((r=>Xw(e,r,t).next((e=>(e&&(n=!0),kp.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,o)=>{if(o<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,cp.min()),sb(e).delete(function(e){return[0,qp(e.path)]}(s)))))}));r.push(t)}})).next((()=>kp.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return db(e,t)}Zn(e,t){const n=sb(e);let r,i=Up._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:l}=n;0===s?(i!==Up._e&&t(new pp(Kp(r)),i),i=l,r=a):i=Up._e})).next((()=>{i!==Up._e&&t(new pp(Kp(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function db(e,t){return sb(e).put(function(e,t){return{targetId:0,path:qp(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class fb{constructor(){this.changes=new iy((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,lg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?kp.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class pb{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return vb(e).put(n)}removeEntry(e,t,n){return vb(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],nw(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=lg.newInvalidDocument(t);return vb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(wb(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:lg.newInvalidDocument(t)};return vb(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(wb(t))},((e,r)=>{n={document:this.tr(t,r),size:Yw(r)}})).next((()=>n))}getEntries(e,t){let n=oy();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=oy(),r=new Em(pp.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,Yw(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return kp.resolve();let r=new Sm(Eb);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(wb(r.first()),wb(r.last())),s=r.getIterator();let o=s.getNext();return vb(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=pp.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Eb(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(wb(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),nw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vb(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=oy();for(const i of e){const e=this.tr(pp.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(ey(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=oy();const s=bb(t,n),o=bb(t,_p.max());return vb(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.tr(pp.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new gb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return yb(e).get("remoteDocumentGlobalKey").next((e=>(Wf(!!e),e)))}er(e,t){return yb(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Fv(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=pp.fromSegments(t.noDocument.path),r=iw(t.noDocument.readTime);n=lg.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return qf();{const e=pp.fromSegments(t.unknownDocument.path),r=iw(t.unknownDocument.version);n=lg.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new lp(e[0],e[1]);return cp.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(cp.min()))return e}return lg.newInvalidDocument(e)}}function mb(e){return new pb(e)}class gb extends fb{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new iy((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Sm(((e,t)=>sp(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=tw(this._r.serializer,s);r=r.add(i.path.popLast());const l=Yw(a);n+=l-o.size,t.push(this._r.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=tw(this._r.serializer,s.convertToNoDocument(cp.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),kp.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function yb(e){return ym(e,"remoteDocumentGlobal")}function vb(e){return ym(e,"remoteDocumentsV14")}function wb(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function bb(e,t){const n=t.documentKey.path.toArray();return[e,nw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Eb(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=sp(n[s],r[s]),i)return i;return i=sp(n.length,r.length),i||(i=sp(n[n.length-2],r[r.length-2]),i||sp(n[n.length-1],r[r.length-1]))}class _b{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ib{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Vy(n.mutation,e,km.empty(),lp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,my()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:my();const r=uy();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ly();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=uy();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,my())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=oy();const s=dy(),o=dy();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Wy)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Vy(o.mutation,t,o.mutation.getFieldMask(),lp.now())):s.set(t.key,km.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new _b(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=dy();let r=new Em(((e,t)=>e-t)),i=my();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||km.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||my()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=hy();l.forEach((e=>{if(!i.has(e)){const r=Fy(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return kp.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return pp.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):kp.resolve(uy());let o=-1,a=i;return s.next((t=>kp.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?kp.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,my()))).next((e=>({batchId:o,changes:cy(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new pp(t)).next((e=>{let t=ly();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=ly();return this.indexManager.getCollectionParents(e,i).next((o=>kp.forEach(o,(o=>{const a=function(e,t){return new Bg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,lg.newInvalidDocument(r)))}));let n=ly();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Vy(s.mutation,r,km.empty(),lp.now()),ey(t,r)&&(n=n.insert(e,r))})),n}))}}class Sb{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return kp.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Nv(e.createTime)}}(t)),kp.resolve()}getNamedQuery(e,t){return kp.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:lw(e.bundledQuery),readTime:Nv(e.readTime)}}(t)),kp.resolve()}}class xb{constructor(){this.overlays=new Em(pp.comparator),this.lr=new Map}getOverlay(e,t){return kp.resolve(this.overlays.get(t))}getOverlays(e,t){const n=uy();return kp.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),kp.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),kp.resolve()}getOverlaysForCollection(e,t,n){const r=uy(),i=t.length+1,s=new pp(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return kp.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Em(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=uy(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=uy(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return kp.resolve(o)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new $y(t,n));let i=this.lr.get(t);void 0===i&&(i=my(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class Tb{constructor(){this.hr=new Sm(kb.Pr),this.Ir=new Sm(kb.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new kb(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new kb(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new pp(new hp([])),n=new kb(t,e),r=new kb(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new pp(new hp([])),n=new kb(t,e),r=new kb(t,e+1);let i=my();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new kb(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class kb{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return pp.comparator(e.key,t.key)||sp(e.gr,t.gr)}static Tr(e,t){return sp(e.gr,t.gr)||pp.comparator(e.key,t.key)}}class Nb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Sm(kb.Pr)}checkEmpty(e){return kp.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Jy(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.yr=this.yr.add(new kb(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return kp.resolve(s)}lookupMutationBatch(e,t){return kp.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return kp.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return kp.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return kp.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new kb(t,0),r=new kb(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),kp.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Sm(sp);return t.forEach((e=>{const t=new kb(e,0),r=new kb(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),kp.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;pp.isDocumentKey(i)||(i=i.child(""));const s=new kb(new pp(i),0);let o=new Sm(sp);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.gr)),!0)}),s),kp.resolve(this.br(o))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Wf(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return kp.forEach(t.mutations,(r=>{const i=new kb(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new kb(t,0),r=this.yr.firstAfterOrEqual(n);return kp.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,kp.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cb{constructor(e){this.Cr=e,this.docs=new Em(pp.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return kp.resolve(n?n.document.mutableCopy():lg.newInvalidDocument(t))}getEntries(e,t){let n=oy();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():lg.newInvalidDocument(e))})),kp.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=oy();const s=t.path,o=new pp(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Ip(Ep(o),n)<=0||(r.has(o.key)||ey(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return kp.resolve(i)}getAllFromCollectionGroup(e,t,n,r){qf()}vr(e,t){return kp.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ab(this)}getSize(e){return kp.resolve(this.size)}}class Ab extends fb{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),kp.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class Rb{constructor(e){this.persistence=e,this.Fr=new iy((e=>jg(e)),Lg),this.lastRemoteSnapshotVersion=cp.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Tb,this.targetCount=0,this.Nr=tb.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),kp.resolve()}getLastRemoteSnapshotVersion(e){return kp.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return kp.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),kp.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),kp.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new tb(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,kp.resolve()}updateTargetData(e,t){return this.kn(t),kp.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,kp.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),kp.waitFor(i).next((()=>r))}getTargetCount(e){return kp.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return kp.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),kp.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),kp.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),kp.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return kp.resolve(n)}containsKey(e,t){return kp.resolve(this.Or.containsKey(t))}}class Db{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Up(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new Rb(this),this.indexManager=new Mw,this.remoteDocumentCache=function(e){return new Cb(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new ew(t),this.Kr=new Sb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new xb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Nb(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Uf("MemoryPersistence","Starting transaction:",e);const r=new Pb(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return kp.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Pb extends xp{constructor(e){super(),this.currentSequenceNumber=e}}class Ob{constructor(e){this.persistence=e,this.Gr=new Tb,this.zr=null}static jr(e){return new Ob(e)}get Hr(){if(this.zr)return this.zr;throw qf()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),kp.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),kp.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),kp.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kp.forEach(this.Hr,(n=>{const r=pp.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,cp.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return kp.or([()=>kp.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class jb{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Np("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gp,{unique:!0}),e.createObjectStore("documentMutations")}(e),Lb(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=kp.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Lb(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:cp.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Gp,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return kp.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:lm});t.createIndex("collectionPathOverlayIndex",cm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",um,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Xp});t.createIndex("documentKeyIndex",$p),t.createIndex("collectionGroupIndex",Zp)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:im}).createIndex("sequenceNumberIndex",sm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:om}).createIndex("documentKeyIndex",am,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=Yw(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>kp.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>kp.forEach(n,(n=>{Wf(n.userId===t.userId);const r=sw(this.serializer,n);return Qw(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new hp(n),o=function(e){return[0,qp(e)]}(s);r.push(t.get(o).next((n=>n?kp.resolve():(n=>t.put({targetId:0,path:qp(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>kp.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:rm});const n=t.store("collectionParents"),r=new Fw,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:qp(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new hp(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=Kp(r);return i(o.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=ow(n),i=aw(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new pp(hp.fromString(e.document.name).popFirst(5)):e.noDocument?pp.fromSegments(e.noDocument.path):e.unknownDocument?pp.fromSegments(e.unknownDocument.path):qf()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>kp.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=mb(this.serializer),i=new Db(Ob.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:my();sw(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),kp.forEach(n,((e,n)=>{const s=new jf(n),o=mw.ct(this.serializer,s),a=i.getIndexManager(s),l=Jw.ct(s,this.serializer,a,i.referenceDelegate);return new Ib(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new gm(t,Up._e),e).next()}))}))}}function Lb(e){e.createObjectStore("targetDocuments",{keyPath:tm}).createIndex("documentTargetsIndex",nm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",em,{unique:!0}),e.createObjectStore("targetGlobal")}const Mb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Fb{constructor(e,t,n,r,i,s,o,a,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Fb.D())throw new Gf(Kf.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hb(this,r),this.Ii=t+"main",this.serializer=new ew(a),this.Ti=new Cp(this.Ii,this.ai,new jb(this.serializer)),this.qr=new nb(this.referenceDelegate,this.serializer),this.remoteDocumentCache=mb(this.serializer),this.Kr=new dw,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Vf("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Gf(Kf.FAILED_PRECONDITION,Mb);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Up(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Vb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(Dp(e))return Uf("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Uf("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Ub(e).get("owner").next((e=>kp.resolve(this.wi(e))))}Si(e){return Vb(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=ym(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return kp.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?kp.resolve(!0):Ub(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new Gf(Kf.FAILED_PRECONDITION,Mb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Vb(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Uf("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new gm(e,Up._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Vb(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return Jw.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Vw(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return mw.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Uf("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?mm:14===e?pm:13===e?fm:12===e?dm:11===e?hm:void qf()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new gm(r,this.Lr?this.Lr.next():Up._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw Vf("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new Gf(Kf.FAILED_PRECONDITION,Sp);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return Ub(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Gf(Kf.FAILED_PRECONDITION,Mb)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ub(e).put("owner",t)}static D(){return Cp.D()}pi(e){const t=Ub(e);return t.get("owner").next((e=>this.wi(e)?(Uf("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):kp.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Vf("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!Dn()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Uf("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Vf("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Vf("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Ub(e){return ym(e,"owner")}function Vb(e){return ym(e,"clientMetadata")}function Bb(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class zb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=my(),r=my();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new zb(e,t.fromCache,n,r)}}class qb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Wb{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new qb;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Ff()<=tr.DEBUG&&Uf("QueryEngine","SDK will not create cache indexes for query:",Zg(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),kp.resolve()):(Ff()<=tr.DEBUG&&Uf("QueryEngine","Query:",Zg(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Ff()<=tr.DEBUG&&Uf("QueryEngine","The SDK decides to create cache indexes for query:",Zg(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gg(t))):kp.resolve())}zi(e,t){if(Wg(t))return kp.resolve(null);let n=Gg(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Jg(t,null,"F"),n=Gg(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=my(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,Jg(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return Wg(t)||r.isEqual(cp.min())?kp.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?kp.resolve(null):(Ff()<=tr.DEBUG&&Uf("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zg(t)),this.Xi(e,s,t,bp(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new Sm(ny(e));return t.forEach(((t,r)=>{ey(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Ff()<=tr.DEBUG&&Uf("QueryEngine","Using full collection scan to execute query:",Zg(t)),this.Gi.getDocumentsMatchingQuery(e,t,_p.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Hb{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Em(sp),this.ns=new iy((e=>jg(e)),Lg),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ib(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function Kb(e,t,n,r){return new Hb(e,t,n,r)}async function Gb(e,t){const n=Hf(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=my();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Qb(e){const t=Hf(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function Yb(e,t,n){let r=my(),i=my();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=oy();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(cp.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Uf("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{us:r,cs:i}}))}function Jb(e,t){const n=Hf(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Xb(e,t){const n=Hf(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,kp.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new Zv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function $b(e,t,n){const r=Hf(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Dp(e))throw e;Uf("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function Zb(e,t,n){const r=Hf(e);let i=cp.min(),s=my();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Hf(e),i=r.ns.get(n);return void 0!==i?kp.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,Gg(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:cp.min(),n?s:my()))).next((e=>(nE(r,ty(t),e),{documents:e,ls:s})))))}function eE(e,t){const n=Hf(e),r=Hf(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function tE(e,t){const n=Hf(e),r=n.rs.get(t)||cp.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,bp(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(nE(n,t,e),e)))}function nE(e,t,n){let r=e.rs.get(t)||cp.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function rE(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:my();const r=await Xb(e,Gg(lw(t.bundledQuery))),i=Hf(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Nv(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const o=r.withResumeToken(Cm.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(o.targetId,o),i.qr.updateTargetData(e,o).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function iE(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function sE(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function oE(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class aE{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new Gf(r.error.code,r.error.message))),s?new aE(e,t,r.state,i):(Vf("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lE{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Gf(n.error.code,n.error.message))),i?new lE(e,n.state,r):(Vf("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=yy();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=zp(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new cE(e,i):(Vf("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class uE{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new uE(t.clientId,t.onlineState):(Vf("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class hE{constructor(){this.activeTargetIds=yy()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dE{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Em(sp),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=iE(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new hE),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(iE(this.persistenceKey,n));if(e){const t=cE.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(oE(this.persistenceKey,e));if(n){const r=lE.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(oE(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Uf("SharedClientState","READ",e,t),t}setItem(e,t){Uf("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Uf("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Uf("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Vf("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Up._e;if(null!=e)try{const n=JSON.parse(e);Wf("number"==typeof n),t=n}catch(e){Vf("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Up._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new aE(this.currentUser,e,t,n),i=sE(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=sE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=oE(this.persistenceKey,e),i=new lE(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return cE.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return aE.Ts(new jf(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return lE.Ts(r,t)}Ms(e){return uE.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Uf("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.Xs(s,o).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=yy();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class fE{constructor(){this.eo=new hE,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new hE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class pE{ro(e){}shutdown(){}}class mE{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Uf("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Uf("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let gE=null;function yE(){return null===gE?gE=268435456+Math.round(2147483648*Math.random()):gE++,"0x"+gE.toString(16)}const vE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wE{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const bE="WebChannelConnection";class EE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=yE(),o=this.So(e,t);Uf("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(a,r,i),this.Do(e,o,a,n).then((t=>(Uf("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Bf("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=vE[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=yE();return new Promise(((s,o)=>{const a=new Rf;a.setWithCredentials(!0),a.listenOnce(kf.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Tf.NO_ERROR:const t=a.getResponseJson();Uf(bE,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Tf.TIMEOUT:Uf(bE,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Gf(Kf.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const n=a.getStatus();if(Uf(bE,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kf).indexOf(t)>=0?t:Kf.UNKNOWN}(t.status);o(new Gf(e,t.message))}else o(new Gf(Kf.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Gf(Kf.UNAVAILABLE,"Connection failed."));break;default:qf()}}finally{Uf(bE,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Uf(bE,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=yE(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Sf(),o=xf(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.bo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Uf(bE,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new wE({co:t=>{d?Uf(bE,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Uf(bE,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Uf(bE,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Af.EventType.OPEN,(()=>{d||Uf(bE,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Af.EventType.CLOSE,(()=>{d||(d=!0,Uf(bE,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Af.EventType.ERROR,(t=>{d||(d=!0,Bf(bE,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new Gf(Kf.UNAVAILABLE,"The operation could not be completed")))})),p(u,Af.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Wf(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Uf(bE,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=ev[e];if(void 0!==t)return rv(t)}(t),i=o.message;void 0===n&&(n=Kf.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Ro(new Gf(n,i)),u.close()}else Uf(bE,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(o,Nf.STAT_EVENT,(t=>{t.stat===Cf.PROXY?Uf(bE,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Cf.NOPROXY&&Uf(bE,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function _E(){return"undefined"!=typeof window?window:null}function IE(){return"undefined"!=typeof document?document:null}function SE(e){return new Iv(e,!0)}class xE{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Uf("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class TE{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new xE(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===Kf.RESOURCE_EXHAUSTED?(Vf(t.toString()),Vf("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===Kf.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new Gf(Kf.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Uf("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Uf("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kE extends TE{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:qf()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Wf(void 0===t||"string"==typeof t),Cm.fromBase64String(t||"")):(Wf(void 0===t||t instanceof Uint8Array),Cm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Kf.UNKNOWN:rv(e.code);return new Gf(t,e.message||"")}(o);n=new mv(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Dv(e,r.document.name),s=Nv(r.document.updateTime),o=r.document.createTime?Nv(r.document.createTime):cp.min(),a=new og({mapValue:{fields:r.document.fields}}),l=lg.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new fv(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Dv(e,r.document),s=r.readTime?Nv(r.readTime):cp.min(),o=lg.newNoDocument(i,s),a=r.removedTargetIds||[];n=new fv([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Dv(e,r.document),s=r.removedTargetIds||[];n=new fv([],s,i,null)}else{if(!("filter"in t))return qf();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Zy(r,i),o=e.targetId;n=new pv(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return cp.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?cp.min():t.readTime?Nv(t.readTime):cp.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=jv(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Mg(r)?{documents:Bv(e,r)}:{query:zv(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tv(e,t.resumeToken);const r=Sv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(cp.min())>0){n.readTime=xv(e,t.snapshotVersion.toTimestamp());const r=Sv(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qf()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=jv(this.serializer),t.removeTarget=e,this.e_(t)}}class NE extends TE{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Wf(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(Wf(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Nv(e.updateTime):Nv(t);return n.isEqual(cp.min())&&(n=Nv(t)),new Oy(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Nv(e.commitTime);return this.listener.I_(n,t)}return Wf(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=jv(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Uv(this.serializer,e)))};this.e_(t)}}class CE extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new Gf(Kf.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Kf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gf(Kf.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(e,t,n,s,o,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Kf.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Gf(Kf.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class AE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Vf(t),this.f_=!1):Uf("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class RE{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{VE(this)&&(Uf("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Hf(e);t.C_.add(4),await PE(t),t.M_.set("Unknown"),t.C_.delete(4),await DE(t)}(this))}))})),this.M_=new AE(n,r)}}async function DE(e){if(VE(e))for(const t of e.v_)await t(!0)}async function PE(e){for(const t of e.v_)await t(!1)}function OE(e,t){const n=Hf(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),UE(n)?FE(n):i_(n).Ho()&&LE(n,t))}function jE(e,t){const n=Hf(e),r=i_(n);n.D_.delete(t),r.Ho()&&ME(n,t),0===n.D_.size&&(r.Ho()?r.Zo():VE(n)&&n.M_.set("Unknown"))}function LE(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(cp.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}i_(e).u_(t)}function ME(e,t){e.x_.Oe(t),i_(e).c_(t)}function FE(e){e.x_=new yv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),i_(e).start(),e.M_.g_()}function UE(e){return VE(e)&&!i_(e).jo()&&e.D_.size>0}function VE(e){return 0===Hf(e).C_.size}function BE(e){e.x_=void 0}async function zE(e){e.D_.forEach(((t,n)=>{LE(e,t)}))}async function qE(e,t){BE(e),UE(e)?(e.M_.w_(t),FE(e)):e.M_.set("Unknown")}async function WE(e,t,n){if(e.M_.set("Online"),t instanceof mv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Uf("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await HE(e,n)}else if(t instanceof fv?e.x_.$e(t):t instanceof pv?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(cp.min()))try{const t=await Qb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(Cm.EMPTY_BYTE_STRING,r.snapshotVersion)),ME(e,t);const i=new Zv(r.target,t,n,r.sequenceNumber);LE(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Uf("RemoteStore","Failed to raise snapshot:",t),await HE(e,t)}}async function HE(e,t,n){if(!Dp(t))throw t;e.C_.add(1),await PE(e),e.M_.set("Offline"),n||(n=()=>Qb(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Uf("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await DE(e)}))}function KE(e,t){return t().catch((n=>HE(e,n,t)))}async function GE(e){const t=Hf(e),n=s_(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;QE(t);)try{const e=await Jb(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,YE(t,e)}catch(e){await HE(t,e)}JE(t)&&XE(t)}function QE(e){return VE(e)&&e.b_.length<10}function YE(e,t){e.b_.push(t);const n=s_(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function JE(e){return VE(e)&&!s_(e).jo()&&e.b_.length>0}function XE(e){s_(e).start()}async function $E(e){s_(e).E_()}async function ZE(e){const t=s_(e);for(const n of e.b_)t.P_(n.mutations)}async function e_(e,t,n){const r=e.b_.shift(),i=Xy.from(r,t,n);await KE(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await GE(e)}async function t_(e,t){t&&s_(e).h_&&await async function(e,t){if(function(e){return nv(e)&&e!==Kf.ABORTED}(t.code)){const n=e.b_.shift();s_(e).Yo(),await KE(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await GE(e)}}(e,t),JE(e)&&XE(e)}async function n_(e,t){const n=Hf(e);n.asyncQueue.verifyOperationInProgress(),Uf("RemoteStore","RemoteStore received new credentials");const r=VE(n);n.C_.add(3),await PE(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await DE(n)}async function r_(e,t){const n=Hf(e);t?(n.C_.delete(2),await DE(n)):t||(n.C_.add(2),await PE(n),n.M_.set("Unknown"))}function i_(e){return e.O_||(e.O_=function(e,t,n){const r=Hf(e);return r.A_(),new kE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:zE.bind(null,e),Io:qE.bind(null,e),a_:WE.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),UE(e)?FE(e):e.M_.set("Unknown")):(await e.O_.stop(),BE(e))}))),e.O_}function s_(e){return e.N_||(e.N_=function(e,t,n){const r=Hf(e);return r.A_(),new NE(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:$E.bind(null,e),Io:t_.bind(null,e),T_:ZE.bind(null,e),I_:e_.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await GE(e)):(await e.N_.stop(),e.b_.length>0&&(Uf("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class o_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Qf,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new o_(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gf(Kf.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(e,t){if(Vf("AsyncQueue","".concat(t,": ").concat(e)),Dp(e))return new Gf(Kf.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class l_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||pp.comparator(t.key,n.key):(e,t)=>pp.comparator(e.key,t.key),this.keyedMap=ly(),this.sortedSet=new Em(this.comparator)}static emptySet(e){return new l_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof l_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new l_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class c_{constructor(){this.B_=new Em(pp.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):qf():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class u_{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new u_(e,t,l_.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class h_{constructor(){this.k_=void 0,this.listeners=[]}}class d_{constructor(){this.queries=new iy((e=>$g(e)),Xg),this.onlineState="Unknown",this.q_=new Set}}async function f_(e,t){const n=Hf(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new h_),i)try{s.k_=await n.onListen(r)}catch(e){const n=a_(e,"Initialization of query '".concat(Zg(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&y_(n)}async function p_(e,t){const n=Hf(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function m_(e,t){const n=Hf(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&y_(n)}function g_(e,t,n){const r=Hf(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function y_(e){e.q_.forEach((e=>{e.next()}))}class v_{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new u_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=u_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class w_{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class b_{constructor(e){this.serializer=e}hs(e){return Dv(this.serializer,e)}Ps(e){return e.metadata.exists?Fv(this.serializer,e.document,!1):lg.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Nv(e)}}class E_{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=__(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=hp.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new b_(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||my()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=Hf(e);let s=my(),o=oy();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(s=s.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),o=o.insert(e,n)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),l=await Xb(i,function(e){return Gg(qg(hp.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Yb(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new b_(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await rE(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function __(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class I_{constructor(e){this.key=e}}class S_{constructor(e){this.key=e}}class x_{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=my(),this.mutatedKeys=my(),this._a=ny(e),this.aa=new l_(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new c_,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=ey(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this._a(u,a)>0||l&&this._a(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:o,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qf()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const o=t&&!r?this.Ia():[],a=0===this.oa.size&&this.current&&!r?1:0,l=a!==this.sa;return this.sa=a,0!==s.length||l?{snapshot:new u_(this.query,e.aa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new c_,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=my(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new S_(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new I_(n))})),t}da(e){this.ia=e.ls,this.oa=my();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return u_.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class T_{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class k_{constructor(e){this.key=e,this.Ra=!1}}class N_{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new iy((e=>$g(e)),Xg),this.fa=new Map,this.ga=new Set,this.pa=new Em(pp.comparator),this.ya=new Map,this.wa=new Tb,this.Sa={},this.ba=new Map,this.Da=tb.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function C_(e,t){const n=tI(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await Xb(n.localStore,Gg(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await A_(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&OE(n.remoteStore,e)}return i}async function A_(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await Zb(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return B_(e,t.targetId,a.Ta),a.snapshot}(e,t,n,r);const s=await Zb(e.localStore,t,!0),o=new x_(t,s.ls),a=o.ca(s.documents),l=dv.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);B_(e,n,c.Ta);const u=new T_(t,n,o);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function R_(e,t){const n=Hf(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!Xg(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await $b(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),jE(n.remoteStore,r.targetId),U_(n,r.targetId)})).catch(Tp)):(U_(n,r.targetId),await $b(n.localStore,r.targetId,!0))}async function D_(e,t){const n=Hf(e);try{const e=await function(e,t){const n=Hf(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Cm.EMPTY_BYTE_STRING,cp.min()).withLastLimboFreeSnapshotVersion(cp.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.qr.updateTargetData(e,c))}));let a=oy(),l=my();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Yb(e,s,t.documentUpdates).next((e=>{a=e.us,l=e.cs}))),!r.isEqual(cp.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return kp.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(Wf(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?Wf(r.Ra):e.removedDocuments.size>0&&(Wf(r.Ra),r.Ra=!1))})),await W_(n,e,t)}catch(e){await Tp(e)}}function P_(e,t,n){const r=Hf(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Hf(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&y_(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function O_(e,t,n){const r=Hf(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new Em(pp.comparator);e=e.insert(s,lg.newNoDocument(s,cp.min()));const n=my().add(s),i=new hv(cp.min(),new Map,new Em(sp),e,n);await D_(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),q_(r)}else await $b(r.localStore,t,!1).then((()=>U_(r,t,n))).catch(Tp)}async function j_(e,t){const n=Hf(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Hf(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=kp.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Wf(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=my();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);F_(n,r,null),M_(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await W_(n,e)}catch(e){await Tp(e)}}async function L_(e,t,n){const r=Hf(e);try{const e=await function(e,t){const n=Hf(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Wf(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);F_(r,t,n),M_(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await W_(r,e)}catch(n){await Tp(n)}}function M_(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function F_(e,t,n){const r=Hf(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function U_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||V_(e,t)}))}function V_(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(jE(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),q_(e))}function B_(e,t,n){for(const r of n)r instanceof I_?(e.wa.addReference(r.key,t),z_(e,r)):r instanceof S_?(Uf("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||V_(e,r.key)):qf()}function z_(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Uf("SyncEngine","New document in limbo: "+n),e.ga.add(r),q_(e))}function q_(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new pp(hp.fromString(t)),r=e.Da.next();e.ya.set(r,new k_(n)),e.pa=e.pa.insert(n,r),OE(e.remoteStore,new Zv(Gg(qg(n.path)),r,"TargetPurposeLimboResolution",Up._e))}}async function W_(e,t,n){const r=Hf(e),i=[],s=[],o=[];r.ma.isEmpty()||(r.ma.forEach(((e,a)=>{o.push(r.va(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=zb.Qi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Va.a_(i),await async function(e,t){const n=Hf(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>kp.forEach(t,(t=>kp.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>kp.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Dp(e))throw e;Uf("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function H_(e,t){const n=Hf(e);if(!n.currentUser.isEqual(t)){Uf("SyncEngine","User change. New user:",t.toKey());const e=await Gb(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new Gf(Kf.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await W_(n,e._s)}}function K_(e,t){const n=Hf(e),r=n.ya.get(t);if(r&&r.Ra)return my().add(r.key);{let e=my();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function G_(e,t){const n=Hf(e),r=await Zb(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&B_(n,t.targetId,i.Ta),i}async function Q_(e,t){const n=Hf(e);return tE(n.localStore,t).then((e=>W_(n,e)))}async function Y_(e,t,n,r){const i=Hf(e),s=await function(e,t){const n=Hf(e),r=Hf(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):kp.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await GE(i.remoteStore):"acknowledged"===n||"rejected"===n?(F_(i,t,r||null),M_(i,t),function(e,t){Hf(Hf(e).mutationQueue).Fn(t)}(i.localStore,t)):qf(),await W_(i,s)):Uf("SyncEngine","Cannot apply mutation batch with id: "+t)}async function J_(e,t,n){const r=Hf(e),i=[],s=[];for(const o of t){let e;const t=r.fa.get(o);if(t&&0!==t.length){e=await Xb(r.localStore,Gg(t[0]));for(const e of t){const t=r.ma.get(e),n=await G_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await eE(r.localStore,o);e=await Xb(r.localStore,t),await A_(r,X_(t),o,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function X_(e){return zg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $_(e){return function(e){return Hf(Hf(e).persistence).Bi()}(Hf(e).localStore)}async function Z_(e,t,n,r){const i=Hf(e);if(i.Ca)return void Uf("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await tE(i.localStore,ty(s[0])),r=hv.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Cm.EMPTY_BYTE_STRING);await W_(i,e,r);break}case"rejected":await $b(i.localStore,t,!0),U_(i,t,r);break;default:qf()}}async function eI(e,t,n){const r=tI(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Uf("SyncEngine","Adding an already active target "+e);continue}const t=await eE(r.localStore,e),n=await Xb(r.localStore,t);await A_(r,X_(t),n.targetId,!1,n.resumeToken),OE(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await $b(r.localStore,e,!1).then((()=>{jE(r.remoteStore,e),U_(r,e)})).catch(Tp)}}function tI(e){const t=Hf(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=D_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=K_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=O_.bind(null,t),t.Va.a_=m_.bind(null,t.eventManager),t.Va.Fa=g_.bind(null,t.eventManager),t}function nI(e){const t=Hf(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=j_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=L_.bind(null,t),t}class rI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=SE(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Kb(this.persistence,new Wb,e.initialUser,this.serializer)}createPersistence(e){return new Db(Ob.jr,this.serializer)}createSharedClientState(e){return new fE}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class iI extends rI{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await nI(this.xa.syncEngine),await GE(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Kb(this.persistence,new Wb,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new lb(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Fp(t,this.persistence);return new Mp(e.asyncQueue,n)}createPersistence(e){const t=Bb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Gw.withCacheSize(this.cacheSizeBytes):Gw.DEFAULT;return new Fb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,_E(),IE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new fE}}class sI extends iI{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof dE&&(this.sharedClientState.syncEngine={Ys:Y_.bind(null,t),Zs:Z_.bind(null,t),Xs:eI.bind(null,t),Bi:$_.bind(null,t),Js:Q_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=Hf(e);if(tI(n),nI(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await J_(n,e.toArray());n.Ca=!0,await r_(n.remoteStore,!0);for(const r of t)OE(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(U_(n,i),$b(n.localStore,i,!0)))),jE(n.remoteStore,i)})),await t,await J_(n,e),function(e){const t=Hf(e);t.ya.forEach(((e,n)=>{jE(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Em(pp.comparator)}(n),n.Ca=!1,await r_(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=_E();if(!dE.D(t))throw new Gf(Kf.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Bb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new dE(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class oI{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>P_(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=H_.bind(null,this.syncEngine),await r_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new d_}createDatastore(e){const t=SE(e.databaseInfo.databaseId),n=function(e){return new EE(e)}(e.databaseInfo);return function(e,t,n,r){return new CE(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new RE(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>P_(this.syncEngine,e,0)),mE.D()?new mE:new pE)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new N_(e,t,n,r,i,s);return o&&(a.Ca=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Hf(e);Uf("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await PE(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function aI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class lI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Vf("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class cI{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new Qf,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new w_(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class uI{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Gf(Kf.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Hf(e),r=jv(n.serializer)+"/documents",i={documents:t.map((e=>Rv(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){Wf(!!t.found),t.found.name,t.found.updateTime;const n=Dv(e,t.found.name),r=Nv(t.found.updateTime),i=t.found.createTime?Nv(t.found.createTime):cp.min(),s=new og({mapValue:{fields:t.found.fields}});return lg.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){Wf(!!t.missing),Wf(!!t.readTime);const n=Dv(e,t.missing),r=Nv(t.readTime);return lg.newNoDocument(n,r)}(e,t):qf()}(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());Wf(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new Qy(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=pp.fromPath(t);this.mutations.push(new Yy(n,this.precondition(n)))})),await async function(e,t){const n=Hf(e),r=jv(n.serializer)+"/documents",i={writes:t.map((e=>Uv(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw qf();t=cp.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Gf(Kf.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(cp.min())?jy.exists(!1):jy.updateTime(t):jy.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(cp.min()))throw new Gf(Kf.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jy.updateTime(t)}return jy.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class hI{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new xE(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new uI(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Vp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!nv(t)}return!1}}class dI{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=jf.UNAUTHENTICATED,this.clientId=ip.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Uf("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Uf("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gf(Kf.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qf;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=a_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function fI(e,t){e.asyncQueue.verifyOperationInProgress(),Uf("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Gb(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function pI(e,t){e.asyncQueue.verifyOperationInProgress();const n=await gI(e);Uf("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>n_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>n_(t.remoteStore,n))),e._onlineComponents=t}function mI(e){return"FirebaseError"===e.name?e.code===Kf.FAILED_PRECONDITION||e.code===Kf.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function gI(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Uf("FirestoreClient","Using user provided OfflineComponentProvider");try{await fI(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!mI(n))throw n;Bf("Error using user provided cache. Falling back to memory cache: "+n),await fI(e,new rI)}}else Uf("FirestoreClient","Using default OfflineComponentProvider"),await fI(e,new rI);return e._offlineComponents}async function yI(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Uf("FirestoreClient","Using user provided OnlineComponentProvider"),await pI(e,e._uninitializedComponentsProvider._online)):(Uf("FirestoreClient","Using default OnlineComponentProvider"),await pI(e,new oI))),e._onlineComponents}function vI(e){return gI(e).then((e=>e.persistence))}function wI(e){return gI(e).then((e=>e.localStore))}function bI(e){return yI(e).then((e=>e.remoteStore))}function EI(e){return yI(e).then((e=>e.syncEngine))}function _I(e){return yI(e).then((e=>e.datastore))}async function II(e){const t=await yI(e),n=t.eventManager;return n.onListen=C_.bind(null,t.syncEngine),n.onUnlisten=R_.bind(null,t.syncEngine),n}function SI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new lI({next:s=>{t.enqueueAndForget((()=>p_(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Gf(Kf.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Gf(Kf.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new v_(qg(n.path),s,{includeMetadataChanges:!0,J_:!0});return f_(e,o)}(await II(e),e.asyncQueue,t,n,r))),r.promise}function xI(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Qf;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new lI({next:n=>{t.enqueueAndForget((()=>p_(e,o))),n.fromCache&&"server"===r.source?i.reject(new Gf(Kf.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new v_(n,s,{includeMetadataChanges:!0,J_:!0});return f_(e,o)}(await II(e),e.asyncQueue,t,n,r))),r.promise}function TI(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?sv().encode(e):e,function(e,t){return new cI(e,t)}(function(e,t){if(e instanceof Uint8Array)return aI(e,t);if(e instanceof ArrayBuffer)return aI(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,SE(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=Hf(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Hf(e),r=Nv(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(__(r));const i=new E_(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const o=await i.complete();return await W_(e,o.ra,void 0),await function(e,t){const n=Hf(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.na)}catch(e){return Bf("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await EI(e),i,r)}))}function kI(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const NI=new Map;function CI(e,t,n){if(!n)throw new Gf(Kf.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function AI(e,t,n,r){if(!0===t&&!0===r)throw new Gf(Kf.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function RI(e){if(!pp.isDocumentKey(e))throw new Gf(Kf.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function DI(e){if(pp.isDocumentKey(e))throw new Gf(Kf.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function PI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":qf()}function OI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Gf(Kf.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=PI(e);throw new Gf(Kf.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function jI(e,t){if(t<=0)throw new Gf(Kf.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class LI{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Gf(Kf.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Gf(Kf.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kI(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Gf(Kf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Gf(Kf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Gf(Kf.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class MI{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Gf(Kf.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Gf(Kf.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Jf;switch(e.type){case"firstParty":return new ep(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Gf(Kf.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=NI.get(e);t&&(Uf("ComponentProvider","Removing Datastore"),NI.delete(e),t.terminate())}(this),Promise.resolve()}}function FI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=OI(e,MI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Bf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=jf.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Sn(JSON.stringify({alg:"none",type:"JWT"})),Sn(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Gf(Kf.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new jf(s)}e._authCredentials=new Xf(new Yf(t,n))}}class UI{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new UI(this.firestore,e,this._query)}}class VI{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new BI(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new VI(this.firestore,e,this._key)}}class BI extends UI{constructor(e,t,n){super(e,t,qg(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new VI(this.firestore,null,new pp(e))}withConverter(e){return new BI(this.firestore,e,this._path)}}function zI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yn(e),CI("collection","path",t),e instanceof MI){const n=hp.fromString(t,...r);return DI(n),new BI(e,null,n)}{if(!(e instanceof VI||e instanceof BI))throw new Gf(Kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hp.fromString(t,...r));return DI(n),new BI(e.firestore,null,n)}}function qI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Yn(e),1===arguments.length&&(t=ip.newId()),CI("doc","path",t),e instanceof MI){const n=hp.fromString(t,...r);return RI(n),new VI(e,null,new pp(n))}{if(!(e instanceof VI||e instanceof BI))throw new Gf(Kf.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(hp.fromString(t,...r));return RI(n),new VI(e.firestore,e instanceof BI?e.converter:null,new pp(n))}}function WI(e,t){return e=Yn(e),t=Yn(t),(e instanceof VI||e instanceof BI)&&(t instanceof VI||t instanceof BI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function HI(e,t){return e=Yn(e),t=Yn(t),e instanceof UI&&t instanceof UI&&e.firestore===t.firestore&&Xg(e._query,t._query)&&e.converter===t.converter}class KI{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new xE(this,"async_queue_retry"),this.iu=()=>{const e=IE();e&&Uf("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=IE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=IE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new Qf;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!Dp(e))throw e;Uf("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Vf("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=o_.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&qf()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function GI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class QI{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qf,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class YI extends MI{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new KI,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||XI(this),this._firestoreClient.terminate()}}function JI(e){return e._firestoreClient||XI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function XI(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Mm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,kI(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new dI(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function $I(e,t,n){const r=new Qf;return e.asyncQueue.enqueue((async()=>{try{await fI(e,n),await pI(e,t),r.resolve()}catch(e){const n=e;if(!mI(n))throw n;Bf("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function ZI(e){return function(e){const t=new Qf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=Hf(e);VE(n.remoteStore)||Uf("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Hf(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=a_(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await EI(e),t))),t.promise}(JI(e=OI(e,YI)))}function eS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vI(e),n=await bI(e);return t.setNetworkEnabled(!0),function(e){const t=Hf(e);return t.C_.delete(0),DE(t)}(n)}))}(JI(e=OI(e,YI)))}function tS(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await vI(e),n=await bI(e);return t.setNetworkEnabled(!1),async function(e){const t=Hf(e);t.C_.add(0),await PE(t),t.M_.set("Offline")}(n)}))}(JI(e=OI(e,YI)))}function nS(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Hf(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await wI(e),t)))}(JI(e=OI(e,YI)),t).then((t=>t?new UI(e,null,t.query):null))}function rS(e){if(e._initialized||e._terminated)throw new Gf(Kf.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class iS{constructor(e){this._byteString=e}static fromBase64String(e){try{return new iS(Cm.fromBase64String(e))}catch(e){throw new Gf(Kf.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new iS(Cm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sS{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fp(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class oS{constructor(e){this._methodName=e}}class aS{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Gf(Kf.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Gf(Kf.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return sp(this._lat,e._lat)||sp(this._long,e._long)}}const lS=/^__.*__$/;class cS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Wy(e,this.data,this.fieldMask,t,this.fieldTransforms):new qy(e,this.data,t,this.fieldTransforms)}}class uS{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Wy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hS(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qf()}}class dS{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new dS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return DS(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(hS(this.Iu)&&lS.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class fS{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||SE(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new dS({Iu:e,methodName:t,gu:n,path:fp.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pS(e){const t=e._freezeSettings(),n=SE(e._databaseId);return new fS(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mS(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.pu(s.merge||s.mergeFields?2:0,t,n,i);NS("Data must be an object, but it was:",o,r);const a=TS(r,o);let l,c;if(s.merge)l=new km(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=CS(t,r,n);if(!o.contains(i))throw new Gf(Kf.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));PS(e,i)||e.push(i)}l=new km(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new cS(new og(a),l,c)}class gS extends oS{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gS}}function yS(e,t,n){return new dS({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class vS extends oS{_toFieldTransform(e){return new Py(e.path,new xy)}isEqual(e){return e instanceof vS}}class wS extends oS{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=yS(this,e,!0),n=this.yu.map((e=>xS(e,t))),r=new Ty(n);return new Py(e.path,r)}isEqual(e){return this===e}}class bS extends oS{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=yS(this,e,!0),n=this.yu.map((e=>xS(e,t))),r=new Ny(n);return new Py(e.path,r)}isEqual(e){return this===e}}class ES extends oS{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Ay(e.serializer,by(e.serializer,this.wu));return new Py(e.path,t)}isEqual(e){return this===e}}function _S(e,t,n,r){const i=e.pu(1,t,n);NS("Data must be an object, but it was:",i,r);const s=[],o=og.empty();wm(r,((e,r)=>{const a=RS(t,e,n);r=Yn(r);const l=i.Ru(a);if(r instanceof gS)s.push(a);else{const e=xS(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new km(s);return new uS(o,a,i.fieldTransforms)}function IS(e,t,n,r,i,s){const o=e.pu(1,t,n),a=[CS(t,r,n)],l=[i];if(s.length%2!=0)throw new Gf(Kf.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(CS(t,s[d])),l.push(s[d+1]);const c=[],u=og.empty();for(let d=a.length-1;d>=0;--d)if(!PS(c,a[d])){const e=a[d];let t=l[d];t=Yn(t);const n=o.Ru(e);if(t instanceof gS)c.push(e);else{const r=xS(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new km(c);return new uS(u,h,o.fieldTransforms)}function SS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return xS(n,e.pu(r?4:3,t))}function xS(e,t){if(kS(e=Yn(e)))return NS("Unsupported field value:",t,e),TS(e,t);if(e instanceof oS)return function(e,t){if(!hS(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=xS(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Yn(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return by(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=lp.fromDate(e);return{timestampValue:xv(t.serializer,n)}}if(e instanceof lp){const n=new lp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:xv(t.serializer,n)}}if(e instanceof aS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof iS)return{bytesValue:Tv(t.serializer,e._byteString)};if(e instanceof VI){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Cv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(PI(e)))}(e,t)}function TS(e,t){const n={};return bm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wm(e,((e,r)=>{const i=xS(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function kS(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof lp||e instanceof aS||e instanceof iS||e instanceof VI||e instanceof oS)}function NS(e,t,n){if(!kS(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=PI(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function CS(e,t,n){if((t=Yn(t))instanceof sS)return t._internalPath;if("string"==typeof t)return RS(e,t);throw DS("Field path arguments must be of type string or ",e,!1,void 0,n)}const AS=new RegExp("[~\\*/\\[\\]]");function RS(e,t,n){if(t.search(AS)>=0)throw DS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new sS(...t.split("."))._internalPath}catch(kc){throw DS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function DS(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Gf(Kf.INVALID_ARGUMENT,a+e+l)}function PS(e,t){return e.some((e=>e.isEqual(t)))}class OS{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new VI(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class jS extends OS{data(){return super.data()}}function LS(e,t){return"string"==typeof t?RS(e,t):t instanceof sS?t._internalPath:t._delegate._internalPath}function MS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Gf(Kf.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FS{}class US extends FS{}function VS(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof FS&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof zS)).length,n=e.filter((e=>e instanceof BS)).length;if(t>1||t>0&&n>0)throw new Gf(Kf.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class BS extends US{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new BS(e,t,n)}_apply(e){const t=this._parse(e);return JS(e._query,t),new UI(e.firestore,e.converter,Yg(e._query,t))}_parse(e){const t=pS(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){YS(o,s);const t=[];for(const n of o)t.push(QS(r,e,n));a={arrayValue:{values:t}}}else a=QS(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||YS(o,s),a=SS(n,t,o,"in"===s||"not-in"===s);return mg.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class zS extends FS{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new zS(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:gg.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)JS(n,i),n=Yg(n,i)}(e._query,t),new UI(e.firestore,e.converter,Yg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qS extends US{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new qS(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dg(t,n)}(e._query,this._field,this._direction);return new UI(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class WS extends US{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new WS(e,t,n)}_apply(e){return new UI(e.firestore,e.converter,Jg(e._query,this._limit,this._limitType))}}class HS extends US{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new HS(e,t,n)}_apply(e){const t=GS(e,this.type,this._docOrFields,this._inclusive);return new UI(e.firestore,e.converter,function(e,t){return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class KS extends US{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new KS(e,t,n)}_apply(e){const t=GS(e,this.type,this._docOrFields,this._inclusive);return new UI(e.firestore,e.converter,function(e,t){return new Bg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function GS(e,t,n,r){if(n[0]=Yn(n[0]),n[0]instanceof OS)return function(e,t,n,r,i){if(!r)throw new Gf(Kf.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of Kg(e))if(o.field.isKeyField())s.push(Qm(t,r.key));else{const e=r.data.field(o.field);if(Om(e))throw new Gf(Kf.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new cg(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=pS(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new Gf(Kf.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let l=0;l<i.length;l++){const s=i[l];if(o[l].field.isKeyField()){if("string"!=typeof s)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!Hg(e)&&-1!==s.indexOf("/"))throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(hp.fromString(s));if(!pp.isDocumentKey(n))throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new pp(n);a.push(Qm(t,i))}else{const e=SS(n,r,s);a.push(e)}}return new cg(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function QS(e,t,n){if("string"==typeof(n=Yn(n))){if(""===n)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hg(t)&&-1!==n.indexOf("/"))throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(hp.fromString(n));if(!pp.isDocumentKey(r))throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Qm(e,new pp(r))}if(n instanceof VI)return Qm(e,n._key);throw new Gf(Kf.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(PI(n),"."))}function YS(e,t){if(!Array.isArray(e)||0===e.length)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function JS(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Gf(Kf.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Gf(Kf.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class XS{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Dm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Pm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw qf()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return wm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new aS(Dm(e.latitude),Dm(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lm(e));default:return null}}convertTimestamp(e){const t=Rm(e);return new lp(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=hp.fromString(e);Wf($v(n));const r=new Fm(n.get(1),n.get(3)),i=new pp(n.popFirst(5));return r.isEqual(t)||Vf("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function $S(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ZS extends XS{constructor(e){super(),this.firestore=e}convertBytes(e){return new iS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new VI(this.firestore,null,t)}}class ex{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class tx extends OS{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new nx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(LS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class nx extends tx{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class rx{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ex(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new nx(this._firestore,this._userDataWriter,n.key,n,new ex(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gf(Kf.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new nx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ex(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new nx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ex(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ix(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ix(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qf()}}function sx(e,t){return e instanceof tx&&t instanceof tx?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof rx&&t instanceof rx&&e._firestore===t._firestore&&HI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class ox extends XS{constructor(e){super(),this.firestore=e}convertBytes(e){return new iS(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new VI(this.firestore,null,t)}}function ax(e){e=OI(e,VI);const t=OI(e.firestore,YI),n=JI(t),r=new ox(t);return function(e,t){const n=new Qf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Hf(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Gf(Kf.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=a_(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await wI(e),t,n))),n.promise}(n,e._key).then((n=>new tx(t,r,e._key,n,new ex(null!==n&&n.hasLocalMutations,!0),e.converter)))}function lx(e){e=OI(e,UI);const t=OI(e.firestore,YI),n=JI(t),r=new ox(t);return function(e,t){const n=new Qf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Zb(e,t,!0),i=new x_(t,r.ls),s=i.ca(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=a_(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await wI(e),t,n))),n.promise}(n,e._query).then((n=>new rx(t,r,e,n)))}function cx(e,t,n){e=OI(e,VI);const r=OI(e.firestore,YI),i=$S(e.converter,t,n);return fx(r,[mS(pS(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jy.none())])}function ux(e,t,n){e=OI(e,VI);const r=OI(e.firestore,YI),i=pS(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Yn(t))||t instanceof sS?IS(i,"updateDoc",e._key,t,n,a):_S(i,"updateDoc",e._key,t),fx(r,[s.toMutation(e._key,jy.exists(!0))])}function hx(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Yn(e);let a={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||GI(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges};if(GI(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof VI)h=OI(e.firestore,YI),d=qg(e._key.path),u={next:t=>{n[l]&&n[l](px(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=OI(e,UI);h=OI(t.firestore,YI),d=t._query;const r=new ox(h);u={next:e=>{n[l]&&n[l](new rx(h,r,t,e))},error:n[l+1],complete:n[l+2]},MS(e._query)}return function(e,t,n,r){const i=new lI(r),s=new v_(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>f_(await II(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>p_(await II(e),s)))}}(JI(h),d,c,u)}function dx(e,t){return function(e,t){const n=new lI(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Hf(e).q_.add(t),t.next()}(await II(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Hf(e).q_.delete(t)}(await II(e),n)))}}(JI(e=OI(e,YI)),GI(t)?t:{next:t})}function fx(e,t){return function(e,t){const n=new Qf;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=nI(e);try{const e=await function(e,t){const n=Hf(e),r=lp.now(),i=t.reduce(((e,t)=>e.add(t.key)),my());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=oy(),l=my();return n.ss.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=By(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Wy(e.key,t,ag(t.value.mapValue),jy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:cy(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Em(sp)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await W_(r,e.changes),await GE(r.remoteStore)}catch(e){const t=a_(e,"Failed to persist write");n.reject(t)}}(await EI(e),t,n))),n.promise}(JI(e),t)}function px(e,t,n){const r=n.docs.get(t._key),i=new ox(e);return new tx(e,i,t._key,r,new ex(n.hasPendingWrites,n.fromCache),t.converter)}const mx={maxAttempts:5};class gx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pS(e)}set(e,t,n){this._verifyNotCommitted();const r=yx(e,this._firestore),i=$S(r.converter,t,n),s=mS(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,jy.none())),this}update(e,t,n){this._verifyNotCommitted();const r=yx(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Yn(t))||t instanceof sS?IS(this._dataReader,"WriteBatch.update",r._key,t,n,o):_S(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,jy.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=yx(e,this._firestore);return this._mutations=this._mutations.concat(new Qy(t._key,jy.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Gf(Kf.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function yx(e,t){if((e=Yn(e)).firestore!==t)throw new Gf(Kf.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class vx extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pS(e)}get(e){const t=yx(e,this._firestore),n=new ZS(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return qf();const r=e[0];if(r.isFoundDocument())return new OS(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new OS(this._firestore,n,t._key,null,t.converter);throw qf()}))}set(e,t,n){const r=yx(e,this._firestore),i=$S(r.converter,t,n),s=mS(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=yx(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=Yn(t))||t instanceof sS?IS(this._dataReader,"Transaction.update",r._key,t,n,o):_S(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=yx(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=yx(e,this._firestore),n=new ox(this._firestore);return super.get(e).then((e=>new tx(this._firestore,n,t._key,e._document,new ex(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Lf=e}(Vr),Or(new Jn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new YI(new $f(e.getProvider("auth-internal")),new np(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Gf(Kf.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fm(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Hr(Of,"4.4.0",e),Hr(Of,"4.4.0","esm2017")}();function wx(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Gf("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bx(){if("undefined"===typeof Uint8Array)throw new Gf("unimplemented","Uint8Arrays are not available in this environment.")}function Ex(){if("undefined"==typeof atob)throw new Gf("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _x{constructor(e){this._delegate=e}static fromBase64String(e){return Ex(),new _x(iS.fromBase64String(e))}static fromUint8Array(e){return bx(),new _x(iS.fromUint8Array(e))}toBase64(){return Ex(),this._delegate.toBase64()}toUint8Array(){return bx(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ix(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Sx{enableIndexedDbPersistence(e,t){return function(e,t){rS(e=OI(e,YI));const n=JI(e);if(n._uninitializedComponentsProvider)throw new Gf(Kf.FAILED_PRECONDITION,"SDK cache is already specified.");Bf("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new oI;return $I(n,i,new iI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){rS(e=OI(e,YI));const t=JI(e);if(t._uninitializedComponentsProvider)throw new Gf(Kf.FAILED_PRECONDITION,"SDK cache is already specified.");Bf("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new oI;return $I(t,r,new sI(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Gf(Kf.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Qf;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Cp.D())return Promise.resolve();const t=e+"main";await Cp.delete(t)}(Bb(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class xx{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Fm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Bf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};FI(this._delegate,e,t,n)}enableNetwork(){return eS(this._delegate)}disableNetwork(){return tS(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,AI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return ZI(this._delegate)}onSnapshotsInSync(e){return dx(this._delegate,e)}get app(){if(!this._appCompat)throw new Gf("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ux(this,zI(this._delegate,e))}catch(t){throw Rx(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ax(this,qI(this._delegate,e))}catch(t){throw Rx(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Lx(this,function(e,t){if(e=OI(e,MI),CI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Gf(Kf.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new UI(e,null,function(e){return new Bg(hp.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw Rx(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=OI(e,YI);const r=Object.assign(Object.assign({},mx),n);return function(e){if(e.maxAttempts<1)throw new Gf(Kf.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Qf;return e.asyncQueue.enqueueAndForget((async()=>{const i=await _I(e);new hI(e.asyncQueue,i,n,t,r).run()})),r.promise}(JI(e),(n=>t(new vx(e,n))),r)}(this._delegate,(t=>e(new kx(this,t))))}batch(){return JI(this._delegate),new Nx(new gx(this._delegate,(e=>fx(this._delegate,e))))}loadBundle(e){return function(e,t){const n=JI(e=OI(e,YI)),r=new QI;return TI(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return nS(this._delegate,e).then((e=>e?new Lx(this,e):null))}}class Tx extends XS{constructor(e){super(),this.firestore=e}convertBytes(e){return new _x(new iS(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ax.forKey(t,this.firestore,null)}}class kx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Tx(e)}get(e){const t=Vx(e);return this._delegate.get(t).then((e=>new Ox(this._firestore,new tx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Vx(e);return n?(wx("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Vx(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Vx(e);return this._delegate.delete(t),this}}class Nx{constructor(e){this._delegate=e}set(e,t,n){const r=Vx(e);return n?(wx("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=Vx(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=Vx(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Cx{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new nx(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new jx(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Cx.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Cx(e,new Tx(e),t),r.set(t,i)),i}}Cx.INSTANCES=new WeakMap;class Ax{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tx(e)}static forPath(e,t,n){if(e.length%2!==0)throw new Gf("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new Ax(t,new VI(t._delegate,n,new pp(e)))}static forKey(e,t,n){return new Ax(t,new VI(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new Ux(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ux(this.firestore,zI(this._delegate,e))}catch(t){throw Rx(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Yn(e))instanceof VI&&WI(this._delegate,e)}set(e,t){t=wx("DocumentReference.set",t);try{return t?cx(this._delegate,e,t):cx(this._delegate,e)}catch(n){throw Rx(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?ux(this._delegate,e):ux(this._delegate,e,t,...r)}catch(s){throw Rx(s,"updateDoc()","DocumentReference.update()")}}delete(){return fx(OI((e=this._delegate).firestore,YI),[new Qy(e._key,jy.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Dx(t),i=Px(t,(e=>new Ox(this.firestore,new tx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return hx(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?ax(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=OI(e,VI);const t=OI(e.firestore,YI);return SI(JI(t),e._key,{source:"server"}).then((n=>px(t,e,n)))}(this._delegate):function(e){e=OI(e,VI);const t=OI(e.firestore,YI);return SI(JI(t),e._key).then((n=>px(t,e,n)))}(this._delegate),t.then((e=>new Ox(this.firestore,new tx(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Ax(this.firestore,e?this._delegate.withConverter(Cx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Rx(e,t,n){return e.message=e.message.replace(t,n),e}function Dx(e){for(const t of e)if("object"===typeof t&&!Ix(t))return t;return{}}function Px(e,t){var n,r;let i;return i=Ix(e[0])?e[0]:Ix(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ox{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ax(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sx(this._delegate,e._delegate)}}class jx extends Ox{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||qf(),t}}class Lx{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Tx(e)}where(e,t,n){try{return new Lx(this.firestore,VS(this._delegate,function(e,t,n){const r=t,i=LS("where",e);return BS._create(i,r,n)}(e,t,n)))}catch(r){throw Rx(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Lx(this.firestore,VS(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=LS("orderBy",e);return qS._create(n,t)}(e,t)))}catch(n){throw Rx(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Lx(this.firestore,VS(this._delegate,(jI("limit",t=e),WS._create("limit",t,"F"))))}catch(t){throw Rx(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new Lx(this.firestore,VS(this._delegate,(jI("limitToLast",t=e),WS._create("limitToLast",t,"L"))))}catch(t){throw Rx(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new Lx(this.firestore,VS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HS._create("startAt",t,!0)}(...arguments)))}catch(e){throw Rx(e,"startAt()","Query.startAt()")}}startAfter(){try{return new Lx(this.firestore,VS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return HS._create("startAfter",t,!1)}(...arguments)))}catch(e){throw Rx(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new Lx(this.firestore,VS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KS._create("endBefore",t,!1)}(...arguments)))}catch(e){throw Rx(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new Lx(this.firestore,VS(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return KS._create("endAt",t,!0)}(...arguments)))}catch(e){throw Rx(e,"endAt()","Query.endAt()")}}isEqual(e){return HI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?lx(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=OI(e,UI);const t=OI(e.firestore,YI),n=JI(t),r=new ox(t);return xI(n,e._query,{source:"server"}).then((n=>new rx(t,r,e,n)))}(this._delegate):function(e){e=OI(e,UI);const t=OI(e.firestore,YI),n=JI(t),r=new ox(t);return MS(e._query),xI(n,e._query).then((n=>new rx(t,r,e,n)))}(this._delegate),t.then((e=>new Fx(this.firestore,new rx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Dx(t),i=Px(t,(e=>new Fx(this.firestore,new rx(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return hx(this._delegate,r,i)}withConverter(e){return new Lx(this.firestore,e?this._delegate.withConverter(Cx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Mx{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new jx(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Fx{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Lx(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new jx(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new Mx(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new jx(this._firestore,n))}))}isEqual(e){return sx(this._delegate,e._delegate)}}class Ux extends Lx{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ax(this.firestore,e):null}doc(e){try{return new Ax(this.firestore,void 0===e?qI(this._delegate):qI(this._delegate,e))}catch(t){throw Rx(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=OI(e.firestore,YI),r=qI(e),i=$S(e.converter,t);return fx(n,[mS(pS(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jy.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new Ax(this.firestore,e)))}isEqual(e){return WI(this._delegate,e._delegate)}withConverter(e){return new Ux(this.firestore,e?this._delegate.withConverter(Cx.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Vx(e){return OI(e,VI)}class Bx{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new sS(...t)}static documentId(){return new Bx(fp.keyField().canonicalString())}isEqual(e){return(e=Yn(e))instanceof sS&&this._delegate._internalPath.isEqual(e._internalPath)}}class zx{constructor(e){this._delegate=e}static serverTimestamp(){const e=new vS("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new zx(e)}static delete(){const e=new gS("deleteField");return e._methodName="FieldValue.delete",new zx(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wS("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new zx(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new bS("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new zx(e)}static increment(e){const t=new ES("increment",e);return t._methodName="FieldValue.increment",new zx(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const qx={Firestore:xx,GeoPoint:aS,Timestamp:lp,Blob:_x,Transaction:kx,WriteBatch:Nx,DocumentReference:Ax,DocumentSnapshot:Ox,Query:Lx,QueryDocumentSnapshot:jx,QuerySnapshot:Fx,CollectionReference:Ux,FieldPath:Bx,FieldValue:zx,setLogLevel:function(e){var t;t=e,Mf.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Jn("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qx)))}(e,((e,t)=>new xx(e,t,new Sx))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(ui);ui.initializeApp({apiKey:"AIzaSyBk_oSKrLs6ZDIOKPYbNPOiXx9ZDoWaZqk",authDomain:"otp-verification-e1f88.firebaseapp.com",projectId:"otp-verification-e1f88",storageBucket:"otp-verification-e1f88.appspot.com",messagingSenderId:"870706566020",appId:"1:870706566020:web:b8ee6de8025c26c341c3d1",measurementId:"G-SWX0SL8PQB"});const Wx=ui;var Hx=n(184);const Kx=function(){const e=Wx.auth(),t=qt(),n=(0,r.useRef)(null),i=(0,r.useRef)(null),s=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useRef)(null),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!0),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(),[y,v]=(0,r.useState)(),[w,b]=(0,r.useState)(),[E,_]=(0,r.useState)(),[I,S]=(0,r.useState)(),[x,T]=(0,r.useState)(!1),[k,N]=(0,r.useState)(!1),[C,A]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[P,O]=(0,r.useState)(!1),[j,L]=(0,r.useState)(null),[M,F]=(0,r.useState)("none"),[U,V]=(0,r.useState)(!1),[B,z]=(0,r.useState)("inline-block"),[q,W]=(0,r.useState)(!1),H=t=>{if(t.preventDefault(),""===o.current.value)g("FIELD IS"),v("EMPTY");else if(o.current.value.length>9){O("none"),V(!0),window.recaptchaVerifier=new Ia(e,"sign-in-button",{size:"invisible",callback:e=>{H()},defaultCountry:"IN"});const t="+91"+o.current.value,n=window.recaptchaVerifier;Wx.auth().signInWithPhoneNumber(t,n).then((e=>{window.confirmationResult=e,F("inline-block"),L("OTP SENT SUCCESSFULL"),z("none")})).catch((e=>{L(e.message),O("inline-block")}))}else g("INVALID"),v("PHONE NUMBER")},K=async e=>{e.preventDefault(),""!==i.current.value&&""!==s.current.value&&""!==o.current.value?i.current.value.length>5?s.current.value.length>5?!0===f?await Ye.post("http://localhost:4000/signup",{suname:i.current.value,spass:s.current.value,sphone:o.current.value}).then((e=>{"permit"===e.data&&(console.log("permit"),b("permit"),g("SIGN-UP SUCCESSFULL"),v("GO TO LOGIN")),"up"===e.data&&(b("notpermit"),g("BOTH USERNAME AND"),v("PHONE NUMBER ALREADY EXIST")),"u"===e.data&&(b("notpermit"),g("USERNAME IS"),v("ALREADY EXIST")),"p"===e.data&&(b("notpermit"),g("PHONE NUMBER IS"),v("ALREADY EXIST"))})):(g("PHONE NUMBER"),v("IS NOT VERIFIED")):(g("PASSWORD MUST"),v("CONTAINS ATLEAST 6 CHARACTER")):(g("USERNAME MUST"),v("CONTAINS ATLEAST 6 CHARACTER")):(g("SOME FIELD"),v("IS EMPTY"))};return(0,Hx.jsxs)("div",{className:"lbody",children:[(0,Hx.jsx)("h1",{id:"logh1",children:"GAMING "}),(0,Hx.jsxs)("div",{className:"main",children:[(0,Hx.jsx)("input",{type:"checkbox",id:"chk","aria-hidden":"true"}),(0,Hx.jsx)("div",{className:"signup",children:(0,Hx.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(!0),""!==a.current.value&&""!==l.current.value?await Ye.post("http://localhost:4000/login",{luname:a.current.value,lpass:l.current.value}).then((e=>{const n=e.data;console.log(n),"bc"===n.name&&(sessionStorage.setItem("un",a.current.value),sessionStorage.setItem("ud",n.uuid),t("/home")),"ip"===n.name&&(u(!1),S("INCORRECT PASSWORD")),"iu"===n.name&&(u(!1),S("INCORRECT USERNAME")),"bic"===n.name&&(u(!1),S("BOTH ARE INCORRECT"))})):(u(!1),S("FIELD IS EMPTY"))},children:[(0,Hx.jsx)("label",{htmlFor:"chk","aria-hidden":"true",children:"LOGIN"}),(0,Hx.jsx)("input",{className:"linput",type:"text",name:"username",placeholder:"USER NAME",required:"",ref:a}),(0,Hx.jsx)("input",{className:"linput",type:k?"text":"password",name:"password",placeholder:"PASSWORD",required:"",ref:l}),R?(0,Hx.jsx)("button",{id:"la",onClick:e=>{e.preventDefault(),N(!1),D(!1)},children:"HIDE"}):(0,Hx.jsx)("button",{id:"la",onClick:e=>{e.preventDefault(),N(!0),D(!0)},children:"SHOW"}),c?(0,Hx.jsx)("div",{id:"logload"}):(0,Hx.jsx)("button",{id:"lbutton",children:"LOGIN"}),(0,Hx.jsx)("div",{className:"amess",children:I}),(0,Hx.jsx)(vn,{to:"/fp",id:"forp",children:"forgot password ?"})]})}),"permit"!==w?(0,Hx.jsx)("div",{className:"login",children:(0,Hx.jsxs)("form",{onSubmit:K,children:[(0,Hx.jsx)("label",{htmlFor:"chk","aria-hidden":"true",children:"SIGN UP"}),(0,Hx.jsx)("input",{id:"suinput",type:"text",name:"username",placeholder:"USER NAME",required:"",ref:i}),(0,Hx.jsx)("button",{className:"ca",onClick:async e=>{e.preventDefault(),""!==i.current.value?i.current.value.length>5?await Ye.post("http://localhost:4000/cu",{suname:i.current.value}).then((e=>{"a"===e.data?_("USERNAME IS AVAILABLE"):_("USERNAME IS NOT AVAILABLE")})):_("MUST CONTAIN 6 CHARACTERS"):_("FIELD IS EMPTY")},children:"CHECK"}),(0,Hx.jsx)("h6",{id:"am",children:E}),(0,Hx.jsx)("input",{id:"spinput",type:x?"text":"password",name:"password",placeholder:"PASSWORD",required:"",ref:s}),C?(0,Hx.jsx)("button",{className:"ca",onClick:e=>{e.preventDefault(),T(!1),A(!1)},children:"HIDE"}):(0,Hx.jsx)("button",{className:"ca",onClick:e=>{e.preventDefault(),T(!0),A(!0)},children:"SHOW"}),(0,Hx.jsx)("input",{className:"sninput",type:"number",name:"phone",placeholder:"PHONE NUMBER",required:"",ref:o}),U?(0,Hx.jsx)("div",{className:"mload",style:{display:"".concat(B)}}):(0,Hx.jsx)("button",{className:"ca",onClick:H,style:{display:"".concat(P)},children:"GET OTP"}),(0,Hx.jsx)("div",{className:"osm",children:j}),h?(0,Hx.jsx)("div",{children:q?(0,Hx.jsx)("div",{className:"vload"}):(0,Hx.jsx)("input",{id:"eotp",className:"sninput",type:"number",name:"phone",placeholder:"ENTER OTP",required:"",ref:n})}):(0,Hx.jsx)("div",{className:"sver",children:"VERIFIED"}),h?(0,Hx.jsx)("div",{children:q?(0,Hx.jsx)("div",{style:{display:"none"}}):(0,Hx.jsx)("button",{id:"verify",onClick:e=>{if(e.preventDefault(),""===n.current.value)g("FIELD IS"),v("EMPTY");else{W(!0);const e=n.current.value;window.confirmationResult.confirm(e).then((e=>{"object"===typeof e&&(d(!1),p(!0))})).catch((e=>{console.log(e.message),d(!0),g("INCORRECT"),v("OTP"),p(!1),W(!1)}))}},style:{display:"".concat(M)},children:"VERIFY"})}):(0,Hx.jsx)("div",{style:{display:"none"}}),(0,Hx.jsx)("div",{id:"sign-in-button",style:{display:"none"}}),(0,Hx.jsx)("button",{id:"sbutton",children:"SIGN UP"}),(0,Hx.jsxs)("div",{className:"emess",children:[m," ",y]})]})}):(0,Hx.jsx)("div",{className:"login",children:(0,Hx.jsxs)("form",{onSubmit:K,children:[(0,Hx.jsx)("label",{htmlFor:"chk","aria-hidden":"true",children:"SIGN UP"}),(0,Hx.jsxs)("div",{className:"amess",children:[m,(0,Hx.jsx)("br",{}),y]})]})})]})]})};const Gx=function(){const e=qt(),[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[o,a]=(0,r.useState)();return(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/coin",{username:e}).then((e=>{a(e.data.amount)}))})()}),[]),(0,Hx.jsxs)("div",{className:"nmain",children:[(0,Hx.jsxs)("div",{className:"nav",children:[(0,Hx.jsx)("div",{id:"nh1",children:"GAMING HUB"}),(0,Hx.jsx)("div",{className:"ndd",children:(0,Hx.jsx)("button",{id:"ndd",onClick:()=>{s(!i)}})}),i&&(0,Hx.jsxs)("div",{className:"drop",children:[(0,Hx.jsx)("div",{className:"idrop",children:(0,Hx.jsxs)("span",{id:"cspan",children:[(0,Hx.jsx)("button",{id:"coin"}),o]})}),(0,Hx.jsx)("div",{className:"idrop",children:(0,Hx.jsx)("span",{onClick:()=>{s(!i),e("/home")},children:"HOME"})}),(0,Hx.jsx)("div",{className:"idrop",children:(0,Hx.jsx)("span",{onClick:()=>{s(!i),e("/um")},children:"UPCOMMING MATCHES"})}),(0,Hx.jsx)("div",{className:"idrop",children:(0,Hx.jsx)("span",{onClick:()=>{s(!i),e("/result")},children:"RESULT"})}),(0,Hx.jsx)("div",{className:"idrop",children:(0,Hx.jsx)("span",{onClick:()=>{s(!i),e("/deposit")},children:"DEPOSIT"})}),(0,Hx.jsx)("div",{className:"idrop",children:(0,Hx.jsx)("span",{onClick:()=>{s(!i),e("/withdraw")},children:"WITHDRAW"})}),(0,Hx.jsx)("div",{className:"idrop",children:(0,Hx.jsx)("span",{onClick:()=>{s(!i),e("/helpline")},children:"HELP-LINE"})})]}),(0,Hx.jsxs)("div",{className:"hur",children:[(0,Hx.jsx)("button",{onClick:()=>{e("/home")},children:"HOME"}),(0,Hx.jsx)("button",{className:"ur",onClick:()=>{e("/um")},children:"UPCOMMING MATCHES"}),(0,Hx.jsx)("button",{className:"ur",onClick:()=>{e("/result")},children:"RESULT"})]}),(0,Hx.jsx)("div",{className:"p",children:(0,Hx.jsx)("button",{onClick:()=>{n(!t)},children:"PROFILE"})})]}),t&&(0,Hx.jsxs)("div",{className:"dw",children:[(0,Hx.jsxs)("span",{id:"spcoin",children:[(0,Hx.jsx)("button",{id:"dcoin"}),o]}),(0,Hx.jsx)("button",{onClick:()=>{n(!t),e("/deposit")},children:"DEPOSIT"}),(0,Hx.jsx)("button",{onClick:()=>{n(!t),e("/withdraw")},children:"WITHDRAW"}),(0,Hx.jsx)("button",{onClick:()=>{n(!t),e("/helpline")},children:"HELP-LINE"})]})]})};const Qx=function(){const e=qt();return(0,Hx.jsxs)("div",{className:"hmain",children:[(0,Hx.jsx)("div",{id:"hh",children:"MOBILE GAMES"}),(0,Hx.jsxs)("div",{className:"hbody",children:[(0,Hx.jsx)("button",{id:"hb",onClick:()=>{e("/bgmi")}}),(0,Hx.jsx)("button",{id:"hf",onClick:()=>{e("/ff")}})]})]})};const Yx=function(){return(0,Hx.jsxs)("div",{className:"loadm",children:[(0,Hx.jsx)("div",{className:"loadt"}),(0,Hx.jsx)("h4",{children:"Loading...."})]})};const Jx=function(e){let{bs1:t,bs2:n,bsd:i}=e;const[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(),[c,u]=(0,r.useState)(),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(),w=(0,r.useRef)(null),b=(0,r.useRef)(null),[E,_]=(0,r.useState)(),[I,S]=(0,r.useState)(),[x,T]=(0,r.useState)(),[k,N]=(0,r.useState)(),[C,A]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[P,O]=(0,r.useState)(!1),[j,L]=(0,r.useState)(!0),M=qt();return(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/bjstatus",{username:e}).then((e=>{e.data.count[0]<100?_(e.data.count[0]):(d(!0),_(e.data.count[0]),N("MATCH FULL")),e.data.count[1]<100?S(e.data.count[1]):(p(!0),S(e.data.count[1]),N("MATCH FULL")),e.data.count[2]<100?T(e.data.count[2]):(g(!0),T(e.data.count[2]),N("MATCH FULL")),"av"===e.data.bsolo1&&(d(!0),N("JOINED")),"av"===e.data.bsolo2&&(p(!0),N("JOINED")),"av"===e.data.bsquad&&(g(!0),N("JOINED"))})).then((()=>{L(!1)}))})()}),[]),s?(0,Hx.jsx)("div",{id:"pmain",children:j?(0,Hx.jsx)(Yx,{}):(0,Hx.jsxs)("div",{id:"jp",children:[(0,Hx.jsxs)("div",{id:"tc",children:[(0,Hx.jsxs)("div",{id:"phc",children:[(0,Hx.jsx)("h2",{id:"phead",children:"TERMS AND CONDITIONS"}),(0,Hx.jsx)("button",{id:"pc",onClick:()=>{o(!1)},children:"X"})," "]}),(0,Hx.jsxs)("ol",{children:[(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The room id and password will be sent to your registered mobile number,Before 10min of the match."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The player game level must be 25 or above.If you join the match with below level no cash price will be provided."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not team up with any players."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The resgistered game name should be same as your real game name,if its being different no cash prize will be provided."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not use any hacks."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not share the room id and password."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"If you have any payment issue after the result of the match,you should contact helpline within 24hrs because the result of the matches will be cleared within 24hrs."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"If you violate any of these terms and conditions,your account will be banned."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"No refund policy"})})]})]}),(0,Hx.jsxs)("div",{id:"jb",children:[(0,Hx.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER THE NAME IN GAME",ref:w}),(0,Hx.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER GAME ID",ref:b}),(0,Hx.jsxs)("button",{id:"pay",onClick:async()=>{if(L(!0),"bsolo1"===c)if(""!==w.current.value)if(""!==b.current.value){const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/bsolo1",{username:e,gamename:w.current.value,gameid:b.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),M("/bgmi")):(L(!1),v("LOW FUND,MAKE DEPOSIT"))}))}else L(!1),v("FIELD IS EMPTY");else L(!1),v("FIELD IS EMPTY");if("bsolo2"===c)if(""!==w.current.value)if(""!==b.current.value){const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/bsolo2",{username:e,gamename:w.current.value,gameid:b.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),M("/bgmi")):(L(!1),v("LOW FUND,MAKE DEPOSIT"))}))}else L(!1),v("FIELD IS EMPTY");else L(!1),v("FIELD IS EMPTY");if("bsquad"===c)if(""!==w.current.value)if(""!==b.current.value){const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/bsquad",{username:e,gamename:w.current.value,gameid:b.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),M("/bgmi")):(L(!1),v("LOW FUND,MAKE DEPOSIT"))}))}else L(!1),v("FIELD IS EMPTY");else L(!1),v("FIELD IS EMPTY")},children:["PAY=",(0,Hx.jsx)("span",{id:"pamnt",children:a})]}),(0,Hx.jsx)("div",{id:"pstatus",children:y})]})]})}):(0,Hx.jsx)("div",{className:"bmain",children:j?(0,Hx.jsx)(Yx,{}):(0,Hx.jsxs)(Hx.Fragment,{children:[C?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",t.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",t.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",t.k]}),(0,Hx.jsx)("button",{onClick:async()=>{A(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"bdiv",id:"bsolo",children:[(0,Hx.jsx)("div",{className:"bimage"}),(0,Hx.jsxs)("div",{className:"bdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:t.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:t.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:t.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:t.time})]})]}),(0,Hx.jsxs)("div",{className:"bdown2",children:[(0,Hx.jsx)("div",{id:"bp",children:(0,Hx.jsx)("div",{id:"ibp",style:{width:"".concat(E,"%")}})}),(0,Hx.jsxs)("h4",{id:"bpn",children:[E,"/100"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:async()=>{A(!0)},children:"PRICE"}),!1===h?(0,Hx.jsx)("button",{className:"bjoin",onClick:async()=>{l("10"),o(!0),u("bsolo1")},children:"JOIN"}):(0,Hx.jsx)("div",{className:"bjoined",children:k})]})]}),R?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",n.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",n.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",n.k]}),(0,Hx.jsx)("button",{onClick:async()=>{D(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"bdiv",id:"bduo",children:[(0,Hx.jsx)("div",{className:"bimage"}),(0,Hx.jsxs)("div",{className:"bdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:n.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:n.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:n.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:n.time})]})]}),(0,Hx.jsxs)("div",{className:"bdown2",children:[(0,Hx.jsx)("div",{id:"bp",children:(0,Hx.jsx)("div",{id:"ibp",style:{width:"".concat(I,"%")}})}),(0,Hx.jsxs)("h4",{id:"bpn",children:[I,"/100"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:async()=>{D(!0)},children:"PRICE"}),!1===f?(0,Hx.jsx)("button",{className:"bjoin",onClick:async()=>{l("10"),o(!0),u("bsolo2")},children:"JOIN"}):(0,Hx.jsx)("div",{className:"bjoined",children:k})]})]}),P?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",i.w,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",i.r,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",i.k]}),(0,Hx.jsx)("button",{onClick:async()=>{O(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"bdiv",id:"bsquad",children:[(0,Hx.jsx)("div",{className:"bimage"}),(0,Hx.jsxs)("div",{className:"bdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:i.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:i.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:i.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:i.time})]})]}),(0,Hx.jsxs)("div",{className:"bdown2",children:[(0,Hx.jsx)("div",{id:"bp",children:(0,Hx.jsx)("div",{id:"ibp",style:{width:"".concat(x,"%")}})}),(0,Hx.jsxs)("h4",{id:"bpn",children:[x,"/100"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:async()=>{O(!0)},children:"PRICE"}),!1===m?(0,Hx.jsx)("button",{className:"bjoin",onClick:async()=>{l("10"),o(!0),u("bsquad")},children:"JOIN"}):(0,Hx.jsx)("div",{className:"bjoined",children:k})]})]})]})})};const Xx=function(e){let{fs1:t,fs2:n,fsd:i}=e;const[s,o]=(0,r.useState)(),[a,l]=(0,r.useState)(),[c,u]=(0,r.useState)(),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(!1),[y,v]=(0,r.useState)(),w=(0,r.useRef)(null),b=(0,r.useRef)(null),[E,_]=(0,r.useState)(),[I,S]=(0,r.useState)(),[x,T]=(0,r.useState)(),[k,N]=(0,r.useState)(),[C,A]=(0,r.useState)(!1),[R,D]=(0,r.useState)(!1),[P,O]=(0,r.useState)(!1),[j,L]=(0,r.useState)(!0),M=qt();return(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/fjstatus",{username:e}).then((e=>{e.data.count[0]<50?_(e.data.count[0]):(d(!0),_(e.data.count[0]),N("MATCH FULL")),e.data.count[1]<50?S(e.data.count[1]):(p(!0),S(e.data.count[1]),N("MATCH FULL")),e.data.count[2]<50?T(e.data.count[2]):(g(!0),T(e.data.count[2]),N("MATCH FULL")),"av"===e.data.fsolo1&&(d(!0),N("JOINED")),"av"===e.data.fsolo2&&(p(!0),N("JOINED")),"av"===e.data.fsquad&&(g(!0),N("JOINED"))})).then((()=>{L(!1)}))})()}),[]),s?(0,Hx.jsx)("div",{id:"pmain",children:j?(0,Hx.jsx)(Yx,{}):(0,Hx.jsxs)("div",{id:"jp",children:[(0,Hx.jsxs)("div",{id:"tc",children:[(0,Hx.jsxs)("div",{id:"phc",children:[(0,Hx.jsx)("h2",{id:"phead",children:"TERMS AND CONDITIONS"}),(0,Hx.jsx)("button",{id:"pc",onClick:()=>{o(!1)},children:"X"})]}),(0,Hx.jsxs)("ol",{children:[(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The room id and password will be sent to your registered mobile number,Before 10min of the match."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The player game level must be 25 or above.If you join the match with below level no cash price will be provided."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not team up with any players."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The resgistered game name should be same as your real game name,if its being different no cash prize will be provided."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not use any hacks."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not share the room id and password."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"If you have any payment issue after the result of the match,you should contact helpline within 24hrs because the result of the matches will be cleared within 24hrs."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"If you violate any of these terms and conditions,your account will be banned."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"No refund policy"})})]})]}),(0,Hx.jsxs)("div",{id:"jb",children:[(0,Hx.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER THE NAME IN GAME",ref:w}),(0,Hx.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER GAME ID",ref:b}),(0,Hx.jsxs)("button",{id:"pay",onClick:async()=>{if(L(!0),"fsolo1"===c)if(""!==w.current.value)if(""!==b.current.value){const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/fsolo1",{username:e,gamename:w.current.value,gameid:b.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),M("/ff")):(L(!1),v("LOW FUND,MAKE DEPOSIT"))}))}else L(!1),v("FIELD IS EMPTY");else L(!1),v("FIELD IS EMPTY");if("fsolo2"===c)if(""!==w.current.value)if(""!==b.current.value){const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/fsolo2",{username:e,gamename:w.current.value,gameid:b.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),M("/ff")):(L(!1),v("LOW FUND,MAKE DEPOSIT"))}))}else L(!1),v("FIELD IS EMPTY");else L(!1),v("FIELD IS EMPTY");if("fsquad"===c)if(""!==w.current.value)if(""!==b.current.value){const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/fsquad",{username:e,gamename:w.current.value,gameid:b.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),M("/ff")):(L(!1),v("LOW FUND,MAKE DEPOSIT"))}))}else L(!1),v("FIELD IS EMPTY");else L(!1),v("FIELD IS EMPTY")},children:["PAY=",a]}),(0,Hx.jsx)("div",{id:"pstatus",children:y})]})]})}):(0,Hx.jsx)("div",{className:"fmain",children:j?(0,Hx.jsx)(Yx,{}):(0,Hx.jsxs)(Hx.Fragment,{children:[C?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",t.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",t.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",t.k]}),(0,Hx.jsx)("button",{onClick:async()=>{A(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"fdiv",id:"fsolo",children:[(0,Hx.jsx)("div",{className:"fimage"}),(0,Hx.jsxs)("div",{className:"fdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:t.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:t.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:t.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:t.time})]})]}),(0,Hx.jsxs)("div",{className:"fdown2",children:[(0,Hx.jsx)("div",{id:"fp",children:(0,Hx.jsx)("div",{id:"ifp",style:{width:"".concat(2*E,"%")}})}),(0,Hx.jsxs)("h4",{id:"fpn",children:[E,"/50"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:async()=>{A(!0)},children:"PRICE"}),!1===h?(0,Hx.jsx)("button",{className:"bjoin",onClick:async()=>{l("20"),o(!0),u("fsolo1")},children:"JOIN"}):(0,Hx.jsx)("div",{className:"bjoined",children:k})]})]}),R?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",n.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",n.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",n.k]}),(0,Hx.jsx)("button",{onClick:async()=>{D(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"fdiv",id:"fduo",children:[(0,Hx.jsx)("div",{className:"fimage"}),(0,Hx.jsxs)("div",{className:"fdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:n.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:n.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:n.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:n.time})]})]}),(0,Hx.jsxs)("div",{className:"fdown2",children:[(0,Hx.jsx)("div",{id:"fp",children:(0,Hx.jsx)("div",{id:"ifp",style:{width:"".concat(2*I,"%")}})}),(0,Hx.jsxs)("h4",{id:"fpn",children:[I,"/50"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:async()=>{D(!0)},children:"PRICE"}),!1===f?(0,Hx.jsx)("button",{className:"bjoin",onClick:async()=>{l("20"),o(!0),u("fsolo2")},children:"JOIN"}):(0,Hx.jsx)("div",{className:"bjoined",children:k})]})]}),P?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",i.w,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",i.r,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",i.k]}),(0,Hx.jsx)("button",{onClick:async()=>{O(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"fdiv",id:"fsquad",children:[(0,Hx.jsx)("div",{className:"fimage"}),(0,Hx.jsxs)("div",{className:"fdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:i.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:i.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:i.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:i.time})]})]}),(0,Hx.jsxs)("div",{className:"fdown2",children:[(0,Hx.jsx)("div",{id:"fp",children:(0,Hx.jsx)("div",{id:"ifp",style:{width:"".concat(2*x,"%")}})}),(0,Hx.jsxs)("h4",{id:"fpn",children:[x,"/50"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:async()=>{O(!0)},children:"PRICE"}),!1===m?(0,Hx.jsx)("button",{className:"bjoin",onClick:async()=>{l("20"),o(!0),u("fsquad")},children:"JOIN"}):(0,Hx.jsx)("div",{className:"bjoined",children:k})]})]})]})})};const $x=function(){const[e,t]=(0,r.useState)();return(async()=>{const e=sessionStorage.getItem("ud"),n=sessionStorage.getItem("un");null!==e&&(console.log(e),await Ye.post("http://localhost:4000/pr",{ud:e,un:n}).then((e=>{console.log(e.data.per),"ac"===e.data.per?t(!0):t(!1)})))})(),e?(0,Hx.jsx)(rn,{}):(0,Hx.jsx)(Kx,{})};const Zx=function(e){let{bs1:t,bs2:n,bsd:i,fs1:s,fs2:o,fsd:a}=e;const[l,c]=(0,r.useState)("none"),[u,h]=(0,r.useState)("none"),[d,f]=(0,r.useState)("none"),[p,m]=(0,r.useState)("none"),[g,y]=(0,r.useState)("none"),[v,w]=(0,r.useState)("none"),[b,E]=(0,r.useState)(),[_,I]=(0,r.useState)(),[S,x]=(0,r.useState)(),[T,k]=(0,r.useState)(),[N,C]=(0,r.useState)(),[A,R]=(0,r.useState)(),[D,P]=(0,r.useState)(!1),[O,j]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!1),[F,U]=(0,r.useState)(!1),[V,B]=(0,r.useState)(!1),[z,q]=(0,r.useState)(!1),[W,H]=(0,r.useState)(!1),[K,G]=(0,r.useState)(!0),[Q,Y]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/um",{username:e}).then((e=>{"na"===e.data.bsolo1&&"na"===e.data.bsolo2&&"na"===e.data.bsquad&&"na"===e.data.fsolo1&&"na"===e.data.fsolo2&&"na"===e.data.fsquad&&(P(!0),G(!1)),"av"===e.data.bsolo1?c("flex"):c("none"),"av"===e.data.bsolo2?h("flex"):h("none"),"av"===e.data.bsquad?f("flex"):f("none"),"av"===e.data.fsolo1?m("flex"):m("none"),"av"===e.data.fsolo2?y("flex"):y("none"),"av"===e.data.fsquad?w("flex"):w("none"),E(e.data.count[0]),I(e.data.count[1]),x(e.data.count[2]),k(e.data.count[3]),C(e.data.count[4]),R(e.data.count[5])})).then((()=>{Y(!1)}))})()}),[]);const J=()=>{P(!0),G(!0)};return D?(0,Hx.jsx)("div",{className:"umain",children:K?(0,Hx.jsxs)("div",{className:"rules",children:[(0,Hx.jsx)("div",{id:"rules",children:(0,Hx.jsxs)("ol",{children:[(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The room id and password will be sent to your registered mobile number,Before 10min of the match."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The player game level must be 25 or above.If you join the match with below level no cash price will be provided."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not team up with any players."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"The resgistered game name should be same as your real game name,if its being different no cash prize will be provided."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not use any hacks."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"Do not share the room id and password."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"If you have any payment issue after the result of the match,you should contact helpline within 24hrs because the result of the matches will be cleared within 24hrs."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"If you violate any of these terms and conditions,your account will be banned."})}),(0,Hx.jsx)("li",{children:(0,Hx.jsx)("span",{className:"rli",children:"No refund policy"})})]})}),(0,Hx.jsx)("div",{className:"src",children:(0,Hx.jsx)("button",{onClick:()=>{P(!1)},id:"src",children:"CLOSE"})})]}):(0,Hx.jsx)("div",{className:"utext",children:Q?(0,Hx.jsx)(Yx,{}):(0,Hx.jsx)("h1",{id:"utext",children:"NO MATCH HAS BEEN REGISTERED"})})}):(0,Hx.jsx)("div",{className:"bmain",children:Q?(0,Hx.jsx)(Yx,{}):(0,Hx.jsxs)(Hx.Fragment,{children:[O?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",t.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",t.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",t.k]}),(0,Hx.jsx)("button",{onClick:async()=>{j(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"bdiv",id:"bsolo",style:{display:"".concat(l)},children:[(0,Hx.jsx)("div",{className:"bimage"}),(0,Hx.jsxs)("div",{className:"bdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:t.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:t.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:t.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:t.time})]})]}),(0,Hx.jsxs)("div",{className:"bdown2",children:[(0,Hx.jsx)("div",{id:"bp",children:(0,Hx.jsx)("div",{id:"ibp",style:{width:"".concat(b,"%")}})}),(0,Hx.jsxs)("h4",{id:"bpn",children:[b,"/100"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:J,children:"RULES"}),(0,Hx.jsx)(vn,{className:"sbl",onClick:async()=>{j(!0)},children:"PRICE"})]})]}),L?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",n.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",n.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",n.k]}),(0,Hx.jsx)("button",{onClick:async()=>{M(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"bdiv",id:"bsolo",style:{display:"".concat(u)},children:[(0,Hx.jsx)("div",{className:"bimage"}),(0,Hx.jsxs)("div",{className:"bdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:n.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:n.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:n.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:n.time})]})]}),(0,Hx.jsxs)("div",{className:"bdown2",children:[(0,Hx.jsx)("div",{id:"bp",children:(0,Hx.jsx)("div",{id:"ibp",style:{width:"".concat(_,"%")}})}),(0,Hx.jsxs)("h4",{id:"bpn",children:[_,"/100"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:J,children:"RULES"}),(0,Hx.jsx)(vn,{className:"sbl",onClick:async()=>{M(!0)},children:"PRICE"})]})]}),F?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",i.w,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",i.r,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",i.k]}),(0,Hx.jsx)("button",{onClick:async()=>{U(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"bdiv",id:"bsquad",style:{display:"".concat(d)},children:[(0,Hx.jsx)("div",{className:"bimage"}),(0,Hx.jsxs)("div",{className:"bdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:i.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:i.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:i.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:i.time})]})]}),(0,Hx.jsxs)("div",{className:"bdown2",children:[(0,Hx.jsx)("div",{id:"bp",children:(0,Hx.jsx)("div",{id:"ibp",style:{width:"".concat(S,"%")}})}),(0,Hx.jsxs)("h4",{id:"bpn",children:[S,"/100"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:J,children:"RULES"}),(0,Hx.jsx)(vn,{className:"sbl",onClick:async()=>{U(!0)},children:"PRICE"})]})]}),V?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",s.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",s.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",s.k]}),(0,Hx.jsx)("button",{onClick:async()=>{B(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"fdiv",id:"fsolo",style:{display:"".concat(p)},children:[(0,Hx.jsx)("div",{className:"fimage"}),(0,Hx.jsxs)("div",{className:"fdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:s.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:s.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:s.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:s.time})]})]}),(0,Hx.jsxs)("div",{className:"fdown2",children:[(0,Hx.jsx)("div",{id:"fp",children:(0,Hx.jsx)("div",{id:"ifp",style:{width:"".concat(2*T,"%")}})}),(0,Hx.jsxs)("h4",{id:"fpn",children:[T,"/50"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:J,children:"RULES"}),(0,Hx.jsx)(vn,{className:"sbl",onClick:async()=>{B(!0)},children:"PRICE"})]})]}),z?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",o.w]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",o.r]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",o.k]}),(0,Hx.jsx)("button",{onClick:async()=>{q(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"fdiv",id:"fsolo",style:{display:"".concat(g)},children:[(0,Hx.jsx)("div",{className:"fimage"}),(0,Hx.jsxs)("div",{className:"fdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:o.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:o.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:o.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:o.time})]})]}),(0,Hx.jsxs)("div",{className:"fdown2",children:[(0,Hx.jsx)("div",{id:"fp",children:(0,Hx.jsx)("div",{id:"ifp",style:{width:"".concat(2*N,"%")}})}),(0,Hx.jsxs)("h4",{id:"fpn",children:[N,"/50"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:J,children:"RULES"}),(0,Hx.jsx)(vn,{className:"sbl",onClick:async()=>{q(!0)},children:"PRICE"})]})]}),W?(0,Hx.jsxs)("div",{className:"ps",children:[(0,Hx.jsxs)("h4",{children:["WINNER : ",a.w,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["RUNNER : ",a.r,"(EACH PLAYER)"]}),(0,Hx.jsxs)("h4",{children:["PER KILL : ",a.k]}),(0,Hx.jsx)("button",{onClick:async()=>{H(!1)},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{className:"fdiv",id:"fsquad",style:{display:"".concat(v)},children:[(0,Hx.jsx)("div",{className:"fimage"}),(0,Hx.jsxs)("div",{className:"fdown1",children:[(0,Hx.jsxs)("h4",{children:["TYPE : ",(0,Hx.jsx)("span",{children:a.type})]}),(0,Hx.jsxs)("h4",{children:["MAP : ",(0,Hx.jsx)("span",{children:a.map})]}),(0,Hx.jsxs)("h4",{children:["DATE : ",(0,Hx.jsx)("span",{children:a.date})]}),(0,Hx.jsxs)("h4",{children:["TIME : ",(0,Hx.jsx)("span",{children:a.time})]})]}),(0,Hx.jsxs)("div",{className:"fdown2",children:[(0,Hx.jsx)("div",{id:"fp",children:(0,Hx.jsx)("div",{id:"ifp",style:{width:"".concat(2*A,"%")}})}),(0,Hx.jsxs)("h4",{id:"fpn",children:[A,"/50"]}),(0,Hx.jsx)(vn,{className:"bl",onClick:J,children:"RULES"}),(0,Hx.jsx)(vn,{className:"sbl",onClick:async()=>{H(!0)},children:"PRICE"})]})]})]})})};const eT=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(),[s,o]=(0,r.useState)(),[a,l]=(0,r.useState)(),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(null),[m,g]=(0,r.useState)(null);return h?(0,Hx.jsx)("div",{className:"wcmain",children:c?(0,Hx.jsx)(Yx,{}):(0,Hx.jsx)("div",{className:"wcbody",children:e?(0,Hx.jsxs)("div",{children:[(0,Hx.jsxs)("div",{id:"wsf",children:[n," ",(0,Hx.jsx)("span",{children:s})]}),(0,Hx.jsx)("button",{id:"wcc",onClick:()=>{window.location.reload()},children:"CLOSE"})]}):(0,Hx.jsxs)("div",{children:[(0,Hx.jsxs)("div",{className:"cynm",id:"cnf",children:["ARE YOU SURE TO WITHDRAW ",(0,Hx.jsx)("span",{children:f})," ?"]}),(0,Hx.jsx)("button",{onClick:async()=>{u(!0),t(!0),await Ye.post("http://localhost:4000/wd",{username:sessionStorage.getItem("un"),upiid:m,amount:f}).then((e=>{"sc"===e.data.status?(i("WITHDRAW SUCCESSFULL"),o(",YOUR AMOUNT WILL BE CREDITED WITHIN 24 hrs."),u(!1)):(i("INSUFFICIENT BALANCE"),o(""),u(!1))}))},id:"wy",className:"cynm",children:"YES"}),(0,Hx.jsx)("button",{className:"cynm",id:"wno",onClick:()=>{d(!1)},children:"NO"})]})})}):(0,Hx.jsx)("div",{className:"wmain",children:(0,Hx.jsxs)("div",{className:"wbody",children:[(0,Hx.jsx)("div",{className:"wh",children:"WITHDRAW"}),(0,Hx.jsx)("input",{id:"wupi",type:"text",placeholder:"ENTER UPI ID ",className:"lass",onChange:e=>{g(e.target.value)}}),(0,Hx.jsxs)("div",{id:"we",className:"lass",children:[(0,Hx.jsx)("span",{children:"Eg : "}),"123456789@paytm"]}),(0,Hx.jsx)("input",{className:"lass",type:"number",placeholder:"ENTER THE AMOUNT",onChange:e=>{p(e.target.value)}}),(0,Hx.jsx)("button",{className:"lass",id:"wsubmit",onClick:async()=>{null===m||null===f?l("SOME FIELD IS EMPTY"):f<20?l("MINIMUM MITHDRAW IS 20"):d(!0)},children:"SUBMIT"}),(0,Hx.jsx)("div",{className:"lass",id:"wstatus",children:a})]})})};var tT,nT="https://js.stripe.com/v3",rT=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,iT="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",sT=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(nT).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},oT=null,aT=null,lT=null,cT=function(e){return null!==oT?oT:(oT=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(iT),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(nT,'"]')),t=0;t<e.length;t++){var n=e[t];if(rT.test(n.src))return n}return null}();if(r&&e)console.warn(iT);else if(r){if(r&&null!==lT&&null!==aT){var i;r.removeEventListener("load",lT),r.removeEventListener("error",aT),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=sT(e)}}else r=sT(e);lT=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),aT=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",lT),r.addEventListener("error",aT)}catch(s){return void n(s)}else t(null)}))).catch((function(e){return oT=null,Promise.reject(e)}))},uT=!1,hT=function(){return tT||(tT=cT(null).catch((function(e){return tT=null,Promise.reject(e)})))};Promise.resolve().then((function(){return hT()})).catch((function(e){uT||console.warn(e)}));const dT=function(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];uT=!0;var r=Date.now();return hT().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.3.0",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51OXnenSC6UDJ5EILprhrs88tyup0P7XW3uwL9YzCWnCkftJLjA8ZYoHqa5UjvK5WBiFQOe5or1UwwVtAPn75rP8p00RVLGCHcH"),[t,n]=(0,r.useState)(),[i,s]=(0,r.useState)(!1),[o,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)();return i?(0,Hx.jsx)("div",{className:"upi",children:o?(0,Hx.jsx)(Yx,{}):(0,Hx.jsxs)("div",{className:"iupi",children:[(0,Hx.jsxs)("div",{id:"upia",children:["AMOUNT : ",(0,Hx.jsx)("span",{children:t})]}),(0,Hx.jsx)("div",{className:"uss",id:"upit",children:"ARE YOU SURE TO DEPOSIT ?"}),(0,Hx.jsxs)("div",{children:[(0,Hx.jsx)("button",{type:"submit",className:"uss",id:"upisubmit",onClick:async()=>{a(!0);try{const n=sessionStorage.getItem("un"),r=await Ye.post("http://localhost:4000/payment",{amount:t,username:n}),i=await r.data,s=await e,o=await s.redirectToCheckout({sessionId:i.id}).then((()=>{o.error&&console.log(o.error.message),o.paymentIntent&&console.log(o.paymentIntent)}))}catch(n){c(n.message)}finally{a(!1)}},disabled:o,children:"YES"}),(0,Hx.jsx)("button",{className:"uss",id:"upiclose",onClick:()=>{s(!1)},children:"NO"})]}),(0,Hx.jsx)("div",{id:"upis",className:"uss",children:l})]})}):(0,Hx.jsx)("div",{className:"dmain",children:(0,Hx.jsxs)("div",{className:"dbody",children:[(0,Hx.jsx)("div",{className:"dh",children:"DEPOSIT"}),(0,Hx.jsx)("br",{}),(0,Hx.jsx)("button",{onClick:()=>{s(!0),n(20)},className:"mdb",children:"20"}),(0,Hx.jsx)("button",{className:"db",onClick:()=>{s(!0),n(50)},children:"50"}),(0,Hx.jsx)("button",{className:"db",onClick:()=>{s(!0),n(100)},children:"100"}),(0,Hx.jsx)("br",{}),(0,Hx.jsx)("button",{onClick:()=>{s(!0),n(500)},className:"mdb",children:"500"}),(0,Hx.jsx)("button",{className:"db",onClick:()=>{s(!0),n(1e3)},children:"1000"}),(0,Hx.jsx)("button",{className:"db",onClick:()=>{s(!0),n(2e3)},children:"2000"})]})})};const fT=function(e){let{bs1:t,bs2:n,bsd:r,fs1:i,fs2:s,fsd:o}=e;const a=qt();return(0,Hx.jsxs)("div",{className:"rmain",children:[(0,Hx.jsx)("div",{id:"rn",children:"RESULT OF THE MATCHES WILL BE CLEARED WITHIN 24HRS"}),(0,Hx.jsxs)("div",{className:"rbody",style:{display:"".concat(t.display)},children:[(0,Hx.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,Hx.jsx)("span",{children:t.name})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,Hx.jsx)("span",{children:t.type})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,Hx.jsx)("span",{children:t.map})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,Hx.jsx)("span",{children:t.date})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,Hx.jsx)("span",{children:t.time})]}),(0,Hx.jsx)("button",{id:"sr",onClick:async()=>{a("/bsolo1r")},children:"SHOW"})]}),(0,Hx.jsxs)("div",{className:"rbody",style:{display:"".concat(n.display)},children:[(0,Hx.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,Hx.jsx)("span",{children:n.name})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,Hx.jsx)("span",{children:n.type})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,Hx.jsx)("span",{children:n.map})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,Hx.jsx)("span",{children:n.date})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,Hx.jsx)("span",{children:n.time})]}),(0,Hx.jsx)("button",{id:"sr",onClick:()=>{a("/bsolo2r")},children:"SHOW"})]}),(0,Hx.jsxs)("div",{className:"rbody",style:{display:"".concat(r.display)},children:[(0,Hx.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,Hx.jsx)("span",{children:r.name})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,Hx.jsx)("span",{children:r.type})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,Hx.jsx)("span",{children:r.map})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,Hx.jsx)("span",{children:r.date})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,Hx.jsx)("span",{children:r.time})]}),(0,Hx.jsx)("button",{id:"sr",onClick:()=>{a("/bsquadr")},children:"SHOW"})]}),(0,Hx.jsxs)("div",{className:"rbody",style:{display:"".concat(i.display)},children:[(0,Hx.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,Hx.jsx)("span",{children:i.name})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,Hx.jsx)("span",{children:i.type})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,Hx.jsx)("span",{children:i.map})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,Hx.jsx)("span",{children:i.date})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,Hx.jsx)("span",{children:i.time})]}),(0,Hx.jsx)("button",{id:"sr",onClick:()=>{a("/fsolo1r")},children:"SHOW"})]}),(0,Hx.jsxs)("div",{className:"rbody",style:{display:"".concat(s.display)},children:[(0,Hx.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,Hx.jsx)("span",{children:s.name})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,Hx.jsx)("span",{children:s.type})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,Hx.jsx)("span",{children:s.map})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,Hx.jsx)("span",{children:s.date})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,Hx.jsx)("span",{children:s.time})]}),(0,Hx.jsx)("button",{id:"sr",onClick:()=>{a("/fsolo2r")},children:"SHOW"})]}),(0,Hx.jsxs)("div",{className:"rbody",style:{display:"".concat(o.display)},children:[(0,Hx.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,Hx.jsx)("span",{children:o.name})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,Hx.jsx)("span",{children:o.type})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,Hx.jsx)("span",{children:o.map})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,Hx.jsx)("span",{children:o.date})]}),(0,Hx.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,Hx.jsx)("span",{children:o.time})]}),(0,Hx.jsx)("button",{id:"sr",onClick:()=>{a("/fsquadr")},children:"SHOW"})]})]})};const pT=function(e){let{bs1:t}=e;const n=qt();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await Ye.get("http://localhost:4000/bs1r").then((e=>{s(e.data.bsolo1)}))})()}),[]),(0,Hx.jsxs)("div",{className:"sr",children:[(0,Hx.jsx)("div",{className:"rc",children:(0,Hx.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,Hx.jsxs)("div",{className:"pd",children:[(0,Hx.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,Hx.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,Hx.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,Hx.jsxs)("table",{children:[(0,Hx.jsx)("thead",{children:(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("th",{children:"POSITION"}),(0,Hx.jsx)("th",{children:"PLAYER NAME"}),(0,Hx.jsx)("th",{children:"KILLS"}),(0,Hx.jsx)("th",{children:"CASH"})]})}),(0,Hx.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const mT=function(e){let{bs2:t}=e;const n=qt();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await Ye.get("http://localhost:4000/bs2r").then((e=>{s(e.data.bsolo2)}))})()}),[]),(0,Hx.jsxs)("div",{className:"sr",children:[(0,Hx.jsx)("div",{className:"rc",children:(0,Hx.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,Hx.jsxs)("div",{className:"pd",children:[(0,Hx.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,Hx.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,Hx.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,Hx.jsxs)("table",{children:[(0,Hx.jsx)("thead",{children:(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("th",{children:"POSITION"}),(0,Hx.jsx)("th",{children:"PLAYER NAME"}),(0,Hx.jsx)("th",{children:"KILLS"}),(0,Hx.jsx)("th",{children:"CASH"})]})}),(0,Hx.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const gT=function(e){let{bsd:t}=e;const n=qt();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await Ye.get("http://localhost:4000/bsdr").then((e=>{s(e.data.bsquad)}))})()}),[]),(0,Hx.jsxs)("div",{className:"sr",children:[(0,Hx.jsx)("div",{className:"rc",children:(0,Hx.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,Hx.jsxs)("div",{className:"pd",children:[(0,Hx.jsxs)("div",{className:"w",children:["WINNER : ",t.w,"(EACH PLAYER)"]}),(0,Hx.jsxs)("div",{className:"r",children:["RUNNER : ",t.r,"(EACH PLAYER)"]}),(0,Hx.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,Hx.jsxs)("table",{children:[(0,Hx.jsx)("thead",{children:(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("th",{children:"POSITION"}),(0,Hx.jsx)("th",{children:"PLAYER NAME"}),(0,Hx.jsx)("th",{children:"KILLS"}),(0,Hx.jsx)("th",{children:"CASH"})]})}),(0,Hx.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const yT=function(e){let{fs1:t}=e;const n=qt();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await Ye.get("http://localhost:4000/fs1r").then((e=>{s(e.data.fsolo1)}))})()}),[]),(0,Hx.jsxs)("div",{className:"sr",children:[(0,Hx.jsx)("div",{className:"rc",children:(0,Hx.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,Hx.jsxs)("div",{className:"pd",children:[(0,Hx.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,Hx.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,Hx.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,Hx.jsxs)("table",{children:[(0,Hx.jsx)("thead",{children:(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("th",{children:"POSITION"}),(0,Hx.jsx)("th",{children:"PLAYER NAME"}),(0,Hx.jsx)("th",{children:"KILLS"}),(0,Hx.jsx)("th",{children:"CASH"})]})}),(0,Hx.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const vT=function(e){let{fs2:t}=e;const n=qt();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await Ye.get("http://localhost:4000/fs2r").then((e=>{s(e.data.fsolo2)}))})()}),[]),(0,Hx.jsxs)("div",{className:"sr",children:[(0,Hx.jsx)("div",{className:"rc",children:(0,Hx.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,Hx.jsxs)("div",{className:"pd",children:[(0,Hx.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,Hx.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,Hx.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,Hx.jsxs)("table",{children:[(0,Hx.jsx)("thead",{children:(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("th",{children:"POSITION"}),(0,Hx.jsx)("th",{children:"PLAYER NAME"}),(0,Hx.jsx)("th",{children:"KILLS"}),(0,Hx.jsx)("th",{children:"CASH"})]})}),(0,Hx.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const wT=function(e){let{fsd:t}=e;const n=qt();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await Ye.get("http://localhost:4000/fsdr").then((e=>{s(e.data.fsquad)}))})()}),[]),(0,Hx.jsxs)("div",{className:"sr",children:[(0,Hx.jsx)("div",{className:"rc",children:(0,Hx.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,Hx.jsxs)("div",{className:"pd",children:[(0,Hx.jsxs)("div",{className:"w",children:["WINNER : ",t.w,"(EACH PLAYER)"]}),(0,Hx.jsxs)("div",{className:"r",children:["RUNNER : ",t.r,"(EACH PLAYER)"]}),(0,Hx.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,Hx.jsxs)("table",{children:[(0,Hx.jsx)("thead",{children:(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("th",{children:"POSITION"}),(0,Hx.jsx)("th",{children:"PLAYER NAME"}),(0,Hx.jsx)("th",{children:"KILLS"}),(0,Hx.jsx)("th",{children:"CASH"})]})}),(0,Hx.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,Hx.jsxs)("tr",{children:[(0,Hx.jsx)("td",{children:e.position}),(0,Hx.jsx)("td",{children:e.gamename}),(0,Hx.jsx)("td",{children:e.kills}),(0,Hx.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const bT=function(){const e=(0,r.useRef)(),[t,n]=(0,r.useState)(!1);return(0,Hx.jsx)("div",{className:"helmain",children:t?(0,Hx.jsxs)("div",{className:"hstb",children:[(0,Hx.jsx)("div",{id:"hstm",children:"YOUR  ISSUES  HAS  BEEN  SUBMITTED  SUCCESSFULLY  AND  IT  WILL  BE  SOLVED SOON"}),(0,Hx.jsx)("div",{className:"hstc",children:(0,Hx.jsx)("button",{onClick:()=>{n(!1)},children:"CLOSE"})})]}):(0,Hx.jsxs)("div",{className:"helbody",children:[(0,Hx.jsx)("div",{children:(0,Hx.jsx)("textarea",{id:"hta",cols:"60",rows:"20",placeholder:"ENTER YOUR ISSUES.....",ref:e})}),(0,Hx.jsx)("div",{className:"helb",children:(0,Hx.jsx)("button",{onClick:async()=>{const t=sessionStorage.getItem("un");await Ye.post("http://localhost:4000/helpline",{username:t,issues:e.current.value}).then((e=>{"sc"===e.data.status&&n(!0)}))},children:"SUBMIT"})})]})})};const ET=function(){return(0,Hx.jsx)("div",{className:"pnfmain",children:(0,Hx.jsx)("div",{className:"pnfbody",children:"404 PAGE NOT FOUND"})})};const _T=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(),[s,o]=(0,r.useState)(!1),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),[f,p]=(0,r.useState)(),m=(0,r.useRef)(null),[g,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!1),[b,E]=(0,r.useState)("none"),_=Wx.auth(),I=(0,r.useRef)(null),S=(0,r.useRef)(null),[x,T]=(0,r.useState)(),[k,N]=(0,r.useState)(),[C,A]=(0,r.useState)(!1),[R,D]=(0,r.useState)(),[P,O]=(0,r.useState)(),j=qt(),L=e=>{e.preventDefault(),o(!0),window.recaptchaVerifier=new Ia(_,"sign-in-button",{size:"invisible",callback:e=>{L()},defaultCountry:"IN"});const t="+91"+R,n=window.recaptchaVerifier;Wx.auth().signInWithPhoneNumber(t,n).then((e=>{window.confirmationResult=e,E("inline-block"),w(!0),o(!1)})).catch((e=>{T("OTP SENT FAILED"),o(!1),console.log(e.message)}))},M=async e=>{e.preventDefault(),""===I.current.value?N("FIELD IS EMPTY"):await Ye.post("http://localhost:4000/foruc",{username:I.current.value}).then((e=>{if("sc"===e.data.status){p(I.current.value);let t=e.data.phone.toString();O(t.slice(-4)),D(e.data.phone),A(!0)}else N("INVALID USERNAME")}))};return(0,Hx.jsx)("div",{className:"formain",children:c?(0,Hx.jsx)("div",{className:"fpav",children:e?(0,Hx.jsxs)("div",{children:[(0,Hx.jsx)("div",{id:"psc",children:"PASSWORD SUCCESSFULLY CHANGED"}),(0,Hx.jsx)("div",{className:"fpvb",children:(0,Hx.jsx)("button",{onClick:()=>{j("/")},children:"GO TO LOGIN"})})]}):(0,Hx.jsxs)("div",{children:[(0,Hx.jsx)("input",{type:h?"text":"password",placeholder:"ENTER YOUR NEW PASSWORD",ref:m}),g?(0,Hx.jsx)("button",{id:"cnh",onClick:()=>{d(!1),y(!1)}}):(0,Hx.jsx)("button",{id:"cns",onClick:()=>{d(!0),y(!0)}}),(0,Hx.jsx)("div",{className:"fpvb",children:(0,Hx.jsx)("button",{onClick:async()=>{m.current.value.length>5?await Ye.post("http://localhost:4000/cnp",{username:f,pass:m.current.value}).then((e=>{"sc"===e.data.status?t(!0):i("PASSWORD UPDATE FAILED")})):i("MINIMUM 6 CHARACTER REQUIRED")},children:"SUBMIT"})}),(0,Hx.jsx)("div",{id:"cnpm",children:n})]})}):(0,Hx.jsx)("div",{children:C?(0,Hx.jsxs)("div",{className:"fpv",children:[(0,Hx.jsxs)("div",{id:"fpt",children:["THE OTP WILL BE SENT TO THIS MOBILE NUMBER XXXX XX",P]}),s?(0,Hx.jsx)("div",{id:"foload"}):(0,Hx.jsx)("div",{className:"fpvb",children:v?(0,Hx.jsx)("div",{id:"osend",children:"otp has been sent"}):(0,Hx.jsx)("button",{onClick:L,children:"GET OTP"})}),(0,Hx.jsx)("div",{children:a?(0,Hx.jsx)("div",{id:"fvload"}):(0,Hx.jsxs)("div",{children:[(0,Hx.jsx)("input",{className:"fpvb",type:"text",placeholder:"ENTER OTP",ref:S}),(0,Hx.jsx)("div",{className:"fpvb",children:(0,Hx.jsx)("button",{onClick:e=>{if(e.preventDefault(),l(!0),""===S.current.value)l(!1),T("FIELD IS EMPTY");else{const e=S.current.value;window.confirmationResult.confirm(e).then((e=>{"object"===typeof e&&(l(!1),u(!0))})).catch((e=>{l(!1),T("INCORRECT OTP"),console.log(e.message)}))}},style:{display:"".concat(b)},children:"VERIFY"})})]})}),(0,Hx.jsx)("div",{id:"fpvm",children:x}),(0,Hx.jsx)("div",{id:"sign-in-button",style:{display:"none"}})]}):(0,Hx.jsx)("form",{onSubmit:M,children:(0,Hx.jsxs)("div",{className:"forbody",children:[(0,Hx.jsx)("input",{className:"sm",type:"text",placeholder:"ENTER YOUR USERNAME",ref:I}),(0,Hx.jsx)("div",{id:"forbut",className:"sm",children:(0,Hx.jsx)("button",{type:"submit",onClick:M,children:"SUBMIT"})}),(0,Hx.jsx)("div",{className:"sm",id:"formess",children:k})]})})})})};const IT=function(){const e="/"!==Bt().pathname,t={type:"SOLO",map:"ERANGLE",date:"01/01/2004",time:"10:00 am",w:100,r:50,k:5},n={type:"SOLO",map:"ERANGLE",date:"01/01/2004",time:"11:00 am",w:100,r:50,k:5},r={type:"SQUAD",map:"ERANGLE",date:"01/01/2004",time:"12:00 am",w:50,r:25,k:5},i={type:"SOLO",map:"BERMUDA",date:"01/01/2004",time:"10:00 am",w:120,r:60,k:10},s={type:"SOLO",map:"BERMUDA",date:"01/01/2004",time:"11:00 am",w:120,r:60,k:10},o={type:"SQUAD",map:"BERMUDA",date:"01/01/2004",time:"12:00 am",w:50,r:25,k:10};return(0,Hx.jsxs)(Hx.Fragment,{children:[e&&(0,Hx.jsx)(Gx,{}),(0,Hx.jsxs)(an,{children:[(0,Hx.jsx)(sn,{path:"/",element:(0,Hx.jsx)(Kx,{})}),(0,Hx.jsx)(sn,{path:"/loading",element:(0,Hx.jsx)(Yx,{})}),(0,Hx.jsxs)(sn,{element:(0,Hx.jsx)($x,{}),children:[(0,Hx.jsx)(sn,{path:"/home",element:(0,Hx.jsx)(Qx,{})}),(0,Hx.jsx)(sn,{path:"/bgmi",element:(0,Hx.jsx)(Jx,{bs1:t,bs2:n,bsd:r})}),(0,Hx.jsx)(sn,{path:"/ff",element:(0,Hx.jsx)(Xx,{fs1:i,fs2:s,fsd:o})}),(0,Hx.jsx)(sn,{path:"/um",element:(0,Hx.jsx)(Zx,{bs1:t,bs2:n,bsd:r,fs1:i,fs2:s,fsd:o})}),(0,Hx.jsx)(sn,{path:"/result",element:(0,Hx.jsx)(fT,{bs1:{name:"BGMI",type:"SOLO",map:"ERANGLE",date:"01/01/2003",time:"10:00 am",display:"flex"},bs2:{name:"BGMI",type:"SOLO",map:"ERANGLE",date:"01/01/2003",time:"11:00 am",display:"none"},bsd:{name:"BGMI",type:"SQUAD",map:"ERANGLE",date:"01/01/2003",time:"12:00 am",display:"none"},fs1:{name:"FREE FIRE",type:"SOLO",map:"BERMUDA",date:"01/01/2003",time:"10:00 am",display:"none"},fs2:{name:"FREE FIRE",type:"SOLO",map:"BERMUDA",date:"01/01/2003",time:"11:00 am",display:"none"},fsd:{name:"FREE FIRE",type:"SQUAD",map:"BERMUDA",date:"01/01/2003",time:"12:00 am",display:"none"}})}),(0,Hx.jsx)(sn,{path:"/bsolo1r",element:(0,Hx.jsx)(pT,{bs1:t})}),(0,Hx.jsx)(sn,{path:"/bsolo2r",element:(0,Hx.jsx)(mT,{bs2:n})}),(0,Hx.jsx)(sn,{path:"/bsquadr",element:(0,Hx.jsx)(gT,{bsd:r})}),(0,Hx.jsx)(sn,{path:"/fsolo1r",element:(0,Hx.jsx)(yT,{fs1:i})}),(0,Hx.jsx)(sn,{path:"/fsolo2r",element:(0,Hx.jsx)(vT,{fs2:s})}),(0,Hx.jsx)(sn,{path:"/fsquadr",element:(0,Hx.jsx)(wT,{fsd:o})}),(0,Hx.jsx)(sn,{path:"/deposit",element:(0,Hx.jsx)(dT,{})}),(0,Hx.jsx)(sn,{path:"/withdraw",element:(0,Hx.jsx)(eT,{})}),(0,Hx.jsx)(sn,{path:"/helpline",element:(0,Hx.jsx)(bT,{})})]}),(0,Hx.jsx)(sn,{path:"/fp",element:(0,Hx.jsx)(_T,{})}),(0,Hx.jsx)(sn,{path:"/*",element:(0,Hx.jsx)(ET,{})})]})]})};s.createRoot(document.getElementById("root")).render((0,Hx.jsx)(mn,{children:(0,Hx.jsx)(r.StrictMode,{children:(0,Hx.jsx)(IT,{})})}))})()})();
//# sourceMappingURL=main.a59638dd.js.map