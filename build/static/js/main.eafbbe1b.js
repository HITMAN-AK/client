/*! For license information please see main.eafbbe1b.js.LICENSE.txt */
(()=>{var e={536:(e,t,n)=>{e.exports=n(500)},280:(e,t,n)=>{"use strict";var r=n(876),i=n(584),s=n(836),a=n(220),o=n(896),l=n(524),c=n(768),u=n(172),h=n(76),d=n(72),f=n(940);e.exports=function(e){return new Promise((function(t,n){var p,m=e.data,g=e.headers,v=e.responseType;function y(){e.cancelToken&&e.cancelToken.unsubscribe(p),e.signal&&e.signal.removeEventListener("abort",p)}r.isFormData(m)&&r.isStandardBrowserEnv()&&delete g["Content-Type"];var w=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(b+":"+_)}var E=o(e.baseURL,e.url);function I(){if(w){var r="getAllResponseHeaders"in w?l(w.getAllResponseHeaders()):null,s={data:v&&"text"!==v&&"json"!==v?w.response:w.responseText,status:w.status,statusText:w.statusText,headers:r,config:e,request:w};i((function(e){t(e),y()}),(function(e){n(e),y()}),s),w=null}}if(w.open(e.method.toUpperCase(),a(E,e.params,e.paramsSerializer),!0),w.timeout=e.timeout,"onloadend"in w?w.onloadend=I:w.onreadystatechange=function(){w&&4===w.readyState&&(0!==w.status||w.responseURL&&0===w.responseURL.indexOf("file:"))&&setTimeout(I)},w.onabort=function(){w&&(n(new h("Request aborted",h.ECONNABORTED,e,w)),w=null)},w.onerror=function(){n(new h("Network Error",h.ERR_NETWORK,e,w,w)),w=null},w.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||u;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new h(t,r.clarifyTimeoutError?h.ETIMEDOUT:h.ECONNABORTED,e,w)),w=null},r.isStandardBrowserEnv()){var S=(e.withCredentials||c(E))&&e.xsrfCookieName?s.read(e.xsrfCookieName):void 0;S&&(g[e.xsrfHeaderName]=S)}"setRequestHeader"in w&&r.forEach(g,(function(e,t){"undefined"===typeof m&&"content-type"===t.toLowerCase()?delete g[t]:w.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(w.withCredentials=!!e.withCredentials),v&&"json"!==v&&(w.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&w.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&w.upload&&w.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(p=function(e){w&&(n(!e||e&&e.type?new d:e),w.abort(),w=null)},e.cancelToken&&e.cancelToken.subscribe(p),e.signal&&(e.signal.aborted?p():e.signal.addEventListener("abort",p))),m||(m=null);var x=f(E);x&&-1===["http","https","file"].indexOf(x)?n(new h("Unsupported protocol "+x+":",h.ERR_BAD_REQUEST,e)):w.send(m)}))}},500:(e,t,n)=>{"use strict";var r=n(876),i=n(264),s=n(92),a=n(443);var o=function e(t){var n=new s(t),o=i(s.prototype.request,n);return r.extend(o,s.prototype,n),r.extend(o,n),o.create=function(n){return e(a(t,n))},o}(n(972));o.Axios=s,o.CanceledError=n(72),o.CancelToken=n(955),o.isCancel=n(568),o.VERSION=n(776).version,o.toFormData=n(708),o.AxiosError=n(76),o.Cancel=o.CanceledError,o.all=function(e){return Promise.all(e)},o.spread=n(184),o.isAxiosError=n(868),e.exports=o,e.exports.default=o},955:(e,t,n)=>{"use strict";var r=n(72);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},72:(e,t,n)=>{"use strict";var r=n(76);function i(e){r.call(this,null==e?"canceled":e,r.ERR_CANCELED),this.name="CanceledError"}n(876).inherits(i,r,{__CANCEL__:!0}),e.exports=i},568:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},92:(e,t,n)=>{"use strict";var r=n(876),i=n(220),s=n(316),a=n(496),o=n(443),l=n(896),c=n(248),u=c.validators;function h(e){this.defaults=e,this.interceptors={request:new s,response:new s}}h.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=o(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var s,l=[];if(this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)})),!i){var h=[a,void 0];for(Array.prototype.unshift.apply(h,r),h=h.concat(l),s=Promise.resolve(t);h.length;)s=s.then(h.shift(),h.shift());return s}for(var d=t;r.length;){var f=r.shift(),p=r.shift();try{d=f(d)}catch(m){p(m);break}}try{s=a(d)}catch(m){return Promise.reject(m)}for(;l.length;)s=s.then(l.shift(),l.shift());return s},h.prototype.getUri=function(e){e=o(this.defaults,e);var t=l(e.baseURL,e.url);return i(t,e.params,e.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(e){h.prototype[e]=function(t,n){return this.request(o(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(o(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}h.prototype[e]=t(),h.prototype[e+"Form"]=t(!0)})),e.exports=h},76:(e,t,n)=>{"use strict";var r=n(876);function i(e,t,n,r,i){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var s=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(e){a[e]={value:e}})),Object.defineProperties(i,a),Object.defineProperty(s,"isAxiosError",{value:!0}),i.from=function(e,t,n,a,o,l){var c=Object.create(s);return r.toFlatObject(e,c,(function(e){return e!==Error.prototype})),i.call(c,e.message,t,n,a,o),c.name=e.name,l&&Object.assign(c,l),c},e.exports=i},316:(e,t,n)=>{"use strict";var r=n(876);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},896:(e,t,n)=>{"use strict";var r=n(936),i=n(544);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},496:(e,t,n)=>{"use strict";var r=n(876),i=n(696),s=n(568),a=n(972),o=n(72);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new o}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return s(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},443:(e,t,n)=>{"use strict";var r=n(876);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||s,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},584:(e,t,n)=>{"use strict";var r=n(76);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}},696:(e,t,n)=>{"use strict";var r=n(876),i=n(972);e.exports=function(e,t,n){var s=this||i;return r.forEach(n,(function(n){e=n.call(s,e,t)})),e}},972:(e,t,n)=>{"use strict";var r=n(876),i=n(732),s=n(76),a=n(172),o=n(708),l={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var u={transitional:a,adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=n(280)),e}(),transformRequest:[function(e,t){if(i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e))return e;if(r.isArrayBufferView(e))return e.buffer;if(r.isURLSearchParams(e))return c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,s=r.isObject(e),a=t&&t["Content-Type"];if((n=r.isFileList(e))||s&&"multipart/form-data"===a){var l=this.env&&this.env.FormData;return o(n?{"files[]":e}:e,l&&new l)}return s||"application/json"===a?(c(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(a){if("SyntaxError"===o.name)throw s.from(o,s.ERR_BAD_RESPONSE,this,null,this.response);throw o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(656)},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(l)})),e.exports=u},172:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},776:e=>{e.exports={version:"0.27.2"}},264:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},220:(e,t,n)=>{"use strict";var r=n(876);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var s;if(n)s=n(t);else if(r.isURLSearchParams(t))s=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),s=a.join("&")}if(s){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}},544:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},836:(e,t,n)=>{"use strict";var r=n(876);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,s,a){var o=[];o.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),r.isString(i)&&o.push("path="+i),r.isString(s)&&o.push("domain="+s),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},936:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},868:(e,t,n)=>{"use strict";var r=n(876);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},768:(e,t,n)=>{"use strict";var r=n(876);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},732:(e,t,n)=>{"use strict";var r=n(876);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},656:e=>{e.exports=null},524:(e,t,n)=>{"use strict";var r=n(876),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,s,a={};return e?(r.forEach(e.split("\n"),(function(e){if(s=e.indexOf(":"),t=r.trim(e.substr(0,s)).toLowerCase(),n=r.trim(e.substr(s+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},940:e=>{"use strict";e.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}},184:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},708:(e,t,n)=>{"use strict";var r=n(876);e.exports=function(e,t){t=t||new FormData;var n=[];function i(e){return null===e?"":r.isDate(e)?e.toISOString():r.isArrayBuffer(e)||r.isTypedArray(e)?"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(s,a){if(r.isPlainObject(s)||r.isArray(s)){if(-1!==n.indexOf(s))throw Error("Circular reference detected in "+a);n.push(s),r.forEach(s,(function(n,s){if(!r.isUndefined(n)){var o,l=a?a+"."+s:s;if(n&&!a&&"object"===typeof n)if(r.endsWith(s,"{}"))n=JSON.stringify(n);else if(r.endsWith(s,"[]")&&(o=r.toArray(n)))return void o.forEach((function(e){!r.isUndefined(e)&&t.append(l,i(e))}));e(n,l)}})),n.pop()}else t.append(a,i(s))}(e),t}},248:(e,t,n)=>{"use strict";var r=n(776).version,i=n(76),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var a={};s.transitional=function(e,t,n){function s(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new i(s(r," has been removed"+(t?" in "+t:"")),i.ERR_DEPRECATED);return t&&!a[r]&&(a[r]=!0,console.warn(s(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),s=r.length;s-- >0;){var a=r[s],o=t[a];if(o){var l=e[a],c=void 0===l||o(l,a,e);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}},validators:s}},876:(e,t,n)=>{"use strict";var r,i=n(264),s=Object.prototype.toString,a=(r=Object.create(null),function(e){var t=s.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())});function o(e){return e=e.toLowerCase(),function(t){return a(t)===e}}function l(e){return Array.isArray(e)}function c(e){return"undefined"===typeof e}var u=o("ArrayBuffer");function h(e){return null!==e&&"object"===typeof e}function d(e){if("object"!==a(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var f=o("Date"),p=o("File"),m=o("Blob"),g=o("FileList");function v(e){return"[object Function]"===s.call(e)}var y=o("URLSearchParams");function w(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),l(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}var b,_=(b="undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return b&&e instanceof b});e.exports={isArray:l,isArrayBuffer:u,isBuffer:function(e){return null!==e&&!c(e)&&null!==e.constructor&&!c(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){var t="[object FormData]";return e&&("function"===typeof FormData&&e instanceof FormData||s.call(e)===t||v(e.toString)&&e.toString()===t)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&u(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:h,isPlainObject:d,isUndefined:c,isDate:f,isFile:p,isBlob:m,isFunction:v,isStream:function(e){return h(e)&&v(e.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:w,merge:function e(){var t={};function n(n,r){d(t[r])&&d(n)?t[r]=e(t[r],n):d(n)?t[r]=e({},n):l(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)w(arguments[r],n);return t},extend:function(e,t,n){return w(t,(function(t,r){e[r]=n&&"function"===typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n){var r,i,s,a={};t=t||{};do{for(i=(r=Object.getOwnPropertyNames(e)).length;i-- >0;)a[s=r[i]]||(t[s]=e[s],a[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:a,kindOfTest:o,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;var t=e.length;if(c(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},isTypedArray:_,isFileList:g}},144:(e,t,n)=>{"use strict";var r=n(60),i=n(724);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function B(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case x:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function $(e,t){X(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ie=null,Se=null;function xe(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function Te(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function ke(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ne(e,t){return e(t)}function Ce(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ne(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Se)&&(Ce(),ke())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){Pe=!1}function je(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Me=null,Fe=!1,Ue=null,Ve={onError:function(e){Le=!0,Me=e}};function Be(e,t,n,r,i,s,a,o,l){Le=!1,Me=null,je.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return We(i),e;if(a===r)return We(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,It,St,xt,Tt=!1,kt=[],Nt=null,Ct=null,At=null,Rt=new Map,Dt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Vt(){Tt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Rt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<kt.length){Bt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Bt(Nt,e),null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),Rt.forEach(t),Dt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Gt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),jt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Lt(Nt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rt.set(s,Lt(Rt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=M({},cn,{view:0,detail:0}),dn=sn(hn),fn=M({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),pn=sn(fn),mn=sn(M({},fn,{dataTransfer:0})),gn=sn(M({},hn,{relatedTarget:0})),vn=sn(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(M({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function xn(){return Sn}var Tn=M({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=sn(Tn),Nn=sn(M({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=sn(M({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),An=sn(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=M({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Rn),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,Mn=u&&(!On||jn&&8<jn&&11>=jn),Fn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Fr(e,0)}function Yn(e){if(G(bi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,_e(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function ar(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},Sr={};function xr(e){if(Ir[e])return Ir[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ir[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var Tr=xr("animationend"),kr=xr("animationiteration"),Nr=xr("animationstart"),Cr=xr("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),l(t,[e])}for(var Pr=0;Pr<Rr.length;Pr++){var Or=Rr[Pr];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(kr,"onAnimationIteration"),Dr(Nr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Cr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Me;Le=!1,Me=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Mr(i,o,c),s=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Re((function(){var r=s,i=_e(n),a=[];e:{var o=Ar.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Cn;break;case Tr:case kr:case Nr:l=vn;break;case Cr:l=An;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=De(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(a,o,l,u,!1),null!==c&&null!==h&&Qr(a,h,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Wn(o))if(Xn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?bi(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(v=Kr(r,w)).length&&(w=new bn(w,e,null,n,i),a.push({event:w,listeners:v}),y?w.data=y:null!==(y=Bn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=De(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=De(n,s))&&a.unshift(Hr(n,l,o)):i||null!=(l=De(n,s))&&a.push(Hr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],Ii=-1;function Si(e){return{current:e}}function xi(e){0>Ii||(e.current=Ei[Ii],Ei[Ii]=null,Ii--)}function Ti(e,t){Ii++,Ei[Ii]=e.current,e.current=t}var ki={},Ni=Si(ki),Ci=Si(!1),Ai=ki;function Ri(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){xi(Ci),xi(Ni)}function Oi(e,t,n){if(Ni.current!==ki)throw Error(s(168));Ti(Ni,t),Ti(Ci,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return M({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ai=Ni.current,Ti(Ni,e),Ti(Ci,Ci.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=ji(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,xi(Ci),xi(Ni),Ti(Ni,e)):xi(Ci),Ti(Ci,n)}var Fi=null,Ui=!1,Vi=!1;function Bi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Vi&&null!==Fi){Vi=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ge(Ze,zi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Xi=s+e}else Ji=1<<s|n<<i|r,Xi=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function Es(e){var t=vs.current;xi(vs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function xs(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Ts=null;function ks(e){null===Ts?Ts=[e]:Ts.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,ks(t)):(n.next=i.next,i.next=n),t.interleaved=n,Cs(e,r)}function Cs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Cs(e,n)}return null===(i=r.interleaved)?(t.next=t,ks(r)):(t.next=i.next,i.next=t),r.interleaved=t,Cs(e,n)}function js(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ms(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=M({},h,d);break e;case 2:As=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=h}}function Fs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Bs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),js(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rc(t,e,i,r),js(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ps(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rc(t,e,r,n),js(t,e,r))}};function zs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=ki,s=t.contextType;return"object"===typeof s&&null!==s?s=xs(s):(i=Di(t)?Ai:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):ki),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Bs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Bs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=xs(s):(s=Di(t)?Ai:Ni.current,i.context=Ri(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Bs.enqueueReplaceState(i,i.state,null),Ms(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=jc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Fc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=jc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case E:return(t=Uc(t,e.mode,n)).return=e,t;case D:return d(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case D:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||j(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||j(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,o,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===o.length)return n(i,h),is&&$i(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(s=a(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,m),c}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,m),c}function g(i,o,l,c){var u=j(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),o=a(w,o,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&$i(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return is&&$i(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&$i(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===I&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===I){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ks(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===I?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=jc(a.type,a.key,a.props,null,r.mode,l)).ref=Ks(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Uc(a,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return m(r,s,a,l);if(j(a))return g(r,s,a,l);Gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Fc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Js=Ys(!0),Xs=Ys(!1),$s={},Zs=Si($s),ea=Si($s),ta=Si($s);function na(e){if(e===$s)throw Error(s(174));return e}function ra(e,t){switch(Ti(ta,t),Ti(ea,e),Ti(Zs,$s),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Zs),Ti(Zs,t)}function ia(){xi(Zs),xi(ea),xi(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(Ti(ea,e),Ti(Zs,n))}function aa(e){ea.current===e&&(xi(Zs),xi(ea))}var oa=Si(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var ha=b.ReactCurrentDispatcher,da=b.ReactCurrentBatchConfig,fa=0,pa=null,ma=null,ga=null,va=!1,ya=!1,wa=0,ba=0;function _a(){throw Error(s(321))}function Ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function Ia(e,t,n,r,i,a){if(fa=a,pa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ha.current=null===e||null===e.memoizedState?ao:oo,e=n(r,i),ya){a=0;do{if(ya=!1,wa=0,25<=a)throw Error(s(301));a+=1,ga=ma=null,t.updateQueue=null,ha.current=lo,e=n(r,i)}while(ya)}if(ha.current=so,t=null!==ma&&null!==ma.next,fa=0,ga=ma=pa=null,va=!1,t)throw Error(s(300));return e}function Sa(){var e=0!==wa;return wa=0,e}function xa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?pa.memoizedState=ga=e:ga=ga.next=e,ga}function Ta(){if(null===ma){var e=pa.alternate;e=null!==e?e.memoizedState:null}else e=ma.next;var t=null===ga?pa.memoizedState:ga.next;if(null!==t)ga=t,ma=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ma=e).memoizedState,baseState:ma.baseState,baseQueue:ma.baseQueue,queue:ma.queue,next:null},null===ga?pa.memoizedState=ga=e:ga=ga.next=e}return ga}function ka(e,t){return"function"===typeof t?t(e):t}function Na(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ma,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((fa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,pa.lanes|=h,Ml|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,pa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ca(e){var t=Ta(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(bo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Ra(e,t){var n=pa,r=Ta(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,bo=!0),r=r.queue,qa(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Fa(9,Pa.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&fa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&La(e)}function Oa(e,t,n){return n((function(){ja(t)&&La(e)}))}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function La(e){var t=Cs(e,1);null!==t&&rc(t,e,1,-1)}function Ma(e){var t=xa();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t.queue=e,e=e.dispatch=to.bind(null,pa,e),[t.memoizedState,e]}function Fa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=pa.updateQueue)?(t={lastEffect:null,stores:null},pa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ua(){return Ta().memoizedState}function Va(e,t,n,r){var i=xa();pa.flags|=e,i.memoizedState=Fa(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Ta();r=void 0===r?null:r;var s=void 0;if(null!==ma){var a=ma.memoizedState;if(s=a.destroy,null!==r&&Ea(r,a.deps))return void(i.memoizedState=Fa(t,n,s,r))}pa.flags|=e,i.memoizedState=Fa(1|t,n,s,r)}function za(e,t){return Va(8390656,8,e,t)}function qa(e,t){return Ba(2048,8,e,t)}function Wa(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Ka(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ka.bind(null,t,e),n)}function Qa(){}function Ya(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ja(e,t){var n=Ta();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ea(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&fa)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),pa.lanes|=n,Ml|=n,e.baseState=!0),t)}function $a(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=da.transition;da.transition={};try{e(!1),t()}finally{wt=n,da.transition=r}}function Za(){return Ta().memoizedState}function eo(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},no(e))ro(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),io(n,t,r)}}function to(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(no(e))ro(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,ks(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),io(n,t,r))}}function no(e){var t=e.alternate;return e===pa||null!==t&&t===pa}function ro(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function io(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var so={readContext:xs,useCallback:_a,useContext:_a,useEffect:_a,useImperativeHandle:_a,useInsertionEffect:_a,useLayoutEffect:_a,useMemo:_a,useReducer:_a,useRef:_a,useState:_a,useDebugValue:_a,useDeferredValue:_a,useTransition:_a,useMutableSource:_a,useSyncExternalStore:_a,useId:_a,unstable_isNewReconciler:!1},ao={readContext:xs,useCallback:function(e,t){return xa().memoizedState=[e,void 0===t?null:t],e},useContext:xs,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Va(4194308,4,Ka.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Va(4194308,4,e,t)},useInsertionEffect:function(e,t){return Va(4,2,e,t)},useMemo:function(e,t){var n=xa();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xa();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=eo.bind(null,pa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xa().memoizedState=e},useState:Ma,useDebugValue:Qa,useDeferredValue:function(e){return xa().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=$a.bind(null,e[1]),xa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pa,i=xa();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&fa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=xa(),t=Al.identifierPrefix;if(is){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oo={readContext:xs,useCallback:Ya,useContext:xs,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ja,useReducer:Na,useRef:Ua,useState:function(){return Na(ka)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(Ta(),ma.memoizedState,e)},useTransition:function(){return[Na(ka)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1},lo={readContext:xs,useCallback:Ya,useContext:xs,useEffect:qa,useImperativeHandle:Ga,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Ja,useReducer:Ca,useRef:Ua,useState:function(){return Ca(ka)},useDebugValue:Qa,useDeferredValue:function(e){var t=Ta();return null===ma?t.memoizedState=e:Xa(t,ma.memoizedState,e)},useTransition:function(){return[Ca(ka)[0],Ta().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Ra,useId:Za,unstable_isNewReconciler:!1};function co(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),ho(0,t)},n}function mo(e,t,n){(n=Ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function go(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wo=b.ReactCurrentOwner,bo=!1;function _o(e,t,n,r){t.child=null===e?Xs(t,null,n,r):Js(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=Ia(e,t,n,r,s,i),n=Sa(),null===e||bo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Io(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=jc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,So(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function So(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(bo=!0)}}return ko(e,t,n,r,i)}function xo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Ol,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Ol,Pl),Pl|=r;return _o(e,t,i,n),t.child}function To(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ko(e,t,n,r,i){var s=Di(n)?Ai:Ni.current;return s=Ri(t,s),Ss(t,i),n=Ia(e,t,n,r,s,i),r=Sa(),null===e||bo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function No(e,t,n,r,i){if(Di(n)){var s=!0;Li(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Wo(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=xs(c):c=Ri(t,c=Di(n)?Ai:Ni.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Ws(t,a,r,c),As=!1;var d=t.memoizedState;a.state=d,Ms(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ci.current||As?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(o=As||zs(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ds(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=xs(l):l=Ri(t,l=Di(n)?Ai:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&Ws(t,a,r,l),As=!1,d=t.memoizedState,a.state=d,Ms(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||Ci.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(c=As||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Co(e,t,n,r,s,i)}function Co(e,t,n,r,i,s){To(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Mi(t,n,!1),Ho(e,t,s);r=t.stateNode,wo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ra(e,t.containerInfo)}function Ro(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_o(e,t,n,r),t.child}var Do,Po,Oo,jo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Fo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Uo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,Vo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return Vo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Vo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Cs(e,i),rc(r,e,i,-1))}return gc(),Vo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Nc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=Xi,Gi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Uo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vo(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Uo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function zo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zo(t,!0,n,null,s);break;case"together":zo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Go(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Go(t),null;case 1:case 17:return Di(t.type)&&Pi(),Go(t),null;case 3:return r=t.stateNode,ia(),xi(Ci),xi(Ni),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),Po(e,t),Go(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Go(t),null}if(e=na(Zs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[fi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Do(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ur(jr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&w(e,a,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Go(t),null;case 6:if(e&&null!=t.stateNode)jo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Go(t),null;case 13:if(xi(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Go(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===jl&&(jl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Go(t),null);case 4:return ia(),Po(e,t),null===e&&zr(t.stateNode.containerInfo),Go(t),null;case 10:return Es(t.type._context),Go(t),null;case 19:if(xi(oa),null===(a=t.memoizedState))return Go(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Xe()>ql&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Go(t),null}else 2*Xe()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Xe(),t.sibling=null,n=oa.current,Ti(oa,r?1&n|2:1&n),t):(Go(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Go(t),6&t.subtreeFlags&&(t.flags|=8192)):Go(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Yo(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),xi(Ci),xi(Ni),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(xi(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(oa),null;case 4:return ia(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Do=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),a=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},jo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Jo=!1,Xo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){xc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){xc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){xc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&X(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(g){xc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){xc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||h,gl(t,e),Xo=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(p=(f=Zo).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Zo=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(g){xc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){xc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Jo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Jo;var c=Xo;if(Jo=a,(Xo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?Il(i):null!==l?(l.return=a,Zo=l):Il(i);for(;null!==s;)Zo=s,bl(s,t,n),s=s.sibling;Zo=i,Jo=o,Xo=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Fs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Fs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(f){xc(t,t.return,f)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function Il(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){xc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){xc(t,a,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Sl,xl=Math.ceil,Tl=b.ReactCurrentDispatcher,kl=b.ReactCurrentOwner,Nl=b.ReactCurrentBatchConfig,Cl=0,Al=null,Rl=null,Dl=0,Pl=0,Ol=Si(0),jl=0,Ll=null,Ml=0,Fl=0,Ul=0,Vl=null,Bl=null,zl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Jl=0,Xl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Cl)?Xe():-1!==Zl?Zl:Zl=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Cl)&&0!==Dl?Dl&-Dl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Cl)&&e===Al||(e===Al&&(0===(2&Cl)&&(Fl|=n),4===jl&&lc(e,Dl)),ic(e,r),1===n&&0===Cl&&0===(1&t.mode)&&(ql=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=ft(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Al?Dl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),ai((function(){0===(6&Cl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Cl))throw Error(s(327));var n=e.callbackNode;if(Ic()&&e.callbackNode!==n)return null;var r=dt(e,e===Al?Dl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Cl;Cl|=2;var a=mc();for(Al===e&&Dl===t||(Wl=null,ql=Xe()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),Tl.current=a,Cl=i,null!==Rl?t=0:(Al=null,Dl=0,t=jl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=pt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,Bl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Bl,Wl),t);break}Ec(e,Bl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Bl,Wl),r);break}Ec(e,Bl,Wl);break;default:throw Error(s(329))}}}return ic(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function lc(e,t){for(t&=~Ul,t&=~Fl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Cl))throw Error(s(327));Ic();var t=dt(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Bl,Wl),ic(e,Xe()),null}function uc(e,t){var n=Cl;Cl|=1;try{return e(t)}finally{0===(Cl=n)&&(ql=Xe()+500,Ui&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Cl)&&Ic();var t=Cl;Cl|=1;var n=Nl.transition,r=wt;try{if(Nl.transition=null,wt=1,e)return e()}finally{wt=r,Nl.transition=n,0===(6&(Cl=t))&&zi()}}function dc(){Pl=Ol.current,xi(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Rl)for(n=Rl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:ia(),xi(Ci),xi(Ni),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:xi(oa);break;case 10:Es(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Al=e,Rl=e=Oc(e.current,null),Dl=Pl=t,jl=0,Ll=null,Ul=Fl=Ml=0,Bl=Vl=null,null!==Ts){for(t=0;t<Ts.length;t++)if(null!==(r=(n=Ts[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ts=null}return e}function pc(e,t){for(;;){var n=Rl;try{if(_s(),ha.current=so,va){for(var r=pa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(fa=0,ga=ma=pa=null,ya=!1,wa=0,kl.current=null,null===n||null===n.return){jl=1,Ll=t,Rl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Dl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=vo(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&go(a,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){go(a,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),ps(co(c,l));break e}}a=c=co(c,l),4!==jl&&(jl=2),null===Vl?Vl=[a]:Vl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,po(0,c,t));break e;case 1:l=c;var y=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Gl||!Gl.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,mo(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(b){t=b,Rl===n&&null!==n&&(Rl=n=n.return);continue}break}}function mc(){var e=Tl.current;return Tl.current=so,null===e?so:e}function gc(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Fl)||lc(Al,Dl)}function vc(e,t){var n=Cl;Cl|=2;var r=mc();for(Al===e&&Dl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Cl=n,Tl.current=r,null!==Rl)throw Error(s(261));return Al=null,Dl=0,jl}function yc(){for(;null!==Rl;)bc(Rl)}function wc(){for(;null!==Rl&&!Ye();)bc(Rl)}function bc(e){var t=Sl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?_c(e):Rl=t,kl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Pl)))return void(Rl=n)}else{if(null!==(n=Yo(n,t)))return n.flags&=32767,void(Rl=n);if(null===e)return jl=6,void(Rl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Rl=t);Rl=t=e}while(null!==t);0===jl&&(jl=5)}function Ec(e,t,n){var r=wt,i=Nl.transition;try{Nl.transition=null,wt=1,function(e,t,n,r){do{Ic()}while(null!==Yl);if(0!==(6&Cl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(Rl=Al=null,Dl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return Ic(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Nl.transition,Nl.transition=null;var o=wt;wt=1;var l=Cl;Cl|=4,kl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){xc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Je(),Cl=l,wt=o,Nl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Jl=i),a=e.pendingLanes,0===a&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Jl)&&0!==e.tag&&Ic(),a=e.pendingLanes,0!==(1&a)?e===$l?Xl++:(Xl=0,$l=e):Xl=0,zi()}(e,t,n,r)}finally{Nl.transition=i,wt=r}return null}function Ic(){if(null!==Yl){var e=bt(Jl),t=Nl.transition,n=wt;try{if(Nl.transition=null,wt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Cl))throw Error(s(331));var i=Cl;for(Cl|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var f=(h=Zo).sibling,p=h.return;if(al(h),h===u){Zo=null;break}if(null!==f){f.return=p,Zo=f;break}Zo=p}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var w=e.current;for(Zo=w;null!==Zo;){var b=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==b)b.return=o,Zo=b;else e:for(o=w;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){xc(l,l.return,E)}if(l===o){Zo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zo=_;break e}Zo=l.return}}if(Cl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,Nl.transition=t}}return!1}function Sc(e,t,n){e=Os(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function xc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=Os(t,e=mo(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Tc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Dl&n)===n&&(4===jl||3===jl&&(130023424&Dl)===Dl&&500>Xe()-zl?fc(e,0):Ul|=n),ic(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Cs(e,t))&&(vt(e,t,n),ic(e,n))}function Nc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),kc(e,n)}function Ac(e,t){return Ge(e,t)}function Rc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Rc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function jc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case I:return Lc(n.children,i,a,t);case S:o=8,i|=8;break;case x:return(e=Dc(12,n,t,2|i)).elementType=x,e.lanes=a,e;case C:return(e=Dc(13,n,t,i)).elementType=C,e.lanes=a,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=a,e;case P:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:o=10;break e;case k:o=9;break e;case N:o=11;break e;case R:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Dc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Fc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,a,o,l){return e=new Vc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Dc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function zc(e){if(!e)return ki;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return ji(e,n,t)}return t}function qc(e,t,n,r,i,s,a,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=zc(null),n=e.current,(s=Ps(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,a))&&(rc(e,i,a,s),js(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ci.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),fs();break;case 5:sa(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Fo(e,t,n):(Ti(oa,1&oa.current),null!==(e=Ho(e,t,n))?e.sibling:null);Ti(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,xo(e,t,n)}return Ho(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wo(e,t),e=t.pendingProps;var i=Ri(t,Ni.current);Ss(t,n),i=Ia(null,t,r,e,i,n);var a=Sa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=Bs,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Co(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(r),e=gs(r,e),i){case 0:t=ko(null,t,r,e,n);break e;case 1:t=No(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=Io(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ko(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ds(e,t),Ms(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ro(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Ro(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ho(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),To(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Fo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ti(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ci.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Ps(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Is(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=xs(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Io(e,t,r,i=gs(r.type,i),n);case 15:return So(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wo(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Ss(t,n),qs(t,r,i),Hs(t,r,i,n),Co(null,t,r,!0,e,n);case 19:return qo(e,t,n);case 22:return xo(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}Wc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[pi]=a.current,zr(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(a)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Xe()),0===(6&Cl)&&(ql=Xe()+500,zi()))}break;case 13:hc((function(){var t=Cs(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Cs(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Cs(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return wt},xt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));G(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ne=uc,Ce=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Te,ke,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,a,o),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},180:(e,t,n)=>{"use strict";var r=n(292);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},292:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(144)},36:(e,t,n)=>{"use strict";var r=n(60),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},564:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:I.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+N(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),C(a,t,i,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+N(o=e[c],c);l+=C(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=C(o=o.value,t,i,u=s+N(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},P={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:P,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},60:(e,t,n)=>{"use strict";e.exports=n(564)},116:(e,t,n)=>{"use strict";e.exports=n(36)},692:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(E);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(T),T=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,x=null,T=-1,k=5,N=-1;function C(){return!(t.unstable_now()-N<k)}function A(){if(null!==x){var e=t.unstable_now();N=e;var n=!0;try{n=x(!0,e)}finally{n?I():(S=!1,x=null)}}else S=!1}if("function"===typeof w)I=function(){w(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,D=R.port2;R.port1.onmessage=A,I=function(){D.postMessage(null)}}else I=function(){v(A,0)};function P(e){x=e,S||(S=!0,I())}function O(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(T),T=-1):g=!0,O(_,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,P(E))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},724:(e,t,n)=>{"use strict";e.exports=n(692)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>Ge,SDK_VERSION:()=>Jt,_DEFAULT_ENTRY_NAME:()=>Ft,_addComponent:()=>zt,_addOrOverwriteComponent:()=>qt,_apps:()=>Vt,_clearComponents:()=>Gt,_components:()=>Bt,_getProvider:()=>Ht,_registerComponent:()=>Wt,_removeServiceInstance:()=>Kt,deleteApp:()=>en,getApp:()=>$t,getApps:()=>Zt,initializeApp:()=>Xt,onLog:()=>nn,registerVersion:()=>tn,setLogLevel:()=>rn});var t,r=n(60),i=n.t(r,2),s=n(180),a=n(536),o=n.n(a);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const c="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,o=s.history,h=t.Pop,m=null,g=v();function v(){return(o.state||{idx:null}).idx}function y(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,o.replaceState(l({},o.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,o)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(c,y),m=e,()=>{s.removeEventListener(c,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=v()+1;let l=d(i,g),c=b.createHref(i);try{o.pushState(l,"",c)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(c)}a&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=v();let s=d(i,g),l=b.createHref(i);o.replaceState(s,"",l),a&&m&&m({action:h,location:b.location,delta:0})},go:e=>o.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=D(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let a=0;null==s&&a<i.length;++a)s=C(i[a],R(r));return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(u(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=M([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),w(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:N(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=b(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:\w+$/,E=3,I=2,S=1,x=10,T=-2,k=e=>"*"===e;function N(e,t){let n=e.split("/"),r=n.length;return n.some(k)&&(r+=T),t&&(r+=I),n.filter((e=>!k(e))).reduce(((e,t)=>e+(_.test(t)?E:""===t?S:x)),r)}function C(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],o=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:M([i,c.pathname]),pathnameBase:F(M([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=M([i,c.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:function(e,t){try{return decodeURIComponent(e)}catch(n){return h(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l||"",r),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function R(e){try{return decodeURI(e)}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function j(e){return O(e).map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=l({},e),u(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let s,a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else if(r){let e=t[t.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e.pop();i.pathname=t.join("/")}s="/"+e.join("/")}else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let c=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),h=o&&"/"!==o&&o.endsWith("/"),d=(a||"."===o)&&n.endsWith("/");return c.pathname.endsWith("/")||!h&&!d||(c.pathname+="/"),c}const M=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],q=(new Set(z),["get",...z]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}const H=r.createContext(null);const K=r.createContext(null);const G=r.createContext(null);const Q=r.createContext(null);const Y=r.createContext({outlet:null,matches:[],isDataRoute:!1});const J=r.createContext(null);function X(){return null!=r.useContext(Q)}function $(){return X()||u(!1),r.useContext(Q).location}function Z(e){r.useContext(G).static||r.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=r.useContext(Y);return e?function(){let{router:e}=he(ce.UseNavigateStable),t=fe(ue.UseNavigateStable),n=r.useRef(!1);Z((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,W({fromRouteId:t},i)))}),[e,t]);return i}():function(){X()||u(!1);let e=r.useContext(H),{basename:t,navigator:n}=r.useContext(G),{matches:i}=r.useContext(Y),{pathname:s}=$(),a=JSON.stringify(j(i)),o=r.useRef(!1);return Z((()=>{o.current=!0})),r.useCallback((function(r,i){if(void 0===i&&(i={}),!o.current)return;if("number"===typeof r)return void n.go(r);let l=L(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:M([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,a,s,e])}()}const te=r.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{matches:i}=r.useContext(Y),{pathname:s}=$(),a=JSON.stringify(j(i));return r.useMemo((()=>L(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function re(e,n,i){X()||u(!1);let{navigator:s}=r.useContext(G),{matches:a}=r.useContext(Y),o=a[a.length-1],l=o?o.params:{},c=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let h,d=$();if(n){var f;let e="string"===typeof n?m(n):n;"/"===c||(null==(f=e.pathname)?void 0:f.startsWith(c))||u(!1),h=e}else h=d;let p=h.pathname||"/",g=y(e,{pathname:"/"===c?p:p.slice(c.length)||"/"});let v=le(g&&g.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:M([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:M([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i);return n&&v?r.createElement(Q.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:t.Pop}},v):v}function ie(){let e=function(){var e;let t=r.useContext(J),n=de(ue.UseRouteError),i=fe(ue.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const se=r.createElement(ie,null);class ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?r.createElement(Y.Provider,{value:this.props.routeContext},r.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oe(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(H);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Y.Provider,{value:t},i)}function le(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var s;if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=a.findIndex((e=>e.route.id&&(null==o?void 0:o[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}return a.reduceRight(((e,i,s)=>{let l=i.route.id?null==o?void 0:o[i.route.id]:null,c=null;n&&(c=i.route.errorElement||se);let u=t.concat(a.slice(0,s+1)),h=()=>{let t;return t=l?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(oe,{match:i,routeContext:{outlet:e,matches:u,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:c,error:l,children:h(),routeContext:{outlet:null,matches:u,isDataRoute:!0}}):h()}),null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=r.useContext(H);return t||u(!1),t}function de(e){let t=r.useContext(K);return t||u(!1),t}function fe(e){let t=function(e){let t=r.useContext(Y);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}i.startTransition;function pe(e){return function(e){let t=r.useContext(Y).outlet;return t?r.createElement(te.Provider,{value:e},t):t}(e.context)}function me(e){u(!1)}function ge(e){let{basename:n="/",children:i=null,location:s,navigationType:a=t.Pop,navigator:o,static:l=!1}=e;X()&&u(!1);let c=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:c,navigator:o,static:l})),[c,o,l]);"string"===typeof s&&(s=m(s));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:v="default"}=s,y=r.useMemo((()=>{let e=D(d,c);return null==e?null:{location:{pathname:e,search:f,hash:p,state:g,key:v},navigationType:a}}),[c,d,f,p,g,v,a]);return null==y?null:r.createElement(G.Provider,{value:h},r.createElement(Q.Provider,{children:i,value:y}))}function ve(e){let{children:t,location:n}=e;return re(ye(t),n)}new Promise((()=>{}));r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==me&&u(!1),e.props.index&&e.props.children&&u(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,s)),n.push(a)})),n}var we=n(292),be=n.t(we,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];new Map;const Se=i.startTransition;be.flushSync;function xe(e){let{basename:t,children:n,future:i,window:s}=e,a=r.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,o)));let l=a.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:h}=i||{},d=r.useCallback((e=>{h&&Se?Se((()=>u(e))):u(e)}),[u,h]);return r.useLayoutEffect((()=>l.listen(d)),[l,d]),r.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=Ee(e,Ie),{basename:g}=r.useContext(G),v=!1;if("string"===typeof h&&ke.test(h)&&(n=h,Te))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=D(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(b){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;X()||u(!1);let{basename:i,navigator:s}=r.useContext(G),{hash:a,pathname:o,search:l}=ne(e,{relative:n}),c=o;return"/"!==i&&(c="/"===o?i:M([i,o])),s.createHref({pathname:c,search:l,hash:a})}(h,{relative:s}),w=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l}=void 0===t?{}:t,c=ee(),u=$(),h=ne(e,{relative:o});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:p(u)===p(h);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,unstable_viewTransition:l})}}),[u,c,h,i,s,n,e,a,o,l])}(h,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,unstable_viewTransition:f});return r.createElement("a",_e({},m,{href:n||y,onClick:v||a?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:t,target:c}))}));var Ce,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ce||(Ce={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));const Re=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},De={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Re(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Pe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Oe=function(e){return function(e){const t=Re(e);return De.encodeByteArray(t,!0)}(e).replace(/\./g,"")},je=function(e){try{return De.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Le(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Le(e[n],t[n]));return e}const Me=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Fe=()=>{try{return Me()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&je(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ue=()=>{var e;return null===(e=Fe())||void 0===e?void 0:e.config};class Ve{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Be(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ze(){var e;const t=null===(e=Fe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function qe(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function We(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function He(){const e=Be();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Ke(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Ge extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ge.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qe.prototype.create)}}class Qe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Ye,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ge(n,s,t)}}const Ye=/\{\$([^}]+)}/g;function Je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Xe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if($e(n)&&$e(s)){if(!Xe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function $e(e){return null!==e&&"object"===typeof e}function Ze(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function et(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function tt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function nt(e,t){const n=new rt(e,t);return n.subscribe.bind(n)}class rt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=it),void 0===r.error&&(r.error=it),void 0===r.complete&&(r.complete=it);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function it(){}function st(e){return e&&e._delegate?e._delegate:e}class at{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ot="[DEFAULT]";class lt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ve;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ot})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ot?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot;return this.component?this.component.multipleInstances?e:ot:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ct{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const ut=[];var ht;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ht||(ht={}));const dt={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},ft=ht.INFO,pt={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},mt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=pt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class gt{constructor(e){this.name=e,this._logLevel=ft,this._logHandler=mt,this._userLogHandler=null,ut.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?dt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...t),this._logHandler(this,ht.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...t),this._logHandler(this,ht.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.INFO,...t),this._logHandler(this,ht.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.WARN,...t),this._logHandler(this,ht.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...t),this._logHandler(this,ht.ERROR,...t)}}const vt=(e,t)=>t.some((t=>e instanceof t));let yt,wt;const bt=new WeakMap,_t=new WeakMap,Et=new WeakMap,It=new WeakMap,St=new WeakMap;let xt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _t.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Et.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Tt(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(wt||(wt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Ct(this),n),Nt(bt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Nt(e.apply(Ct(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Ct(this),t,...r);return Et.set(s,t.sort?t.sort():[t]),Nt(s)}}function kt(e){return"function"===typeof e?Tt(e):(e instanceof IDBTransaction&&function(e){if(_t.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));_t.set(e,t)}(e),vt(e,yt||(yt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,xt):e)}function Nt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Nt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&bt.set(t,e)})).catch((()=>{})),St.set(t,e),t}(e);if(It.has(e))return It.get(e);const t=kt(e);return t!==e&&(It.set(e,t),St.set(t,e)),t}const Ct=e=>St.get(e);const At=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],Dt=new Map;function Pt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Dt.get(t))return Dt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!At.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Dt.set(t,s),s}xt=(e=>({...e,get:(t,n,r)=>Pt(t,n)||e.get(t,n,r),has:(t,n)=>!!Pt(t,n)||e.has(t,n)}))(xt);class Ot{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const jt="@firebase/app",Lt="0.9.25",Mt=new gt("@firebase/app"),Ft="[DEFAULT]",Ut={[jt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vt=new Map,Bt=new Map;function zt(e,t){try{e.container.addComponent(t)}catch(n){Mt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qt(e,t){e.container.addOrOverwriteComponent(t)}function Wt(e){const t=e.name;if(Bt.has(t))return Mt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Bt.set(t,e);for(const n of Vt.values())zt(n,e);return!0}function Ht(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ft;Ht(e,t).clearInstance(n)}function Gt(){Bt.clear()}const Qt=new Qe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Yt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new at("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}const Jt="10.7.1";function Xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ft,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Qt.create("bad-app-name",{appName:String(i)});if(n||(n=Ue()),!n)throw Qt.create("no-options");const s=Vt.get(i);if(s){if(Xe(n,s.options)&&Xe(r,s.config))return s;throw Qt.create("duplicate-app",{appName:i})}const a=new ct(i);for(const l of Bt.values())a.addComponent(l);const o=new Yt(n,r,a);return Vt.set(i,o),o}function $t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ft;const t=Vt.get(e);if(!t&&e===Ft&&Ue())return Xt();if(!t)throw Qt.create("no-app",{appName:e});return t}function Zt(){return Array.from(Vt.values())}async function en(e){const t=e.name;Vt.has(t)&&(Vt.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function tn(e,t,n){var r;let i=null!==(r=Ut[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Mt.warn(e.join(" "))}Wt(new at("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function nn(e,t){if(null!==e&&"function"!==typeof e)throw Qt.create("invalid-log-argument");!function(e,t){for(const n of ut){let r=null;t&&t.level&&(r=dt[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];const o=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:ht[n].toLowerCase(),message:o,args:s,type:t.name})}}}(e,t)}function rn(e){var t;t=e,ut.forEach((e=>{e.setLogLevel(t)}))}const sn="firebase-heartbeat-database",an=1,on="firebase-heartbeat-store";let ln=null;function cn(){return ln||(ln=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Nt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Nt(a.result),e.oldVersion,e.newVersion,Nt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}(sn,an,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(on)}}).catch((e=>{throw Qt.create("idb-open",{originalErrorMessage:e.message})}))),ln}async function un(e,t){try{const n=(await cn()).transaction(on,"readwrite"),r=n.objectStore(on);await r.put(t,hn(e)),await n.done}catch(n){if(n instanceof Ge)Mt.warn(n.message);else{const e=Qt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Mt.warn(e.message)}}}function hn(e){return"".concat(e.name,"!").concat(e.options.appId)}class dn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=fn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),mn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Oe(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function fn(){return(new Date).toISOString().substring(0,10)}class pn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ke()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await cn();return await t.transaction(on).objectStore(on).get(hn(e))}catch(t){if(t instanceof Ge)Mt.warn(t.message);else{const e=Qt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Mt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function mn(e){return Oe(JSON.stringify({version:2,heartbeats:e})).length}var gn;gn="",Wt(new at("platform-logger",(e=>new Ot(e)),"PRIVATE")),Wt(new at("heartbeat",(e=>new dn(e)),"PRIVATE")),tn(jt,Lt,gn),tn(jt,Lt,"esm2017"),tn("fire-js","");class vn{constructor(e,t){this._delegate=e,this.firebase=t,zt(e,new at("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),en(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ft;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){zt(this._delegate,e)}_addOrOverwriteComponent(e){qt(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const yn=new Qe("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const wn=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=Xt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Je(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:tn,setLogLevel:rn,onLog:nn,apps:null,SDK_VERSION:Jt,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(Wt(e)&&"PUBLIC"===e.type){const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw yn.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&Le(a,e.serviceProps),r[s]=a,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Je(n,e=e||Ft))throw yn.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(vn);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){Le(n,e)},createSubscribe:nt,ErrorFactory:Qe,deepExtend:Le}),n}(),bn=new gt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){bn.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&bn.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const _n=wn;!function(e){tn("@firebase/app-compat","0.2.25",e)}();_n.registerVersion("firebase","10.7.1","app-compat");function En(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const In={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Sn="EMAIL_SIGNIN",xn="PASSWORD_RESET",Tn="RECOVER_EMAIL",kn="REVERT_SECOND_FACTOR_ADDITION",Nn="VERIFY_AND_CHANGE_EMAIL",Cn="VERIFY_EMAIL";function An(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rn=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},Dn=An,Pn=new Qe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),On=new gt("@firebase/auth");function jn(e){if(On.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];On.error("Auth (".concat(Jt,"): ").concat(e),...n)}}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Vn(e,...n)}function Mn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Vn(e,...n)}function Fn(e,t,n){const r=Object.assign(Object.assign({},Dn()),{[t]:n});return new Qe("auth","Firebase",r).create(t,{appName:e.name})}function Un(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Ln(e,"argument-error"),Fn(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Vn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Pn.create(e,...n)}function Bn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Vn(t,...r)}}function zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw jn(t),new Error(t)}function qn(e,t){e||zn(t)}function Wn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hn(){return"http:"===Kn()||"https:"===Kn()}function Kn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Gn{constructor(e,t){this.shortDelay=e,this.longDelay=t,qn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())||We()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Hn()||qe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Qn(e,t){qn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Yn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Xn=new Gn(3e4,6e4);function $n(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Zn(e,t,n,r){return er(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Ze(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Yn.fetch()(nr(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))}))}async function er(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Jn),t);try{const t=new ir(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw sr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw sr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw sr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Fn(e,o,a);Ln(e,o)}}catch(i){if(i instanceof Ge)throw i;Ln(e,"network-request-failed",{message:String(i)})}}async function tr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Zn(e,t,n,r,i);return"mfaPendingCredential"in s&&Ln(e,"multi-factor-auth-required",{_serverResponse:s}),s}function nr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Qn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function rr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ir{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Mn(this.auth,"network-request-failed"))),Xn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function sr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Mn(e,t,r);return i.customData._tokenResponse=n,i}function ar(e){return void 0!==e&&void 0!==e.getResponse}function or(e){return void 0!==e&&void 0!==e.enterprise}class lr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return rr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function cr(e,t){return Zn(e,"GET","/v2/recaptchaConfig",$n(e,t))}function ur(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function hr(e){return 1e3*Number(e)}function dr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return jn("JWT malformed, contained fewer than 3 sections"),null;try{const e=je(n);return e?JSON.parse(e):(jn("Failed to decode base64 JWT payload"),null)}catch(i){return jn("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function fr(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Ge&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class pr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class mr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await fr(e,async function(e,t){return Zn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Bn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=En(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new mr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class vr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bn(e.idToken,"internal-error"),Bn("undefined"!==typeof e.idToken,"internal-error"),Bn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=dr(e);return Bn(t,"internal-error"),Bn("undefined"!==typeof t.exp,"internal-error"),Bn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Bn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await er(e,{},(async()=>{const n=Ze({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=nr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yn.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new vr;return n&&(Bn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Bn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Bn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vr,this.toJSON())}_performRefresh(){return zn("not implemented")}}function yr(e,t){Bn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class wr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=En(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await fr(this,this.stsTokenManager.getToken(this.auth,e));return Bn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=st(e),r=await n.getIdToken(t),i=dr(r);Bn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ur(hr(i.auth_time)),issuedAtTime:ur(hr(i.iat)),expirationTime:ur(hr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=st(e);await gr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Bn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Bn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await gr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await fr(this,async function(e,t){return Zn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;Bn(y&&E,e,"internal-error");const I=vr.fromJSON(this.name,E);Bn("string"===typeof y,e,"internal-error"),yr(u,e.name),yr(h,e.name),Bn("boolean"===typeof w,e,"internal-error"),Bn("boolean"===typeof b,e,"internal-error"),yr(d,e.name),yr(f,e.name),yr(p,e.name),yr(m,e.name),yr(g,e.name),yr(v,e.name);const S=new wr({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new vr;r.updateFromServerResponse(t);const i=new wr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await gr(i),i}}const br=new Map;function _r(e){qn(e instanceof Function,"Expected a class definition");let t=br.get(e);return t?(qn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,br.set(e,t),t)}class Er{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Er.type="NONE";const Ir=Er;function Sr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class xr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Sr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Sr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new xr(_r(Ir),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||_r(Ir);const s=Sr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=wr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new xr(i,e,n)):new xr(i,e,n)}}function Tr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ar(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Dr(t))return"Blackberry";if(Pr(t))return"Webos";if(Nr(t))return"Safari";if((t.includes("chrome/")||Cr(t))&&!t.includes("edge/"))return"Chrome";if(Rr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/firefox\//i.test(e)}function Nr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/crios\//i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iemobile/i.test(e)}function Rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/android/i.test(e)}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/blackberry/i.test(e)}function Pr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/webos/i.test(e)}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return Or(e)||Rr(e)||Pr(e)||Dr(e)||/windows phone/i.test(e)||Ar(e)}function Lr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Tr(Be());break;case"Worker":t="".concat(Tr(Be()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Jt,"/").concat(r)}class Mr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Fr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Ur{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Br(this),this.idTokenSubscription=new Br(this),this.beforeStateQueue=new Mr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=_r(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await xr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Bn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gr(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?st(e):null;return t&&Bn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Bn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(_r(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Zn(e,"GET","/v2/passwordPolicy",$n(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Fr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Zn(e,"POST","/v2/accounts:revokeToken",$n(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&_r(e)||this._popupRedirectResolver;Bn(t,this,"argument-error"),this.redirectPersistenceManager=await xr.create(this,[_r(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bn(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Lr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(On.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];On.warn("Auth (".concat(Jt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Vr(e){return st(e)}class Br{constructor(e){this.auth=e,this.observer=null,this.addObserver=nt((e=>this.observer=e))}get next(){return Bn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Mn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function qr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Wr{constructor(e){this.type="recaptcha-enterprise",this.auth=Vr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;or(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{cr(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new lr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&or(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));zr("https://www.google.com/recaptcha/enterprise.js?render="+i).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Hr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Wr(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Kr(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Hr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Hr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Gr(e,t,n){const r=Vr(e);Bn(r._canInitEmulator,r,"emulator-config-failed"),Bn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Qr(t),{host:a,port:o}=function(e){const t=Qr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Yr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Yr(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Qr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Yr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Jr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,t){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function Xr(e,t){return Zn(e,"POST","/v1/accounts:resetPassword",$n(e,t))}async function $r(e,t){return Zn(e,"POST","/v1/accounts:signUp",t)}async function Zr(e,t){return tr(e,"POST","/v1/accounts:signInWithPassword",$n(e,t))}async function ei(e,t){return Zn(e,"POST","/v1/accounts:sendOobCode",$n(e,t))}async function ti(e,t){return ei(e,t)}async function ni(e,t){return ei(e,t)}class ri extends Jr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ri(e,t,"password")}static _fromEmailAndCode(e,t){return new ri(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Kr(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Zr);case"emailLink":return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithEmailLink",$n(e,t))}(e,{email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Kr(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$r);case"emailLink":return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithEmailLink",$n(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ln(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ii(e,t){return tr(e,"POST","/v1/accounts:signInWithIdp",$n(e,t))}class si extends Jr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new si(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ln("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=En(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new si(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ii(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ii(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ii(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ze(t)}return e}}const ai={USER_NOT_FOUND:"user-not-found"};class oi extends Jr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new oi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new oi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithPhoneNumber",$n(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await tr(e,"POST","/v1/accounts:signInWithPhoneNumber",$n(e,t));if(n.temporaryProof)throw sr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return tr(e,"POST","/v1/accounts:signInWithPhoneNumber",$n(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ai)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new oi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class li{constructor(e){var t,n,r,i,s,a;const o=et(tt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Bn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=et(tt(e)).link,n=t?et(tt(t)).deep_link_id:null,r=et(tt(e)).deep_link_id;return(r?et(tt(r)).link:null)||r||n||t||e}(e);try{return new li(t)}catch(n){return null}}}class ci{constructor(){this.providerId=ci.PROVIDER_ID}static credential(e,t){return ri._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=li.parseLink(t);return Bn(n,"argument-error"),ri._fromEmailAndCode(e,n.code,n.tenantId)}}ci.PROVIDER_ID="password",ci.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ci.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ui{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class hi extends ui{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class di extends hi{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return Bn("providerId"in t&&"signInMethod"in t,"argument-error"),si._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return Bn(e.idToken||e.accessToken,"argument-error"),si._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return di.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return di.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new di(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(l){return null}}}class fi extends hi{constructor(){super("facebook.com")}static credential(e){return si._fromParams({providerId:fi.PROVIDER_ID,signInMethod:fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fi.credentialFromTaggedObject(e)}static credentialFromError(e){return fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return fi.credential(t.oauthAccessToken)}catch(n){return null}}}fi.FACEBOOK_SIGN_IN_METHOD="facebook.com",fi.PROVIDER_ID="facebook.com";class pi extends hi{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return si._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return pi.credential(n,r)}catch(i){return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com",pi.PROVIDER_ID="google.com";class mi extends hi{constructor(){super("github.com")}static credential(e){return si._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mi.credentialFromTaggedObject(e)}static credentialFromError(e){return mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch(n){return null}}}mi.GITHUB_SIGN_IN_METHOD="github.com",mi.PROVIDER_ID="github.com";class gi extends Jr{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return ii(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ii(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ii(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new gi(n,i):null}static _create(e,t){return new gi(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vi extends ui{constructor(e){Bn(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return vi.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return vi.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=gi.fromJSON(e);return Bn(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return gi._create(r,n)}catch(i){return null}}}class yi extends hi{constructor(){super("twitter.com")}static credential(e,t){return si._fromParams({providerId:yi.PROVIDER_ID,signInMethod:yi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yi.credentialFromTaggedObject(e)}static credentialFromError(e){return yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return yi.credential(n,r)}catch(i){return null}}}async function wi(e,t){return tr(e,"POST","/v1/accounts:signUp",$n(e,t))}yi.TWITTER_SIGN_IN_METHOD="twitter.com",yi.PROVIDER_ID="twitter.com";class bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await wr._fromIdTokenResponse(e,n,r),s=_i(n);return new bi({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=_i(n);return new bi({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function _i(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ei extends Ge{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ei.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ei(e,t,n,r)}}function Ii(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ei._fromErrorAndOperation(e,n,t,r);throw n}))}function Si(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function xi(e,t){const n=st(e);await ki(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Zn(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=Si(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ti(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await fr(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return bi._forOperation(e,"link",r)}async function ki(e,t,n){await gr(t);const r=!1===e?"provider-already-linked":"no-such-provider";Bn(Si(t.providerData).has(n)===e,t.auth,r)}async function Ni(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await fr(e,Ii(r,i,t,e),n);Bn(s.idToken,r,"internal-error");const a=dr(s.idToken);Bn(a,r,"internal-error");const{sub:o}=a;return Bn(e.uid===o,r,"user-mismatch"),bi._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Ln(r,"user-mismatch"),s}}async function Ci(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Ii(e,r,t),s=await bi._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ai(e,t){return Ci(Vr(e),t)}async function Ri(e,t){const n=st(e);return await ki(!1,n,t.providerId),Ti(n,t)}async function Di(e,t){return Ni(st(e),t)}async function Pi(e,t){const n=Vr(e),r=await async function(e,t){return tr(e,"POST","/v1/accounts:signInWithCustomToken",$n(e,t))}(n,{token:t,returnSecureToken:!0}),i=await bi._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class Oi{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?ji._fromServerResponse(e,t):"totpInfo"in t?Li._fromServerResponse(e,t):Ln(e,"internal-error")}}class ji extends Oi{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new ji(t)}}class Li extends Oi{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Li(t)}}function Mi(e,t,n){var r;Bn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Bn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Bn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Bn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Fi(e){const t=Vr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ui(e,t){await async function(e,t){return Zn(e,"POST","/v1/accounts:update",$n(e,t))}(st(e),{oobCode:t})}async function Vi(e,t){const n=st(e),r=await Xr(n,{oobCode:t}),i=r.requestType;switch(Bn(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Bn(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Bn(r.mfaInfo,n,"internal-error");default:Bn(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Oi._fromServerResponse(Vr(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Bi(e,t){const n={identifier:t,continueUri:Hn()?Wn():"http://localhost"},{signinMethods:r}=await async function(e,t){return Zn(e,"POST","/v1/accounts:createAuthUri",$n(e,t))}(st(e),n);return r||[]}async function zi(e,t){const n=st(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&Mi(n.auth,r,t);const{email:i}=await async function(e,t){return ei(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function qi(e,t,n){const r=st(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&Mi(r.auth,i,n);const{email:s}=await async function(e,t){return ei(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Wi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=st(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await fr(i,async function(e,t){return Zn(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}async function Hi(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await fr(e,async function(e,t){return Zn(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Ki{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Gi extends Ki{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Qi extends Ki{constructor(e,t){super(e,"facebook.com",t)}}class Yi extends Gi{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Ji extends Ki{constructor(e,t){super(e,"google.com",t)}}class Xi extends Gi{constructor(e,t,n){super(e,"twitter.com",t,n)}}function $i(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=dr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Ki(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Qi(s,i);case"github.com":return new Yi(s,i);case"google.com":return new Ji(s,i);case"twitter.com":return new Xi(s,i,e.screenName||null);case"custom":case"anonymous":return new Ki(s,null);default:return new Ki(s,r,i)}}(n)}class Zi{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Zi("enroll",e,t)}static _fromMfaPendingCredential(e){return new Zi("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Zi._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Zi._fromIdtoken(e.multiFactorSession.idToken)}return null}}class es{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Vr(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Oi._fromServerResponse(n,e)));Bn(r.mfaPendingCredential,n,"internal-error");const s=Zi._fromMfaPendingCredential(r.mfaPendingCredential);return new es(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await bi._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return Bn(t.user,n,"internal-error"),bi._forOperation(t.user,t.operationType,a);default:Ln(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class ts{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Oi._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new ts(e)}async getSession(){return Zi._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await fr(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await fr(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Zn(r,"POST","/v2/accounts/mfaEnrollment:withdraw",$n(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(s){throw s}var r,i}}const ns=new WeakMap;const rs="__sak";class is{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rs,"1"),this.storage.removeItem(rs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ss extends is{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Be();return Nr(e)||Or(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=jr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);He()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ss.type="LOCAL";const as=ss;class os extends is{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}os.type="SESSION";const ls=os;class cs{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new cs(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function us(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}cs.receivers=[];class hs{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=us("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function ds(){return window}function fs(){return"undefined"!==typeof ds().WorkerGlobalScope&&"function"===typeof ds().importScripts}const ps="firebaseLocalStorageDb",ms="firebaseLocalStorage",gs="fbase_key";class vs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ys(e,t){return e.transaction([ms],t?"readwrite":"readonly").objectStore(ms)}function ws(){const e=indexedDB.open(ps,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(ms,{keyPath:gs})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(ms)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(ps);return new vs(e).toPromise()}(),t(await ws()))}))}))}async function bs(e,t,n){const r=ys(e,!0).put({[gs]:t,value:n});return new vs(r).toPromise()}function _s(e,t){const n=ys(e,!0).delete(t);return new vs(n).toPromise()}class Es{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ws()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fs()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cs._getInstance(fs()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new hs(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ws();return await bs(e,rs,"1"),await _s(e,rs),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>bs(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ys(e,!1).get(t),r=await new vs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>_s(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ys(e,!1).getAll();return new vs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Es.type="LOCAL";const Is=Es;const Ss=1e12;class xs{constructor(e){this.auth=e,this.counter=Ss,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Ts(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Ss;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Ss;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Ss;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Ts{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;Bn(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ks=qr("rcb"),Ns=new Gn(3e4,6e4);class Cs{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=ds().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Bn(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&ar(ds().grecaptcha)?Promise.resolve(ds().grecaptcha):new Promise(((n,r)=>{const i=ds().setTimeout((()=>{r(Mn(e,"network-request-failed"))}),Ns.get());ds()[ks]=()=>{ds().clearTimeout(i),delete ds()[ks];const s=ds().grecaptcha;if(!s||!ar(s))return void r(Mn(e,"internal-error"));const a=s.render;s.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};zr("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Ze({onload:ks,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(Mn(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=ds().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class As{async load(e){return new xs(e)}clearedOneInstance(){}}const Rs="recaptcha",Ds={theme:"light",type:"image"};class Ps{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Ds);this.parameters=n,this.type=Rs,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vr(e),this.isInvisible="invisible"===this.parameters.size,Bn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;Bn(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new As:new Cs,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){Bn(!this.parameters.sitekey,this.auth,"argument-error"),Bn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Bn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=ds()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){Bn(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Bn(Hn()&&!fs(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Zn(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);Bn(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Bn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Os{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=oi._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function js(e,t,n){var r;const i=await n.verify();try{let s;if(Bn("string"===typeof i,e,"argument-error"),Bn(n.type===Rs,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Bn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Zn(e,"POST","/v2/accounts/mfaEnrollment:start",$n(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Bn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Bn(n,e,"missing-multi-factor-info");const a=await function(e,t){return Zn(e,"POST","/v2/accounts/mfaSignIn:start",$n(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Zn(e,"POST","/v1/accounts:sendVerificationCode",$n(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ls{constructor(e){this.providerId=Ls.PROVIDER_ID,this.auth=Vr(e)}verifyPhoneNumber(e,t){return js(this.auth,e,st(t))}static credential(e,t){return oi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ls.credentialFromTaggedObject(t)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?oi._fromTokenResponse(n,r):null}}function Ms(e,t){return t?_r(t):(Bn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ls.PROVIDER_ID="phone",Ls.PHONE_SIGN_IN_METHOD="phone";class Fs extends Jr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ii(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ii(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ii(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Us(e){return Ci(e.auth,new Fs(e),e.bypassAuthState)}function Vs(e){const{auth:t,user:n}=e;return Bn(n,t,"internal-error"),Ni(n,new Fs(e),e.bypassAuthState)}async function Bs(e){const{auth:t,user:n}=e;return Bn(n,t,"internal-error"),Ti(n,new Fs(e),e.bypassAuthState)}class zs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Us;case"linkViaPopup":case"linkViaRedirect":return Bs;case"reauthViaPopup":case"reauthViaRedirect":return Vs;default:Ln(this.auth,"internal-error")}}resolve(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qs=new Gn(2e3,1e4);class Ws extends zs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bn(e,this.auth,"internal-error"),e}async onExecution(){qn(1===this.filter.length,"Popup operations only handle one event");const e=us();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Mn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Mn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,qs.get())};e()}}Ws.currentPopupAction=null;const Hs="pendingRedirect",Ks=new Map;class Gs extends zs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Ks.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Xs(t),r=Js(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Ks.set(this.auth._key(),e)}return this.bypassAuthState||Ks.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Qs(e,t){return Js(e)._set(Xs(t),"true")}function Ys(e,t){Ks.set(e._key(),t)}function Js(e){return _r(e._redirectPersistence)}function Xs(e){return Sr(Hs,e.config.apiKey,e.name)}function $s(e,t,n){return async function(e,t,n){const r=Vr(e);Un(e,t,ui),await r._initializationPromise;const i=Ms(r,n);return await Qs(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Zs(e,t,n){return async function(e,t,n){const r=st(e);Un(r.auth,t,ui),await r.auth._initializationPromise;const i=Ms(r.auth,n);await Qs(i,r.auth);const s=await na(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function ea(e,t,n){return async function(e,t,n){const r=st(e);Un(r.auth,t,ui),await r.auth._initializationPromise;const i=Ms(r.auth,n);await ki(!1,r,t.providerId),await Qs(i,r.auth);const s=await na(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function ta(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Vr(e),i=Ms(r,t),s=new Gs(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}async function na(e){const t=us("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class ra{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!sa(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Mn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ia(e))}saveEventToCache(e){this.cachedEventUids.add(ia(e)),this.lastProcessedEventTime=Date.now()}}function ia(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function sa(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function aa(e){return Zn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const oa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,la=/^https?/;function ca(e){const t=Wn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!la.test(n))return!1;if(oa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ua=new Gn(3e4,6e4);function ha(){const e=ds().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let da=null;function fa(e){return da=da||function(e){return new Promise(((t,n)=>{var r,i,s;function a(){ha(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ha(),n(Mn(e,"network-request-failed"))},timeout:ua.get()})}if(null===(i=null===(r=ds().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=ds().gapi)||void 0===s?void 0:s.load)){const t=qr("iframefcb");return ds()[t]=()=>{gapi.load?a():n(Mn(e,"network-request-failed"))},zr("https://apis.google.com/js/api.js?onload=".concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw da=null,e}))}(e),da}const pa=new Gn(5e3,15e3),ma="__/auth/iframe",ga="emulator/auth/iframe",va={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ya=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wa(e){const t=e.config;Bn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qn(t,ga):"https://".concat(e.config.authDomain,"/").concat(ma),r={apiKey:t.apiKey,appName:e.name,v:Jt},i=ya.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Ze(r).slice(1))}const ba={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _a{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Ea(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},ba),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Be().toLowerCase();n&&(o=Cr(c)?"_blank":n),kr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Or(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new _a(null);const h=window.open(t||"",o,u);Bn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new _a(h)}const Ia="__/auth/handler",Sa="emulator/auth/handler",xa=encodeURIComponent("fac");async function Ta(e,t,n,r,i,s){Bn(e.config.authDomain,e,"auth-domain-config-required"),Bn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Jt,eventId:i};if(t instanceof ui){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof hi){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(xa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ia);return Qn(t,Sa)}(e),"?").concat(Ze(o).slice(1)).concat(c)}const ka="webStorageSupport";const Na=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ls,this._completeRedirectFn=ta,this._overrideRedirectResult=Ys}async _openPopup(e,t,n,r){var i;qn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ea(e,await Ta(e,t,n,Wn(),r),us())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){ds().location.href=e}(await Ta(e,t,n,Wn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(qn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await async function(e){const t=await fa(e),n=ds().gapi;return Bn(n,e,"internal-error"),t.open({where:document.body,url:wa(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:va,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Mn(e,"network-request-failed"),s=ds().setTimeout((()=>{r(i)}),pa.get());function a(){ds().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}(e),n=new ra(e);return t.register("authEvent",(t=>{Bn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ka,{type:ka},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ka];void 0!==i&&t(!!i),Ln(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await aa(e);for(const r of t)try{if(ca(r))return}catch(n){}Ln(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jr()||Nr()||Or()}};class Ca{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return zn("unexpected MultiFactorSessionType")}}}class Aa extends Ca{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Aa(e)}_finalizeEnroll(e,t,n){return function(e,t){return Zn(e,"POST","/v2/accounts/mfaEnrollment:finalize",$n(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Zn(e,"POST","/v2/accounts/mfaSignIn:finalize",$n(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ra{constructor(){}static assertion(e){return Aa._fromCredential(e)}}Ra.FACTOR_ID="phone";var Da="@firebase/auth",Pa="1.5.1";class Oa{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Bn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=Fe())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var ja;function La(){return window}ja="Browser",Wt(new at("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Bn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:ja,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lr(ja)},c=new Ur(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(_r);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Wt(new at("auth-internal",(e=>(e=>new Oa(e))(Vr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),tn(Da,Pa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ja)),tn(Da,Pa,"esm2017");async function Ma(e,t,n){var r;const{BuildInfo:i}=La();qn(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(qn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),a={};return Or()?a.ibi=i.packageName:Rr()?a.apn=i.packageName:Ln(e,"operation-not-supported-in-this-environment"),i.displayName&&(a.appDisplayName=i.displayName),a.sessionId=s,Ta(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,a)}function Fa(e){const{cordova:t}=La();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ua=20;class Va extends ra{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Ba(e){const t=await Wa()._get(Ha(e));return t&&await Wa()._remove(Ha(e)),t}function za(e,t){var n,r;const i=function(e){const t=Ka(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ka(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ka(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ka(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,a=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],o=a?Mn(a):null;return o?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:o,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function qa(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ua;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function Wa(){return _r(as)}function Ha(e){return Sr("authEvent",e.config.apiKey,e.name)}function Ka(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return et(n.join("?"))}const Ga=class{constructor(){this._redirectPersistence=ls,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ta,this._overrideRedirectResult=Ys}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Va(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){Ln(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,a,o,l,c,u;const h=La();Bn("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Bn("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Bn("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Bn("function"===typeof(null===(l=null===(o=null===(a=null===h||void 0===h?void 0:h.cordova)||void 0===a?void 0:a.plugins)||void 0===o?void 0:o.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Bn("function"===typeof(null===(u=null===(c=null===h||void 0===h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Ks.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:qa(),postBody:null,tenantId:e.tenantId,error:Mn(e,"no-auth-event")}}(e,n,r);await function(e,t){return Wa()._set(Ha(e),t)}(e,s);const a=await Ma(e,s,t);return async function(e,t,n){const{cordova:r}=La();let i=()=>{};try{await new Promise(((s,a)=>{let o=null;function l(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function c(){o||(o=window.setTimeout((()=>{a(Mn(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}t.addPassiveListener(l),document.addEventListener("resume",c,!1),Rr()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",u,!1),o&&window.clearTimeout(o)}}))}finally{i()}}(e,i,await Fa(a))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=La(),n={};Or()?n.iosBundleId=t.packageName:Rr()?n.androidPackageName=t.packageName:Ln(e,"operation-not-supported-in-this-environment"),await aa(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=La(),s=setTimeout((async()=>{await Ba(e),t.onEvent(Qa())}),500),a=async n=>{clearTimeout(s);const r=await Ba(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=za(r,n.url)),t.onEvent(i||Qa())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,a);const o=r,l="".concat(i.packageName.toLowerCase(),"://");La().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"===typeof o)try{o(e)}catch(t){console.error(t)}}}};function Qa(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Mn("no-auth-event")}}function Ya(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return!("file:"!==Ya()&&"ionic:"!==Ya()&&"capacitor:"!==Ya()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return He()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/Edge\/\d+/.test(e)}(e)}function $a(){try{const e=self.localStorage,t=us();if(e)return e.setItem(t,"1"),e.removeItem(t),!Xa()||Ke()}catch(e){return Za()&&Ke()}return!1}function Za(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function eo(){return("http:"===Ya()||"https:"===Ya()||qe()||Ja())&&!(We()||ze())&&$a()&&!Za()}function to(){return Ja()&&"undefined"!==typeof document}const no={LOCAL:"local",NONE:"none",SESSION:"session"},ro=Bn,io="persistence";async function so(e){await e._initializationPromise;const t=ao(),n=Sr(io,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function ao(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const oo=Bn;class lo{constructor(){this.browserResolver=_r(Na),this.cordovaResolver=_r(Ga),this.underlyingResolver=null,this._redirectPersistence=ls,this._completeRedirectFn=ta,this._overrideRedirectResult=Ys}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return to()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oo(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!to()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function co(e){return e.unwrap()}function uo(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new mo(e,function(e,t){var n;const r=st(e),i=t;return Bn(t.customData.operationType,r,"argument-error"),Bn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),es._fromError(r,i)}(e,t))}else if(r){const e=ho(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function ho(e){const{_tokenResponse:t}=e instanceof Ge?e.customData:e;if(!t)return null;if(!(e instanceof Ge)&&"temporaryProof"in t&&"phoneNumber"in t)return Ls.credentialFromResult(e);const n=t.providerId;if(!n||n===In.PASSWORD)return null;let r;switch(n){case In.GOOGLE:r=pi;break;case In.FACEBOOK:r=fi;break;case In.GITHUB:r=mi;break;case In.TWITTER:r=yi;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:a,nonce:o}=t;return i||s||e||a?a?n.startsWith("saml.")?gi._create(n,a):si._fromParams({providerId:n,signInMethod:n,pendingToken:a,idToken:e,accessToken:i}):new di(n).credential({idToken:e,accessToken:i,rawNonce:o}):null}return e instanceof Ge?r.credentialFromError(e):r.credentialFromResult(e)}function fo(e,t){return t.catch((t=>{throw t instanceof Ge&&uo(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,ho(r)),additionalUserInfo:$i(e),user:go.getOrCreate(n)};var r}))}async function po(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>fo(e,n.confirm(t))}}class mo{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return fo(co(this.auth),this.resolver.resolveSignIn(e))}}class go{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=st(e);return ns.has(t)||ns.set(t,ts._fromUser(t)),ns.get(t)}(e)}static getOrCreate(e){return go.USER_MAP.has(e)||go.USER_MAP.set(e,new go(e)),go.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return fo(this.auth,Ri(this._delegate,e))}async linkWithPhoneNumber(e,t){return po(this.auth,async function(e,t,n){const r=st(e);await ki(!1,r,"phone");const i=await js(r.auth,t,st(n));return new Os(i,(e=>Ri(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return fo(this.auth,async function(e,t,n){const r=st(e);Un(r.auth,t,ui);const i=Ms(r.auth,n);return new Ws(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,lo))}async linkWithRedirect(e){return await so(Vr(this.auth)),ea(this._delegate,e,lo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return fo(this.auth,Di(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return po(this.auth,async function(e,t,n){const r=st(e),i=await js(r.auth,t,st(n));return new Os(i,(e=>Di(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return fo(this.auth,async function(e,t,n){const r=st(e);Un(r.auth,t,ui);const i=Ms(r.auth,n);return new Ws(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,lo))}async reauthenticateWithRedirect(e){return await so(Vr(this.auth)),Zs(this._delegate,e,lo)}sendEmailVerification(e){return zi(this._delegate,e)}async unlink(e){return await xi(this._delegate,e),this}updateEmail(e){return function(e,t){return Hi(st(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return Hi(st(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){await Ti(st(e),t)}(this._delegate,e)}updateProfile(e){return Wi(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return qi(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}go.USER_MAP=new WeakMap;const vo=Bn;class yo{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;vo(n,"invalid-api-key",{appName:e.name}),vo(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?lo:void 0;this._delegate=t.initialize({options:{persistence:bo(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(Rn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?go.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Gr(this._delegate,e,t)}applyActionCode(e){return Ui(this._delegate,e)}checkActionCode(e){return Vi(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Xr(st(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fi(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return fo(this._delegate,async function(e,t,n){const r=Vr(e),i=Kr(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wi),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fi(e),t})),a=await bi._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Bi(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=li.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){vo(eo(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Vr(e)._initializationPromise,ta(e,t,!1)}(this._delegate,lo);return e?fo(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Vr(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=wo(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=wo(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Vr(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){Bn(t.handleCodeInApp,r,"argument-error"),t&&Mi(r,e,t)}(i,n),await Kr(r,i,"getOobCode",ni)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Vr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Mi(r,i,n),await Kr(r,i,"getOobCode",ti)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){ro(Object.values(no).includes(t),e,"invalid-persistence-type"),We()?ro(t!==no.SESSION,e,"unsupported-persistence-type"):ze()?ro(t===no.NONE,e,"unsupported-persistence-type"):Za()?ro(t===no.NONE||t===no.LOCAL&&Ke(),e,"unsupported-persistence-type"):ro(t===no.NONE||$a(),e,"unsupported-persistence-type")}(this._delegate,e),e){case no.SESSION:t=ls;break;case no.LOCAL:t=await _r(Is)._isAvailable()?Is:as;break;case no.NONE:t=Ir;break;default:return Ln("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return fo(this._delegate,async function(e){var t;const n=Vr(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new bi({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await wi(n,{returnSecureToken:!0}),i=await bi._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return fo(this._delegate,Ai(this._delegate,e))}signInWithCustomToken(e){return fo(this._delegate,Pi(this._delegate,e))}signInWithEmailAndPassword(e,t){return fo(this._delegate,function(e,t,n){return Ai(st(e),ci.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Fi(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return fo(this._delegate,async function(e,t,n){const r=st(e),i=ci.credentialWithLink(t,n||Wn());return Bn(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ai(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return po(this._delegate,async function(e,t,n){const r=Vr(e),i=await js(r,t,st(n));return new Os(i,(e=>Ai(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return vo(eo(),this._delegate,"operation-not-supported-in-this-environment"),fo(this._delegate,async function(e,t,n){const r=Vr(e);Un(e,t,ui);const i=Ms(r,n);return new Ws(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,lo))}async signInWithRedirect(e){return vo(eo(),this._delegate,"operation-not-supported-in-this-environment"),await so(this._delegate),$s(this._delegate,e,lo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Vi(st(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function wo(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&go.getOrCreate(e)),error:t,complete:n}}function bo(e,t){const n=function(e,t){const n=ao();if(!n)return[];const r=Sr(io,e,t);switch(n.getItem(r)){case no.NONE:return[Ir];case no.LOCAL:return[Is,ls];case no.SESSION:return[ls];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Is)||n.push(Is),"undefined"!==typeof window)for(const r of[as,ls])n.includes(r)||n.push(r);return n.includes(Ir)||n.push(Ir),n}yo.Persistence=no;class _o{constructor(){this.providerId="phone",this._delegate=new Ls(co(_n.auth()))}static credential(e,t){return Ls.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}_o.PHONE_SIGN_IN_METHOD=Ls.PHONE_SIGN_IN_METHOD,_o.PROVIDER_ID=Ls.PROVIDER_ID;const Eo=Bn;class Io{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_n.app();var r;Eo(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Ps(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var So;(So=_n).INTERNAL.registerComponent(new at("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new yo(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Sn,PASSWORD_RESET:xn,RECOVER_EMAIL:Tn,REVERT_SECOND_FACTOR_ADDITION:kn,VERIFY_AND_CHANGE_EMAIL:Nn,VERIFY_EMAIL:Cn}},EmailAuthProvider:ci,FacebookAuthProvider:fi,GithubAuthProvider:mi,GoogleAuthProvider:pi,OAuthProvider:di,SAMLAuthProvider:vi,PhoneAuthProvider:_o,PhoneMultiFactorGenerator:Ra,RecaptchaVerifier:Io,TwitterAuthProvider:yi,Auth:yo,AuthCredential:Jr,Error:Ge}).setInstantiationMode("LAZY").setMultipleInstances(!1)),So.registerVersion("@firebase/auth-compat","0.5.1");var xo,To="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ko={},No=No||{},Co=To||self;function Ao(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ro(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Do="closure_uid_"+(1e9*Math.random()>>>0),Po=0;function Oo(e,t,n){return e.call.apply(e.bind,arguments)}function jo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Lo(e,t,n){return(Lo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Oo:jo).apply(null,arguments)}function Mo(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Fo(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Uo(){this.s=this.s,this.o=this.o}Uo.prototype.s=!1,Uo.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Do)&&e[Do]||(e[Do]=++Po))},Uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vo=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Bo(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function zo(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Ao(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function qo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qo.prototype.h=function(){this.defaultPrevented=!0};var Wo=function(){if(!Co.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Co.addEventListener("test",e,t),Co.removeEventListener("test",e,t)}catch(n){}return e}();function Ho(e){return/^[\s\xa0]*$/.test(e)}function Ko(){var e=Co.navigator;return e&&(e=e.userAgent)?e:""}function Go(e){return-1!=Ko().indexOf(e)}function Qo(e){return Qo[" "](e),e}Qo[" "]=function(){};var Yo,Jo,Xo=Go("Opera"),$o=Go("Trident")||Go("MSIE"),Zo=Go("Edge"),el=Zo||$o,tl=Go("Gecko")&&!(-1!=Ko().toLowerCase().indexOf("webkit")&&!Go("Edge"))&&!(Go("Trident")||Go("MSIE"))&&!Go("Edge"),nl=-1!=Ko().toLowerCase().indexOf("webkit")&&!Go("Edge");function rl(){var e=Co.document;return e?e.documentMode:void 0}e:{var il="",sl=function(){var e=Ko();return tl?/rv:([^\);]+)(\)|;)/.exec(e):Zo?/Edge\/([\d\.]+)/.exec(e):$o?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):nl?/WebKit\/(\S+)/.exec(e):Xo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(sl&&(il=sl?sl[1]:""),$o){var al=rl();if(null!=al&&al>parseFloat(il)){Yo=String(al);break e}}Yo=il}if(Co.document&&$o){var ol=rl();Jo=ol||(parseInt(Yo,10)||void 0)}else Jo=void 0;var ll=Jo;function cl(e,t){if(qo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(tl){e:{try{Qo(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ul[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&cl.$.h.call(this)}}Fo(cl,qo);var ul={2:"touch",3:"pen",4:"mouse"};cl.prototype.h=function(){cl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hl="closure_listenable_"+(1e6*Math.random()|0),dl=0;function fl(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++dl,this.fa=this.ia=!1}function pl(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ml(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function gl(e){const t={};for(const n in e)t[n]=e[n];return t}const vl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yl(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<vl.length;t++)n=vl[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wl(e){this.src=e,this.g={},this.h=0}function bl(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Vo(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(pl(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _l(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}wl.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=_l(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new fl(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var El="closure_lm_"+(1e6*Math.random()|0),Il={};function Sl(e,t,n,r,i){if(r&&r.once)return Tl(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Sl(e,t[s],n,r,i);return null}return n=Pl(n),e&&e[hl]?e.O(t,n,Ro(r)?!!r.capture:!!r,i):xl(e,t,n,!1,r,i)}function xl(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=Ro(i)?!!i.capture:!!i,o=Rl(e);if(o||(e[El]=o=new wl(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Al;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Wo||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Cl(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Tl(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Tl(e,t[s],n,r,i);return null}return n=Pl(n),e&&e[hl]?e.P(t,n,Ro(r)?!!r.capture:!!r,i):xl(e,t,n,!0,r,i)}function kl(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)kl(e,t[s],n,r,i);else r=Ro(r)?!!r.capture:!!r,n=Pl(n),e&&e[hl]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_l(s=e.g[t],n,r,i))&&(pl(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Rl(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_l(t,n,r,i)),(n=-1<e?t[e]:null)&&Nl(n))}function Nl(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[hl])bl(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Cl(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Rl(t))?(bl(n,e),0==n.h&&(n.src=null,t[El]=null)):pl(e)}}}function Cl(e){return e in Il?Il[e]:Il[e]="on"+e}function Al(e,t){if(e.fa)e=!0;else{t=new cl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Nl(e),e=n.call(r,t)}return e}function Rl(e){return(e=e[El])instanceof wl?e:null}var Dl="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pl(e){return"function"===typeof e?e:(e[Dl]||(e[Dl]=function(t){return e.handleEvent(t)}),e[Dl])}function Ol(){Uo.call(this),this.i=new wl(this),this.S=this,this.J=null}function jl(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new qo(t,e);else if(t instanceof qo)t.target=t.target||e;else{var i=t;yl(t=new qo(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Ll(a,r,!0,t)&&i}if(i=Ll(a=t.g=e,r,!0,t)&&i,i=Ll(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ll(a=t.g=n[s],r,!1,t)&&i}function Ll(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&bl(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}Fo(Ol,Uo),Ol.prototype[hl]=!0,Ol.prototype.removeEventListener=function(e,t,n,r){kl(this,e,t,n,r)},Ol.prototype.N=function(){if(Ol.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)pl(n[r]);delete t.g[e],t.h--}}this.J=null},Ol.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ol.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ml=Co.JSON.stringify;function Fl(){var e=Hl;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ul=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Vl),(e=>e.reset()));class Vl{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bl(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function zl(e){Co.setTimeout((()=>{throw e}),0)}let ql,Wl=!1,Hl=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ul.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Kl=()=>{const e=Co.Promise.resolve(void 0);ql=()=>{e.then(Gl)}};var Gl=()=>{for(var e;e=Fl();){try{e.h.call(e.g)}catch(n){zl(n)}var t=Ul;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Wl=!1};function Ql(e,t){Ol.call(this),this.h=e||1,this.g=t||Co,this.j=Lo(this.qb,this),this.l=Date.now()}function Yl(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Jl(e,t,n){if("function"===typeof e)n&&(e=Lo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Lo(e.handleEvent,e)}return 2147483647<Number(t)?-1:Co.setTimeout(e,t||0)}function Xl(e){e.g=Jl((()=>{e.g=null,e.i&&(e.i=!1,Xl(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Fo(Ql,Ol),(xo=Ql.prototype).ga=!1,xo.T=null,xo.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jl(this,"tick"),this.ga&&(Yl(this),this.start()))}},xo.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},xo.N=function(){Ql.$.N.call(this),Yl(this),delete this.g};class $l extends Uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(Co.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zl(e){Uo.call(this),this.h=e,this.g={}}Fo(Zl,Uo);var ec=[];function tc(e,t,n,r){Array.isArray(n)||(n&&(ec[0]=n.toString()),n=ec);for(var i=0;i<n.length;i++){var s=Sl(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function nc(e){ml(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Nl(e)}),e),e.g={}}function rc(){this.g=!0}function ic(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Ml(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}Zl.prototype.N=function(){Zl.$.N.call(this),nc(this)},Zl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rc.prototype.Ea=function(){this.g=!1},rc.prototype.info=function(){};var sc={},ac=null;function oc(){return ac=ac||new Ol}function lc(e){qo.call(this,sc.Ta,e)}function cc(e){const t=oc();jl(t,new lc(t))}function uc(e,t){qo.call(this,sc.STAT_EVENT,e),this.stat=t}function hc(e){const t=oc();jl(t,new uc(t,e))}function dc(e,t){qo.call(this,sc.Ua,e),this.size=t}function fc(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Co.setTimeout((function(){e()}),t)}sc.Ta="serverreachability",Fo(lc,qo),sc.STAT_EVENT="statevent",Fo(uc,qo),sc.Ua="timingevent",Fo(dc,qo);var pc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gc(){}function vc(e){return e.h||(e.h=e.i())}function yc(){}gc.prototype.h=null;var wc,bc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _c(){qo.call(this,"d")}function Ec(){qo.call(this,"c")}function Ic(){}function Sc(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Zl(this),this.P=Tc,e=el?125:void 0,this.V=new Ql(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xc}function xc(){this.i=null,this.g="",this.h=!1}Fo(_c,qo),Fo(Ec,qo),Fo(Ic,gc),Ic.prototype.g=function(){return new XMLHttpRequest},Ic.prototype.i=function(){return{}},wc=new Ic;var Tc=45e3,kc={},Nc={};function Cc(e,t,n){e.L=1,e.A=Qc(qc(t)),e.u=n,e.S=!0,Ac(e,null)}function Ac(e,t){e.G=Date.now(),Oc(e),e.B=qc(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),ou(n.i,"t",r),e.o=0,n=e.l.J,e.h=new xc,e.g=lh(e.l,n?t:null,!e.u),0<e.O&&(e.M=new $l(Lo(e.Pa,e,e.g),e.O)),tc(e.U,e.g,"readystatechange",e.nb),t=e.I?gl(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),cc(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Rc(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Dc(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Pc(e,n),r==Nc){4==t&&(e.s=4,hc(14),i=!1),ic(e.j,e.m,null,"[Incomplete Response]");break}if(r==kc){e.s=4,hc(15),ic(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ic(e.j,e.m,r,null),Uc(e,r)}Rc(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,hc(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),eh(t),t.M=!0,hc(11))):(ic(e.j,e.m,n,"[Invalid Chunked Response]"),Fc(e),Mc(e))}function Pc(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Nc:(n=Number(t.substring(n,r)),isNaN(n)?kc:(r+=1)+n>t.length?Nc:(t=t.slice(r,r+n),e.o=r+n,t))}function Oc(e){e.Y=Date.now()+e.P,jc(e,e.P)}function jc(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=fc(Lo(e.lb,e),t)}function Lc(e){e.C&&(Co.clearTimeout(e.C),e.C=null)}function Mc(e){0==e.l.H||e.J||rh(e.l,e)}function Fc(e){Lc(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Yl(e.V),nc(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Uc(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||pu(n.i,e)))if(!e.K&&pu(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;nh(n),Ku(n)}Zu(n),hc(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=fc(Lo(n.ib,n),6e3));if(1>=fu(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else sh(n,11)}else if((e.K||n.g==e)&&nh(n),!Ho(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(mu(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Gc(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=oh(r,r.J?r.pa:null,r.Y),a.K){gu(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.C&&(Lc(o),Oc(o)),r.g=a}else $u(r);0<n.j.length&&Qu(n)}else"stop"!=c[0]&&"close"!=c[0]||sh(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?sh(n,7):Hu(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}cc()}catch(c){}}function Vc(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ao(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Ao(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Ao(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(xo=Sc.prototype).setTimeout=function(e){this.P=e},xo.nb=function(e){e=e.target;const t=this.M;t&&3==Uu(e)?t.l():this.Pa(e)},xo.Pa=function(e){try{if(e==this.g)e:{const u=Uu(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||el||this.g&&(this.h.h||this.g.ja()||Vu(this.g)))){this.J||4!=u||7==t||cc(),Lc(this);var n=this.g.da();this.ca=n;t:if(Rc(this)){var r=Vu(this.g);e="";var i=r.length,s=4==Uu(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Fc(this),Mc(this);var a="";break t}this.h.i=new Co.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ho(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,hc(12),Fc(this),Mc(this);break e}ic(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uc(this,n)}this.S?(Dc(this,u,a),el&&this.i&&3==u&&(tc(this.U,this.V,"tick",this.mb),this.V.start())):(ic(this.j,this.m,a,null),Uc(this,a)),4==u&&Fc(this),this.i&&!this.J&&(4==u?rh(this.l,this):(this.i=!1,Oc(this)))}else(function(e){const t={};e=(e.g&&2<=Uu(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ho(e[r]))continue;var n=Bl(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,hc(12)):(this.s=0,hc(13)),Fc(this),Mc(this)}}}catch(u){}},xo.mb=function(){if(this.g){var e=Uu(this.g),t=this.g.ja();this.o<t.length&&(Lc(this),Dc(this,e,t),this.i&&4!=e&&Oc(this))}},xo.cancel=function(){this.J=!0,Fc(this)},xo.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(cc(),hc(17)),Fc(this),this.s=2,Mc(this)):jc(this,this.Y-e)};var Bc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zc(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof zc){this.h=e.h,Wc(this,e.j),this.s=e.s,this.g=e.g,Hc(this,e.m),this.l=e.l;var t=e.i,n=new ru;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Kc(this,n),this.o=e.o}else e&&(t=String(e).match(Bc))?(this.h=!1,Wc(this,t[1]||"",!0),this.s=Yc(t[2]||""),this.g=Yc(t[3]||"",!0),Hc(this,t[4]),this.l=Yc(t[5]||"",!0),Kc(this,t[6]||"",!0),this.o=Yc(t[7]||"")):(this.h=!1,this.i=new ru(null,this.h))}function qc(e){return new zc(e)}function Wc(e,t,n){e.j=n?Yc(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Hc(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Kc(e,t,n){t instanceof ru?(e.i=t,function(e,t){t&&!e.j&&(iu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(su(this,t),ou(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Jc(t,tu)),e.i=new ru(t,e.h))}function Gc(e,t,n){e.i.set(t,n)}function Qc(e){return Gc(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yc(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jc(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Xc),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Xc(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zc.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jc(t,$c,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jc(t,$c,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jc(n,"/"==n.charAt(0)?eu:Zc,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jc(n,nu)),e.join("")};var $c=/[#\/\?@]/g,Zc=/[#\?:]/g,eu=/[#\?]/g,tu=/[#\?@]/g,nu=/#/g;function ru(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function iu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function su(e,t){iu(e),t=lu(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function au(e,t){return iu(e),t=lu(e,t),e.g.has(t)}function ou(e,t,n){su(e,t),0<n.length&&(e.i=null,e.g.set(lu(e,t),Bo(n)),e.h+=n.length)}function lu(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(xo=ru.prototype).add=function(e,t){iu(this),this.i=null,e=lu(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},xo.forEach=function(e,t){iu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},xo.ta=function(){iu(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},xo.Z=function(e){iu(this);let t=[];if("string"===typeof e)au(this,e)&&(t=t.concat(this.g.get(lu(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},xo.set=function(e,t){return iu(this),this.i=null,au(this,e=lu(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},xo.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},xo.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var cu=class{constructor(e,t){this.g=e,this.map=t}};function uu(e){this.l=e||hu,Co.PerformanceNavigationTiming?e=0<(e=Co.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Co.g&&Co.g.Ka&&Co.g.Ka()&&Co.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hu=10;function du(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fu(e){return e.h?1:e.g?e.g.size:0}function pu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mu(e,t){e.g?e.g.add(t):e.h=t}function gu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vu(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Bo(e.i)}uu.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var yu,wu=class{stringify(e){return Co.JSON.stringify(e,void 0)}parse(e){return Co.JSON.parse(e,void 0)}};function bu(){this.g=new wu}function _u(e,t,n){const r=n||"";try{Vc(e,(function(e,n){let i=e;Ro(e)&&(i=Ml(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Eu(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Iu(e){this.l=e.ec||null,this.j=e.ob||!1}function Su(e,t){Ol.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=xu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fo(Iu,gc),Iu.prototype.g=function(){return new Su(this.l,this.j)},Iu.prototype.i=(yu={},function(){return yu}),Fo(Su,Ol);var xu=0;function Tu(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function ku(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Nu(e)}function Nu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(xo=Su.prototype).open=function(e,t){if(this.readyState!=xu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Nu(this)},xo.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Co).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},xo.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ku(this)),this.readyState=xu},xo.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nu(this)),this.g&&(this.readyState=3,Nu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Co.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Tu(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},xo.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ku(this):Nu(this),3==this.readyState&&Tu(this)}},xo.Za=function(e){this.g&&(this.response=this.responseText=e,ku(this))},xo.Ya=function(e){this.g&&(this.response=e,ku(this))},xo.ka=function(){this.g&&ku(this)},xo.setRequestHeader=function(e,t){this.v.append(e,t)},xo.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},xo.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Su.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Cu=Co.JSON.parse;function Au(e){Ol.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Ru,this.L=this.M=!1}Fo(Au,Ol);var Ru="",Du=/^https?$/i,Pu=["POST","PUT"];function Ou(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ju(e),Mu(e)}function ju(e){e.F||(e.F=!0,jl(e,"complete"),jl(e,"error"))}function Lu(e){if(e.h&&"undefined"!=typeof No&&(!e.C[1]||4!=Uu(e)||2!=e.da()))if(e.v&&4==Uu(e))Jl(e.La,0,e);else if(jl(e,"readystatechange"),4==Uu(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Bc)[1]||null;!i&&Co.self&&Co.self.location&&(i=Co.self.location.protocol.slice(0,-1)),r=!Du.test(i?i.toLowerCase():"")}n=r}if(n)jl(e,"complete"),jl(e,"success");else{e.m=6;try{var s=2<Uu(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",ju(e)}}finally{Mu(e)}}}function Mu(e,t){if(e.g){Fu(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||jl(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Fu(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Co.clearTimeout(e.A),e.A=null)}function Uu(e){return e.g?e.g.readyState:0}function Vu(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Ru:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Gh){return null}}function Bu(e){let t="";return ml(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function zu(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Bu(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Gc(e,t,n))}function qu(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wu(e){this.Ga=0,this.j=[],this.l=new rc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qu("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qu("baseRetryDelayMs",5e3,e),this.hb=qu("retryDelaySeedMs",1e4,e),this.eb=qu("forwardChannelMaxRetries",2,e),this.xa=qu("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new uu(e&&e.concurrentRequestLimit),this.Ja=new bu,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hu(e){if(Gu(e),3==e.H){var t=e.W++,n=qc(e.I);if(Gc(n,"SID",e.K),Gc(n,"RID",t),Gc(n,"TYPE","terminate"),Ju(e,n),(t=new Sc(e,e.l,t)).L=2,t.A=Qc(qc(n)),n=!1,Co.navigator&&Co.navigator.sendBeacon)try{n=Co.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Co.Image&&((new Image).src=t.A,n=!0),n||(t.g=lh(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Oc(t)}ah(e)}function Ku(e){e.g&&(eh(e),e.g.cancel(),e.g=null)}function Gu(e){Ku(e),e.u&&(Co.clearTimeout(e.u),e.u=null),nh(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Co.clearTimeout(e.m),e.m=null)}function Qu(e){if(!du(e.i)&&!e.m){e.m=!0;var t=e.Na;ql||Kl(),Wl||(ql(),Wl=!0),Hl.add(t,e),e.C=0}}function Yu(e,t){var n;n=t?t.m:e.W++;const r=qc(e.I);Gc(r,"SID",e.K),Gc(r,"RID",n),Gc(r,"AID",e.V),Ju(e,r),e.o&&e.s&&zu(r,e.o,e.s),n=new Sc(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Xu(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),mu(e.i,n),Cc(n,r,t)}function Ju(e,t){e.na&&ml(e.na,(function(e,n){Gc(t,n,e)})),e.h&&Vc({},(function(e,n){Gc(t,n,e)}))}function Xu(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Lo(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{_u(o,e,"req"+n+"_")}catch(hf){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function $u(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ql||Kl(),Wl||(ql(),Wl=!0),Hl.add(t,e),e.A=0}}function Zu(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=fc(Lo(e.Ma,e),ih(e,e.A)),e.A++,!0)}function eh(e){null!=e.B&&(Co.clearTimeout(e.B),e.B=null)}function th(e){e.g=new Sc(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=qc(e.wa);Gc(t,"RID","rpc"),Gc(t,"SID",e.K),Gc(t,"AID",e.V),Gc(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Gc(t,"TO",e.qa),Gc(t,"TYPE","xmlhttp"),Ju(e,t),e.o&&e.s&&zu(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Qc(qc(t)),n.u=null,n.S=!0,Ac(n,e)}function nh(e){null!=e.v&&(Co.clearTimeout(e.v),e.v=null)}function rh(e,t){var n=null;if(e.g==t){nh(e),eh(e),e.g=null;var r=2}else{if(!pu(e.i,t))return;n=t.F,gu(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;jl(r=oc(),new dc(r,n)),Qu(e)}else $u(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(fu(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=fc(Lo(e.Na,e,t),ih(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zu(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:sh(e,5);break;case 4:sh(e,10);break;case 3:sh(e,6);break;default:sh(e,2)}}function ih(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function sh(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Lo(e.pb,e);n||(n=new zc("//www.google.com/images/cleardot.gif"),Co.location&&"http"==Co.location.protocol||Wc(n,"https"),Qc(n)),function(e,t){const n=new rc;if(Co.Image){const r=new Image;r.onload=Mo(Eu,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Mo(Eu,n,r,"TestLoadImage: error",!1,t),r.onabort=Mo(Eu,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Mo(Eu,n,r,"TestLoadImage: timeout",!1,t),Co.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hc(2);e.H=0,e.h&&e.h.za(t),ah(e),Gu(e)}function ah(e){if(e.H=0,e.ma=[],e.h){const t=vu(e.i);0==t.length&&0==e.j.length||(zo(e.ma,t),zo(e.ma,e.j),e.i.i.length=0,Bo(e.j),e.j.length=0),e.h.ya()}}function oh(e,t,n){var r=n instanceof zc?qc(n):new zc(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Hc(r,r.m);else{var i=Co.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new zc(null);r&&Wc(s,r),t&&(s.g=t),i&&Hc(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Gc(r,n,t),Gc(r,"VER",e.ra),Ju(e,r),r}function lh(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Au(new Iu({ob:n})):new Au(e.va)).Oa(e.J),t}function ch(){}function uh(){if($o&&!(10<=Number(ll)))throw Error("Environmental error: no available transport.")}function hh(e,t){Ol.call(this),this.g=new Wu(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ho(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ho(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ph(this)}function dh(e){_c.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fh(){Ec.call(this),this.status=1}function ph(e){this.g=e}function mh(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gh(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function vh(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(xo=Au.prototype).Oa=function(e){this.M=e},xo.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wc.g(),this.C=this.u?vc(this.u):vc(wc),this.g.onreadystatechange=Lo(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Ou(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Co.FormData&&e instanceof Co.FormData,!(0<=Vo(Pu,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Fu(this),0<this.B&&((this.L=function(e){return $o&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lo(this.ua,this)):this.A=Jl(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ou(this,s)}},xo.ua=function(){"undefined"!=typeof No&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jl(this,"timeout"),this.abort(8))},xo.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,jl(this,"complete"),jl(this,"abort"),Mu(this))},xo.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mu(this,!0)),Au.$.N.call(this)},xo.La=function(){this.s||(this.G||this.v||this.l?Lu(this):this.kb())},xo.kb=function(){Lu(this)},xo.isActive=function(){return!!this.g},xo.da=function(){try{return 2<Uu(this)?this.g.status:-1}catch(yu){return-1}},xo.ja=function(){try{return this.g?this.g.responseText:""}catch(yu){return""}},xo.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Cu(t)}},xo.Ia=function(){return this.m},xo.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(xo=Wu.prototype).ra=8,xo.H=1,xo.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Sc(this,this.l,e);let s=this.s;if(this.U&&(s?(s=gl(s),yl(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Xu(this,i,t),Gc(n=qc(this.I),"RID",e),Gc(n,"CVER",22),this.F&&Gc(n,"X-HTTP-Session-Id",this.F),Ju(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Bu(s)))+"&"+t:this.o&&zu(n,this.o,s)),mu(this.i,i),this.bb&&Gc(n,"TYPE","init"),this.P?(Gc(n,"$req",t),Gc(n,"SID","null"),i.aa=!0,Cc(i,n,null)):Cc(i,n,t),this.H=2}}else 3==this.H&&(e?Yu(this,e):0==this.j.length||du(this.i)||Yu(this))},xo.Ma=function(){if(this.u=null,th(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=fc(Lo(this.jb,this),e)}},xo.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hc(10),Ku(this),th(this))},xo.ib=function(){null!=this.v&&(this.v=null,Ku(this),Zu(this),hc(19))},xo.pb=function(e){e?(this.l.info("Successfully pinged google.com"),hc(2)):(this.l.info("Failed to ping google.com"),hc(1))},xo.isActive=function(){return!!this.h&&this.h.isActive(this)},(xo=ch.prototype).Ba=function(){},xo.Aa=function(){},xo.za=function(){},xo.ya=function(){},xo.isActive=function(){return!0},xo.Va=function(){},uh.prototype.g=function(e,t){return new hh(e,t)},Fo(hh,Ol),hh.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;hc(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=oh(e,null,e.Y),Qu(e)},hh.prototype.close=function(){Hu(this.g)},hh.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ml(e),e=n);t.j.push(new cu(t.fb++,e)),3==t.H&&Qu(t)},hh.prototype.N=function(){this.g.h=null,delete this.j,Hu(this.g),delete this.g,hh.$.N.call(this)},Fo(dh,_c),Fo(fh,Ec),Fo(ph,ch),ph.prototype.Ba=function(){jl(this.g,"a")},ph.prototype.Aa=function(e){jl(this.g,new dh(e))},ph.prototype.za=function(e){jl(this.g,new fh)},ph.prototype.ya=function(){jl(this.g,"b")},Fo(mh,(function(){this.blockSize=-1})),mh.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mh.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)gh(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){gh(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){gh(this,r),i=0;break}}this.h=i,this.i+=t},mh.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var yh={};function wh(e){return-128<=e&&128>e?function(e,t){var n=yh;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new vh([0|e],0>e?-1:0)})):new vh([0|e],0>e?-1:0)}function bh(e){if(isNaN(e)||!isFinite(e))return Eh;if(0>e)return kh(bh(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_h;return new vh(t,0)}var _h=4294967296,Eh=wh(0),Ih=wh(1),Sh=wh(16777216);function xh(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Th(e){return-1==e.h}function kh(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new vh(n,~e.h).add(Ih)}function Nh(e,t){return e.add(kh(t))}function Ch(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Ah(e,t){this.g=e,this.h=t}function Rh(e,t){if(xh(t))throw Error("division by zero");if(xh(e))return new Ah(Eh,Eh);if(Th(e))return t=Rh(kh(e),t),new Ah(kh(t.g),kh(t.h));if(Th(t))return t=Rh(e,kh(t)),new Ah(kh(t.g),t.h);if(30<e.g.length){if(Th(e)||Th(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Ih,r=t;0>=r.X(e);)n=Dh(n),r=Dh(r);var i=Ph(n,1),s=Ph(r,1);for(r=Ph(r,2),n=Ph(n,2);!xh(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=Ph(r,1),n=Ph(n,1)}return t=Nh(e,i.R(t)),new Ah(i,t)}for(i=Eh;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=bh(n)).R(t);Th(a)||0<a.X(e);)a=(s=bh(n-=r)).R(t);xh(s)&&(s=Ih),i=i.add(s),e=Nh(e,a)}return new Ah(i,e)}function Dh(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new vh(n,e.h)}function Ph(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new vh(i,e.h)}(xo=vh.prototype).ea=function(){if(Th(this))return-kh(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_h+r)*t,t*=_h}return e},xo.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(xh(this))return"0";if(Th(this))return"-"+kh(this).toString(e);for(var t=bh(Math.pow(e,6)),n=this,r="";;){var i=Rh(n,t).g,s=((0<(n=Nh(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(xh(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},xo.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},xo.X=function(e){return Th(e=Nh(this,e))?-1:xh(e)?0:1},xo.abs=function(){return Th(this)?kh(this):this},xo.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new vh(n,-2147483648&n[n.length-1]?-1:0)},xo.R=function(e){if(xh(this)||xh(e))return Eh;if(Th(this))return Th(e)?kh(this).R(kh(e)):kh(kh(this).R(e));if(Th(e))return kh(this.R(kh(e)));if(0>this.X(Sh)&&0>e.X(Sh))return bh(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,Ch(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ch(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,Ch(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,Ch(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new vh(n,0)},xo.gb=function(e){return Rh(this,e).h},xo.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new vh(n,this.h&e.h)},xo.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new vh(n,this.h|e.h)},xo.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new vh(n,this.h^e.h)},uh.prototype.createWebChannel=uh.prototype.g,hh.prototype.send=hh.prototype.u,hh.prototype.open=hh.prototype.m,hh.prototype.close=hh.prototype.close,pc.NO_ERROR=0,pc.TIMEOUT=8,pc.HTTP_ERROR=6,mc.COMPLETE="complete",yc.EventType=bc,bc.OPEN="a",bc.CLOSE="b",bc.ERROR="c",bc.MESSAGE="d",Ol.prototype.listen=Ol.prototype.O,Au.prototype.listenOnce=Au.prototype.P,Au.prototype.getLastError=Au.prototype.Sa,Au.prototype.getLastErrorCode=Au.prototype.Ia,Au.prototype.getStatus=Au.prototype.da,Au.prototype.getResponseJson=Au.prototype.Wa,Au.prototype.getResponseText=Au.prototype.ja,Au.prototype.send=Au.prototype.ha,Au.prototype.setWithCredentials=Au.prototype.Oa,mh.prototype.digest=mh.prototype.l,mh.prototype.reset=mh.prototype.reset,mh.prototype.update=mh.prototype.j,vh.prototype.add=vh.prototype.add,vh.prototype.multiply=vh.prototype.R,vh.prototype.modulo=vh.prototype.gb,vh.prototype.compare=vh.prototype.X,vh.prototype.toNumber=vh.prototype.ea,vh.prototype.toString=vh.prototype.toString,vh.prototype.getBits=vh.prototype.D,vh.fromNumber=bh,vh.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return kh(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=bh(Math.pow(n,8)),i=Eh,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=bh(Math.pow(n,a)),i=i.R(a).add(bh(o))):i=(i=i.R(r)).add(bh(o))}return i};var Oh=ko.createWebChannelTransport=function(){return new uh},jh=ko.getStatEventTarget=function(){return oc()},Lh=ko.ErrorCode=pc,Mh=ko.EventType=mc,Fh=ko.Event=sc,Uh=ko.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Vh=(ko.FetchXmlHttpFactory=Iu,ko.WebChannel=yc),Bh=ko.XhrIo=Au,zh=ko.Md5=mh,qh=ko.Integer=vh;const Wh="@firebase/firestore";class Hh{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hh.UNAUTHENTICATED=new Hh(null),Hh.GOOGLE_CREDENTIALS=new Hh("google-credentials-uid"),Hh.FIRST_PARTY=new Hh("first-party-uid"),Hh.MOCK_USER=new Hh("mock-user");let Kh="10.7.0";const Gh=new gt("@firebase/firestore");function Qh(){return Gh.logLevel}function Yh(e){if(Gh.logLevel<=ht.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($h);Gh.debug("Firestore (".concat(Kh,"): ").concat(e),...i)}}function Jh(e){if(Gh.logLevel<=ht.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($h);Gh.error("Firestore (".concat(Kh,"): ").concat(e),...i)}}function Xh(e){if(Gh.logLevel<=ht.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map($h);Gh.warn("Firestore (".concat(Kh,"): ").concat(e),...i)}}function $h(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Zh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Kh,") INTERNAL ASSERTION FAILED: ")+e;throw Jh(t),new Error(t)}function ed(e,t){e||Zh()}function td(e,t){return e}const nd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rd extends Ge{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class id{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sd{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class ad{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Hh.UNAUTHENTICATED)))}shutdown(){}}class od{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ld{constructor(e){this.t=e,this.currentUser=Hh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new id;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new id,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{Yh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Yh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new id)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Yh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ed("string"==typeof t.accessToken),new sd(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ed(null===e||"string"==typeof e),new Hh(e)}}class cd{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Hh.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ud{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new cd(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Hh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hd{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dd{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Yh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Yh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Yh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Yh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(ed("string"==typeof e.token),this.R=e.token,new hd(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class pd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=fd(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function md(e,t){return e<t?-1:e>t?1:0}function gd(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function vd(e){return e+"\0"}class yd{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rd(nd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rd(nd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rd(nd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rd(nd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yd.fromMillis(Date.now())}static fromDate(e){return yd.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new yd(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?md(this.nanoseconds,e.nanoseconds):md(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wd{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wd(e)}static min(){return new wd(new yd(0,0))}static max(){return new wd(new yd(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bd{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zh(),void 0===n?n=e.length-t:n>e.length-t&&Zh(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bd?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _d extends bd{construct(e,t,n){return new _d(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new rd(nd.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new _d(e)}static emptyPath(){return new _d([])}}const Ed=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Id extends bd{construct(e,t,n){return new Id(e,t,n)}static isValidIdentifier(e){return Ed.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Id.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Id(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rd(nd.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rd(nd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rd(nd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new rd(nd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Id(t)}static emptyPath(){return new Id([])}}class Sd{constructor(e){this.path=e}static fromPath(e){return new Sd(_d.fromString(e))}static fromName(e){return new Sd(_d.fromString(e).popFirst(5))}static empty(){return new Sd(_d.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_d.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _d.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Sd(new _d(e.slice()))}}class xd{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Td(e){return e.fields.find((e=>2===e.kind))}function kd(e){return e.fields.filter((e=>2!==e.kind))}xd.UNKNOWN_ID=-1;class Nd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cd{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cd(0,Dd.min())}}function Ad(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wd.fromTimestamp(1e9===r?new yd(n+1,0):new yd(n,r));return new Dd(i,Sd.empty(),t)}function Rd(e){return new Dd(e.readTime,e.key,-1)}class Dd{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Dd(wd.min(),Sd.empty(),-1)}static max(){return new Dd(wd.max(),Sd.empty(),-1)}}function Pd(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Sd.comparator(e.documentKey,t.documentKey),0!==n?n:md(e.largestBatchId,t.largestBatchId))}const Od="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ld(e){if(e.code!==nd.FAILED_PRECONDITION||e.message!==Od)throw e;Yh("LocalStore","Unexpectedly lost primary lease")}class Md{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Md(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Md?t:Md.resolve(t)}catch(e){return Md.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Md.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Md.reject(t)}static resolve(e){return new Md(((t,n)=>{t(e)}))}static reject(e){return new Md(((t,n)=>{n(e)}))}static waitFor(e){return new Md(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Md.resolve(!1);for(const n of e)t=t.next((e=>e?Md.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Md(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Md(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Fd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new id,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Bd(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Kd(t.target.error);this.V.reject(new Bd(e,n))}}static open(e,t,n,r){try{return new Fd(t,e.transaction(r,n))}catch(e){throw new Bd(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Yh("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qd(t)}}class Ud{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Ud.S(Be())&&Jh("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Yh("SimpleDb","Removing database:",e),Wd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Ke())return!1;if(Ud.C())return!0;const e=Be(),t=Ud.S(e),n=0<t&&t<10,r=Ud.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Yh("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Bd(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new rd(nd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new rd(nd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Bd(e,r))},r.onupgradeneeded=e=>{Yh("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Yh("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.B&&(this.db.onversionchange=e=>this.B(e)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Fd.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Md.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Yh("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Vd{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Wd(this.k.delete())}}class Bd extends rd{constructor(e,t){super(nd.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function zd(e){return"IndexedDbTransactionError"===e.name}class qd{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Yh("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yh("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Wd(n)}add(e){return Yh("SimpleDb","ADD",this.store.name,e,e),Wd(this.store.add(e))}get(e){return Wd(this.store.get(e)).next((t=>(void 0===t&&(t=null),Yh("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Yh("SimpleDb","DELETE",this.store.name,e),Wd(this.store.delete(e))}count(){return Yh("SimpleDb","COUNT",this.store.name),Wd(this.store.count())}W(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Md(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Md(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Yh("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Md(((n,r)=>{t.onerror=e=>{const t=Kd(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Md(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Vd(i),a=t(i.primaryKey,i.value,s);if(a instanceof Md){const e=a.catch((e=>(s.done(),Md.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Md.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Wd(e){return new Md(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Kd(e.target.error);n(t)}}))}let Hd=!1;function Kd(e){const t=Ud.S(Be());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new rd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Hd||(Hd=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Gd{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Yh("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Yh("IndexBackiller","Documents written: ".concat(await this.X.te()))}catch(e){zd(e)?Yh("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Ld(e)}await this.ee(6e4)}))}}class Qd{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return Md.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Yh("IndexBackiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Yh("IndexBackiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Rd(t);Pd(r,n)>0&&(n=r)})),new Dd(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Yd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Jd(e){return null==e}function Xd(e){return 0===e&&1/e==-1/0}function $d(e){return"number"==typeof e&&Number.isInteger(e)&&!Xd(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function Zd(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tf(t)),t=ef(e.get(n),t);return tf(t)}function ef(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function tf(e){return e+"\x01\x01"}function nf(e){const t=e.length;if(ed(t>=2),2===t)return ed("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_d.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Zh(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let a;0===i.length?a=n:(i+=n,a=i,i=""),r.push(a);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Zh()}s=t+2}return new _d(r)}Yd._e=-1;const rf=["userId","batchId"];function sf(e,t){return[e,Zd(t)]}function af(e,t,n){return[e,Zd(t),n]}const of={},lf=["prefixPath","collectionGroup","readTime","documentId"],cf=["prefixPath","collectionGroup","documentId"],uf=["collectionGroup","readTime","prefixPath","documentId"],hf=["canonicalId","targetId"],df=["targetId","path"],ff=["path","targetId"],pf=["collectionId","parent"],mf=["indexId","uid"],gf=["uid","sequenceNumber"],vf=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],yf=["indexId","uid","orderedDocumentKey"],wf=["userId","collectionPath","documentId"],bf=["userId","collectionPath","largestBatchId"],_f=["userId","collectionGroup","largestBatchId"],Ef=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],If=[...Ef,"documentOverlays"],Sf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xf=Sf,Tf=[...xf,"indexConfiguration","indexState","indexEntries"];class kf extends jd{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function Nf(e,t){const n=td(e);return Ud.M(n.ae,t)}function Cf(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Af(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Df{constructor(e,t){this.comparator=e,this.root=t||Of.EMPTY}insert(e,t){return new Df(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Of.BLACK,null,null))}remove(e){return new Df(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Of.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pf(this.root,e,this.comparator,!0)}}class Pf{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Of{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Of.RED,this.left=null!=r?r:Of.EMPTY,this.right=null!=i?i:Of.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Of(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Of.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Of.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Of.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Of.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zh();if(this.right.isRed())throw Zh();const e=this.left.check();if(e!==this.right.check())throw Zh();return e+(this.isRed()?0:1)}}Of.EMPTY=null,Of.RED=!0,Of.BLACK=!1,Of.EMPTY=new class{constructor(){this.size=0}get key(){throw Zh()}get value(){throw Zh()}get color(){throw Zh()}get left(){throw Zh()}get right(){throw Zh()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Of(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jf{constructor(e){this.comparator=e,this.data=new Df(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Lf(this.data.getIterator())}getIteratorFrom(e){return new Lf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof jf))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new jf(this.comparator);return t.data=e,t}}class Lf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Mf(e){return e.hasNext()?e.getNext():void 0}class Ff{constructor(e){this.fields=e,e.sort(Id.comparator)}static empty(){return new Ff([])}unionWith(e){let t=new jf(Id.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Ff(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gd(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Uf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vf{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Uf("Invalid base64 string: "+e):e}}(e);return new Vf(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Vf(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return md(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vf.EMPTY_BYTE_STRING=new Vf("");const Bf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zf(e){if(ed(!!e),"string"==typeof e){let t=0;const n=Bf.exec(e);if(ed(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qf(e.seconds),nanos:qf(e.nanos)}}function qf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Wf(e){return"string"==typeof e?Vf.fromBase64String(e):Vf.fromUint8Array(e)}function Hf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Kf(e){const t=e.mapValue.fields.__previous_value__;return Hf(t)?Kf(t):t}function Gf(e){const t=zf(e.mapValue.fields.__local_write_time__.timestampValue);return new yd(t.seconds,t.nanos)}class Qf{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Yf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yf&&e.projectId===this.projectId&&e.database===this.database}}const Jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Xf={nullValue:"NULL_VALUE"};function $f(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Hf(e)?4:dp(e)?9007199254740991:10:Zh()}function Zf(e,t){if(e===t)return!0;const n=$f(e);if(n!==$f(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gf(e).isEqual(Gf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=zf(e.timestampValue),r=zf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Wf(e.bytesValue).isEqual(Wf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qf(e.geoPointValue.latitude)===qf(t.geoPointValue.latitude)&&qf(e.geoPointValue.longitude)===qf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qf(e.integerValue)===qf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qf(e.doubleValue),r=qf(t.doubleValue);return n===r?Xd(n)===Xd(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gd(e.arrayValue.values||[],t.arrayValue.values||[],Zf);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Cf(n)!==Cf(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zf(n[i],r[i])))return!1;return!0}(e,t);default:return Zh()}}function ep(e,t){return void 0!==(e.values||[]).find((e=>Zf(e,t)))}function tp(e,t){if(e===t)return 0;const n=$f(e),r=$f(t);if(n!==r)return md(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return md(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qf(e.integerValue||e.doubleValue),r=qf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return np(e.timestampValue,t.timestampValue);case 4:return np(Gf(e),Gf(t));case 5:return md(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Wf(e),r=Wf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=md(n[i],r[i]);if(0!==e)return e}return md(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=md(qf(e.latitude),qf(t.latitude));return 0!==n?n:md(qf(e.longitude),qf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=tp(n[i],r[i]);if(e)return e}return md(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Jf.mapValue&&t===Jf.mapValue)return 0;if(e===Jf.mapValue)return 1;if(t===Jf.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=md(r[a],s[a]);if(0!==e)return e;const t=tp(n[r[a]],i[s[a]]);if(0!==t)return t}return md(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Zh()}}function np(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return md(e,t);const n=zf(e),r=zf(t),i=md(n.seconds,r.seconds);return 0!==i?i:md(n.nanos,r.nanos)}function rp(e){return ip(e)}function ip(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=zf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Wf(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Sd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ip(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ip(e.fields[i]));return n+"}"}(e.mapValue):Zh()}function sp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ap(e){return!!e&&"integerValue"in e}function op(e){return!!e&&"arrayValue"in e}function lp(e){return!!e&&"nullValue"in e}function cp(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function up(e){return!!e&&"mapValue"in e}function hp(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Af(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=hp(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=hp(e.arrayValue.values[n]);return t}return Object.assign({},e)}function dp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function fp(e){return"nullValue"in e?Xf:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?sp(Yf.empty(),Sd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Zh()}function pp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?sp(Yf.empty(),Sd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Jf:Zh()}function mp(e,t){const n=tp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function gp(e,t){const n=tp(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class vp{constructor(e){this.value=e}static empty(){return new vp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!up(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hp(t)}setAll(e){let t=Id.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=hp(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());up(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Zf(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];up(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Af(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new vp(hp(this.value))}}function yp(e){const t=[];return Af(e.fields,((e,n)=>{const r=new Id([e]);if(up(n)){const e=yp(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Ff(t)}class wp{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new wp(e,0,wd.min(),wd.min(),wd.min(),vp.empty(),0)}static newFoundDocument(e,t,n,r){return new wp(e,1,t,wd.min(),n,r,0)}static newNoDocument(e,t){return new wp(e,2,t,wd.min(),wd.min(),vp.empty(),0)}static newUnknownDocument(e,t){return new wp(e,3,t,wd.min(),wd.min(),vp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wd.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wp&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wp(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class bp{constructor(e,t){this.position=e,this.inclusive=t}}function _p(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Sd.comparator(Sd.fromName(a.referenceValue),n.key):tp(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ep(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Zf(e.position[n],t.position[n]))return!1;return!0}class Ip{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Sp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class xp{}class Tp extends xp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Lp(e,t,n):"array-contains"===t?new Vp(e,n):"in"===t?new Bp(e,n):"not-in"===t?new zp(e,n):"array-contains-any"===t?new qp(e,n):new Tp(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Mp(e,n):new Fp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(tp(t,this.value)):null!==t&&$f(this.value)===$f(t)&&this.matchesComparison(tp(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kp extends xp{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new kp(e,t)}matches(e){return Np(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Np(e){return"and"===e.op}function Cp(e){return"or"===e.op}function Ap(e){return Rp(e)&&Np(e)}function Rp(e){for(const t of e.filters)if(t instanceof kp)return!1;return!0}function Dp(e){if(e instanceof Tp)return e.field.canonicalString()+e.op.toString()+rp(e.value);if(Ap(e))return e.filters.map((e=>Dp(e))).join(",");{const t=e.filters.map((e=>Dp(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Pp(e,t){return e instanceof Tp?function(e,t){return t instanceof Tp&&e.op===t.op&&e.field.isEqual(t.field)&&Zf(e.value,t.value)}(e,t):e instanceof kp?function(e,t){return t instanceof kp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Pp(n,t.filters[r])),!0)}(e,t):void Zh()}function Op(e,t){const n=e.filters.concat(t);return kp.create(n,e.op)}function jp(e){return e instanceof Tp?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(rp(e.value))}(e):e instanceof kp?function(e){return e.op.toString()+" {"+e.getFilters().map(jp).join(" ,")+"}"}(e):"Filter"}class Lp extends Tp{constructor(e,t,n){super(e,t,n),this.key=Sd.fromName(n.referenceValue)}matches(e){const t=Sd.comparator(e.key,this.key);return this.matchesComparison(t)}}class Mp extends Tp{constructor(e,t){super(e,"in",t),this.keys=Up("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Fp extends Tp{constructor(e,t){super(e,"not-in",t),this.keys=Up("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Up(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Sd.fromName(e.referenceValue)))}class Vp extends Tp{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return op(t)&&ep(t.arrayValue,this.value)}}class Bp extends Tp{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ep(this.value.arrayValue,t)}}class zp extends Tp{constructor(e,t){super(e,"not-in",t)}matches(e){if(ep(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ep(this.value.arrayValue,t)}}class qp extends Tp{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!op(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ep(this.value.arrayValue,e)))}}class Wp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function Hp(e){return new Wp(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Kp(e){const t=td(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Dp(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Jd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>rp(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>rp(e))).join(",")),t.ce=e}return t.ce}function Gp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Sp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Pp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ep(e.startAt,t.startAt)&&Ep(e.endAt,t.endAt)}function Qp(e){return Sd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Yp(e,t){return e.filters.filter((e=>e instanceof Tp&&e.field.isEqual(t)))}function Jp(e,t,n){let r=Xf,i=!0;for(const s of Yp(e,t)){let e=Xf,t=!0;switch(s.op){case"<":case"<=":e=fp(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Xf}mp({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];mp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Xp(e,t,n){let r=Jf,i=!0;for(const s of Yp(e,t)){let e=Jf,t=!0;switch(s.op){case">=":case">":e=pp(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Jf}gp({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];gp({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class $p{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function Zp(e,t,n,r,i,s,a,o){return new $p(e,t,n,r,i,s,a,o)}function em(e){return new $p(e)}function tm(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nm(e){return null!==e.collectionGroup}function rm(e){const t=td(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new jf(Id.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Ip(r,n))})),e.has(Id.keyField().canonicalString())||t.le.push(new Ip(Id.keyField(),n))}return t.le}function im(e){const t=td(e);return t.he||(t.he=sm(t,rm(e))),t.he}function sm(e,t){if("F"===e.limitType)return Hp(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Ip(e.field,t)}));const n=e.endAt?new bp(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new bp(e.startAt.position,e.startAt.inclusive):null;return Hp(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function am(e,t){const n=e.filters.concat([t]);return new $p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function om(e,t,n){return new $p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function lm(e,t){return Gp(im(e),im(t))&&e.limitType===t.limitType}function cm(e){return"".concat(Kp(im(e)),"|lt:").concat(e.limitType)}function um(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>jp(e))).join(", "),"]")),Jd(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>rp(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>rp(e))).join(",")),"Target(".concat(t,")")}(im(e)),"; limitType=").concat(e.limitType,")")}function hm(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of rm(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=_p(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,rm(e),t))&&!(e.endAt&&!function(e,t,n){const r=_p(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,rm(e),t))}(e,t)}function dm(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function fm(e){return(t,n)=>{let r=!1;for(const i of rm(e)){const e=pm(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function pm(e,t,n){const r=e.field.isKeyField()?Sd.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?tp(r,i):Zh()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zh()}}class mm{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Af(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Rf(this.inner)}size(){return this.innerSize}}const gm=new Df(Sd.comparator);function vm(){return gm}const ym=new Df(Sd.comparator);function wm(){let e=ym;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function bm(e){let t=ym;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function _m(){return Im()}function Em(){return Im()}function Im(){return new mm((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Sm=new Df(Sd.comparator),xm=new jf(Sd.comparator);function Tm(){let e=xm;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const km=new jf(md);function Nm(){return km}function Cm(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xd(t)?"-0":t}}function Am(e){return{integerValue:""+e}}function Rm(e,t){return $d(t)?Am(t):Cm(e,t)}class Dm{constructor(){this._=void 0}}function Pm(e,t,n){return e instanceof Lm?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Hf(t)&&(t=Kf(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Mm?Fm(e,t):e instanceof Um?Vm(e,t):function(e,t){const n=jm(e,t),r=zm(n)+zm(e.Ie);return ap(n)&&ap(e.Ie)?Am(r):Cm(e.serializer,r)}(e,t)}function Om(e,t,n){return e instanceof Mm?Fm(e,t):e instanceof Um?Vm(e,t):n}function jm(e,t){return e instanceof Bm?function(e){return ap(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Lm extends Dm{}class Mm extends Dm{constructor(e){super(),this.elements=e}}function Fm(e,t){const n=qm(t);for(const r of e.elements)n.some((e=>Zf(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Um extends Dm{constructor(e){super(),this.elements=e}}function Vm(e,t){let n=qm(t);for(const r of e.elements)n=n.filter((e=>!Zf(e,r)));return{arrayValue:{values:n}}}class Bm extends Dm{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function zm(e){return qf(e.integerValue||e.doubleValue)}function qm(e){return op(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Wm{constructor(e,t){this.field=e,this.transform=t}}class Hm{constructor(e,t){this.version=e,this.transformResults=t}}class Km{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Km}static exists(e){return new Km(void 0,e)}static updateTime(e){return new Km(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gm(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Qm{}function Ym(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new sg(e.key,Km.none()):new eg(e.key,e.data,Km.none());{const n=e.data,r=vp.empty();let i=new jf(Id.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new tg(e.key,r,new Ff(i.toArray()),Km.none())}}function Jm(e,t,n){e instanceof eg?function(e,t,n){const r=e.value.clone(),i=rg(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof tg?function(e,t,n){if(!Gm(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=rg(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ng(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xm(e,t,n,r){return e instanceof eg?function(e,t,n,r){if(!Gm(e.precondition,t))return n;const i=e.value.clone(),s=ig(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof tg?function(e,t,n,r){if(!Gm(e.precondition,t))return n;const i=ig(e.fieldTransforms,r,t),s=t.data;return s.setAll(ng(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Gm(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function $m(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=jm(r.transform,e||null);null!=i&&(null===n&&(n=vp.empty()),n.set(r.field,i))}return n||null}function Zm(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gd(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Mm&&t instanceof Mm||e instanceof Um&&t instanceof Um?gd(e.elements,t.elements,Zf):e instanceof Bm&&t instanceof Bm?Zf(e.Ie,t.Ie):e instanceof Lm&&t instanceof Lm}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class eg extends Qm{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class tg extends Qm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ng(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function rg(e,t,n){const r=new Map;ed(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Om(a,o,n[i]))}return r}function ig(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Pm(e,s,t))}return r}class sg extends Qm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ag extends Qm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class og{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Jm(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xm(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xm(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Em();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Ym(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(wd.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Tm())}isEqual(e){return this.batchId===e.batchId&&gd(this.mutations,e.mutations,((e,t)=>Zm(e,t)))&&gd(this.baseMutations,e.baseMutations,((e,t)=>Zm(e,t)))}}class lg{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ed(e.mutations.length===n.length);let r=Sm;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new lg(e,t,n,r)}}class cg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class ug{constructor(e,t){this.count=e,this.unchangedNames=t}}var hg,dg;function fg(e){switch(e){default:return Zh();case nd.CANCELLED:case nd.UNKNOWN:case nd.DEADLINE_EXCEEDED:case nd.RESOURCE_EXHAUSTED:case nd.INTERNAL:case nd.UNAVAILABLE:case nd.UNAUTHENTICATED:return!1;case nd.INVALID_ARGUMENT:case nd.NOT_FOUND:case nd.ALREADY_EXISTS:case nd.PERMISSION_DENIED:case nd.FAILED_PRECONDITION:case nd.ABORTED:case nd.OUT_OF_RANGE:case nd.UNIMPLEMENTED:case nd.DATA_LOSS:return!0}}function pg(e){if(void 0===e)return Jh("GRPC error has no .code"),nd.UNKNOWN;switch(e){case hg.OK:return nd.OK;case hg.CANCELLED:return nd.CANCELLED;case hg.UNKNOWN:return nd.UNKNOWN;case hg.DEADLINE_EXCEEDED:return nd.DEADLINE_EXCEEDED;case hg.RESOURCE_EXHAUSTED:return nd.RESOURCE_EXHAUSTED;case hg.INTERNAL:return nd.INTERNAL;case hg.UNAVAILABLE:return nd.UNAVAILABLE;case hg.UNAUTHENTICATED:return nd.UNAUTHENTICATED;case hg.INVALID_ARGUMENT:return nd.INVALID_ARGUMENT;case hg.NOT_FOUND:return nd.NOT_FOUND;case hg.ALREADY_EXISTS:return nd.ALREADY_EXISTS;case hg.PERMISSION_DENIED:return nd.PERMISSION_DENIED;case hg.FAILED_PRECONDITION:return nd.FAILED_PRECONDITION;case hg.ABORTED:return nd.ABORTED;case hg.OUT_OF_RANGE:return nd.OUT_OF_RANGE;case hg.UNIMPLEMENTED:return nd.UNIMPLEMENTED;case hg.DATA_LOSS:return nd.DATA_LOSS;default:return Zh()}}(dg=hg||(hg={}))[dg.OK=0]="OK",dg[dg.CANCELLED=1]="CANCELLED",dg[dg.UNKNOWN=2]="UNKNOWN",dg[dg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dg[dg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dg[dg.NOT_FOUND=5]="NOT_FOUND",dg[dg.ALREADY_EXISTS=6]="ALREADY_EXISTS",dg[dg.PERMISSION_DENIED=7]="PERMISSION_DENIED",dg[dg.UNAUTHENTICATED=16]="UNAUTHENTICATED",dg[dg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dg[dg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dg[dg.ABORTED=10]="ABORTED",dg[dg.OUT_OF_RANGE=11]="OUT_OF_RANGE",dg[dg.UNIMPLEMENTED=12]="UNIMPLEMENTED",dg[dg.INTERNAL=13]="INTERNAL",dg[dg.UNAVAILABLE=14]="UNAVAILABLE",dg[dg.DATA_LOSS=15]="DATA_LOSS";let mg=null;function gg(){return new TextEncoder}const vg=new qh([4294967295,4294967295],0);function yg(e){const t=gg().encode(e),n=new zh;return n.update(t),new Uint8Array(n.digest())}function wg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new qh([n,r],0),new qh([i,s],0)]}class bg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new _g("Invalid padding: ".concat(t));if(n<0)throw new _g("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new _g("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new _g("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=qh.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(qh.fromNumber(n)));return 1===r.compare(vg)&&(r=new qh([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=yg(e),[n,r]=wg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new bg(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=yg(e),[n,r]=wg(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class _g extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eg{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ig.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Eg(wd.min(),r,new Df(md),vm(),Tm())}}class Ig{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ig(n,t,Tm(),Tm(),Tm())}}class Sg{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class xg{constructor(e,t){this.targetId=e,this.fe=t}}class Tg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vf.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class kg{constructor(){this.ge=0,this.pe=Ag(),this.ye=Vf.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Tm(),t=Tm(),n=Tm();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zh()}})),new Ig(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Ag()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ed(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class Ng{constructor(e){this.Le=e,this.ke=new Map,this.qe=vm(),this.Qe=Cg(),this.Ke=new Df(md)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Be(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Zh()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Qp(i))if(0===n){const e=new Sd(i.path);this.We(t,e,wp.newNoDocument(e,wd.min()))}else ed(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==mg||mg.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Le.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Wf(n).toUint8Array()}catch(e){if(e instanceof Uf)return Xh("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new bg(s,r,i)}catch(e){return Xh(e instanceof _g?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Qp(i.target)){const t=new Sd(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,wp.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Tm();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Eg(e,t,this.Ke,this.qe,n);return this.qe=vm(),this.Qe=Cg(),this.Ke=new Df(md),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new kg,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new jf(md),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Yh("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new kg),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Cg(){return new Df(Sd.comparator)}function Ag(){return new Df(Sd.comparator)}const Rg={asc:"ASCENDING",desc:"DESCENDING"},Dg={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pg={and:"AND",or:"OR"};class Og{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jg(e,t){return e.useProto3Json||Jd(t)?t:{value:t}}function Lg(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fg(e,t){return Lg(e,t.toTimestamp())}function Ug(e){return ed(!!e),wd.fromTimestamp(function(e){const t=zf(e);return new yd(t.seconds,t.nanos)}(e))}function Vg(e,t){return function(e){return new _d(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Bg(e){const t=_d.fromString(e);return ed(cv(t)),t}function zg(e,t){return Vg(e.databaseId,t.path)}function qg(e,t){const n=Bg(t);if(n.get(1)!==e.databaseId.projectId)throw new rd(nd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rd(nd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sd(Gg(n))}function Wg(e,t){return Vg(e.databaseId,t)}function Hg(e){const t=Bg(e);return 4===t.length?_d.emptyPath():Gg(t)}function Kg(e){return new _d(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gg(e){return ed(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qg(e,t,n){return{name:zg(e,t),fields:n.value.mapValue.fields}}function Yg(e,t,n){const r=qg(e,t.name),i=Ug(t.updateTime),s=t.createTime?Ug(t.createTime):wd.min(),a=new vp({mapValue:{fields:t.fields}}),o=wp.newFoundDocument(r,i,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Jg(e,t){let n;if(t instanceof eg)n={update:Qg(e,t.key,t.value)};else if(t instanceof sg)n={delete:zg(e,t.key)};else if(t instanceof tg)n={update:Qg(e,t.key,t.data),updateMask:lv(t.fieldMask)};else{if(!(t instanceof ag))return Zh();n={verify:zg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Lm)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Mm)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Um)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bm)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Zh()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fg(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zh()}(e,t.precondition)),n}function Xg(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Km.updateTime(Ug(e.updateTime)):void 0!==e.exists?Km.exists(e.exists):Km.none()}(t.currentDocument):Km.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)ed("REQUEST_TIME"===t.setToServerValue),n=new Lm;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Mm(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new Um(e)}else"increment"in t?n=new Bm(e,t.increment):Zh();const r=Id.fromServerFormat(t.fieldPath);return new Wm(r,n)}(e,t))):[];if(t.update){t.update.name;const i=qg(e,t.update.name),s=new vp({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Ff(t.map((e=>Id.fromServerFormat(e))))}(t.updateMask);return new tg(i,s,e,n,r)}return new eg(i,s,n,r)}if(t.delete){const r=qg(e,t.delete);return new sg(r,n)}if(t.verify){const r=qg(e,t.verify);return new ag(r,n)}return Zh()}function $g(e,t){return{documents:[Wg(e,t.path)]}}function Zg(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Wg(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Wg(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return ov(kp.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sv(e.field),direction:nv(e.dir)}}(e)))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=jg(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ev(e){let t=Hg(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ed(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=tv(e);return t instanceof kp&&Ap(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Ip(av(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Jd(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new bp(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new bp(n,t)}(n.endAt)),Zp(t,i,a,s,o,"F",l,c)}function tv(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=av(e.unaryFilter.field);return Tp.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=av(e.unaryFilter.field);return Tp.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=av(e.unaryFilter.field);return Tp.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=av(e.unaryFilter.field);return Tp.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zh()}}(e):void 0!==e.fieldFilter?function(e){return Tp.create(av(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zh()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return kp.create(e.compositeFilter.filters.map((e=>tv(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zh()}}(e.compositeFilter.op))}(e):Zh()}function nv(e){return Rg[e]}function rv(e){return Dg[e]}function iv(e){return Pg[e]}function sv(e){return{fieldPath:e.canonicalString()}}function av(e){return Id.fromServerFormat(e.fieldPath)}function ov(e){return e instanceof Tp?function(e){if("=="===e.op){if(cp(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NAN"}};if(lp(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cp(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NOT_NAN"}};if(lp(e.value))return{unaryFilter:{field:sv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sv(e.field),op:rv(e.op),value:e.value}}}(e):e instanceof kp?function(e){const t=e.getFilters().map((e=>ov(e)));return 1===t.length?t[0]:{compositeFilter:{op:iv(e.op),filters:t}}}(e):Zh()}function lv(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function cv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class uv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wd.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wd.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Vf.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new uv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hv{constructor(e){this.ut=e}}function dv(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:fv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:zg(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Lg(e,t.version.toTimestamp()),createTime:Lg(e,t.createTime.toTimestamp())}}(e.ut,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pv(t.version)};else{if(!t.isUnknownDocument())return Zh();r.unknownDocument={path:n.path.toArray(),version:pv(t.version)}}return r}function fv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pv(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function mv(e){const t=new yd(e.seconds,e.nanoseconds);return wd.fromTimestamp(t)}function gv(e,t){const n=(t.baseMutations||[]).map((t=>Xg(e.ut,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Xg(e.ut,t))),i=yd.fromMillis(t.localWriteTimeMs);return new og(t.batchId,i,n,r)}function vv(e){const t=mv(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?mv(e.lastLimboFreeSnapshotVersion):wd.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return ed(1===e.documents.length),im(em(Hg(e.documents[0])))}(e.query):function(e){return im(ev(e))}(e.query),new uv(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Vf.fromBase64String(e.resumeToken))}function yv(e,t){const n=pv(t.snapshotVersion),r=pv(t.lastLimboFreeSnapshotVersion);let i;i=Qp(t.target)?$g(e.ut,t.target):Zg(e.ut,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Kp(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wv(e){const t=ev({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?om(t,t.limit,"L"):t}function bv(e,t){return new cg(t.largestBatchId,Xg(e.ut,t.overlayMutation))}function _v(e,t){const n=t.path.lastSegment();return[e,Zd(t.path.popLast()),n]}function Ev(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:pv(r.readTime),documentKey:Zd(r.documentKey.path),largestBatchId:r.largestBatchId}}class Iv{getBundleMetadata(e,t){return Sv(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:mv(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Sv(e).put(function(e){return{bundleId:e.id,createTime:pv(Ug(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return xv(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:wv(e.bundledQuery),readTime:mv(e.readTime)}}(e)}))}saveNamedQuery(e,t){return xv(e).put(function(e){return{name:e.name,readTime:pv(Ug(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Sv(e){return Nf(e,"bundles")}function xv(e){return Nf(e,"namedQueries")}class Tv{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){const n=t.uid||"";return new Tv(e,n)}getOverlay(e,t){return kv(e).get(_v(this.userId,t)).next((e=>e?bv(this.serializer,e):null))}getOverlays(e,t){const n=_m();return Md.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new cg(t,i);r.push(this.lt(e,s))})),Md.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(Zd(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(kv(e).H("collectionPathOverlayIndex",r))})),Md.waitFor(i)}getOverlaysForCollection(e,t,n){const r=_m(),i=Zd(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return kv(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=bv(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=_m();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return kv(e).Y({index:"collectionGroupOverlayIndex",range:a},((e,t,n)=>{const a=bv(this.serializer,t);i.size()<r||a.largestBatchId===s?(i.set(a.getKey(),a),s=a.largestBatchId):n.done()})).next((()=>i))}lt(e,t){return kv(e).put(function(e,t,n){const[r,i,s]=_v(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Jg(e.ut,n.mutation)}}(this.serializer,this.userId,t))}}function kv(e){return Nf(e,"documentOverlays")}class Nv{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(qf(e.integerValue));else if("doubleValue"in e){const n=qf(e.doubleValue);isNaN(n)?this.Tt(t,13):(this.Tt(t,15),Xd(n)?t.Et(0):t.Et(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Tt(t,20),"string"==typeof n?t.dt(n):(t.dt("".concat(n.seconds||"")),t.Et(n.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Wf(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Tt(t,45),t.Et(n.latitude||0),t.Et(n.longitude||0)}else"mapValue"in e?dp(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):Zh()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const n=e.fields||{};this.Tt(t,55);for(const r of Object.keys(n))this.At(r,t),this.Pt(n[r],t)}yt(e,t){const n=e.values||[];this.Tt(t,50);for(const r of n)this.Pt(r,t)}ft(e,t){this.Tt(t,37),Sd.fromName(e).path.forEach((e=>{this.Tt(t,60),this.wt(e,t)}))}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function Cv(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Av(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Cv(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Nv.St=new Nv;class Rv{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Dt(n.value),n=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ft(n.value),n=t.next();this.Mt()}xt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Dt(e);else if(e<2048)this.Dt(960|e>>>6),this.Dt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e);else{const e=t.codePointAt(0);this.Dt(240|e>>>18),this.Dt(128|63&e>>>12),this.Dt(128|63&e>>>6),this.Dt(128|63&e)}}this.Ct()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ft(e);else if(e<2048)this.Ft(960|e>>>6),this.Ft(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e);else{const e=t.codePointAt(0);this.Ft(240|e>>>18),this.Ft(128|63&e>>>12),this.Ft(128|63&e>>>6),this.Ft(128|63&e)}}this.Mt()}Nt(e){const t=this.Bt(e),n=Av(t);this.Lt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}kt(e){const t=this.Bt(e),n=Av(t);this.Lt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Dv{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class Pv{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class Ov{constructor(){this.Wt=new Rv,this.Gt=new Dv(this.Wt),this.zt=new Pv(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class jv{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new jv(this.indexId,this.documentKey,this.arrayValue,n)}}function Lv(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Mv(e.arrayValue,t.arrayValue),0!==n?n:(n=Mv(e.directionalValue,t.directionalValue),0!==n?n:Sd.comparator(e.documentKey,t.documentKey)))}function Mv(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Fv{constructor(e){this.Jt=new jf(((e,t)=>Id.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Jt=this.Jt.add(e):this.Zt.push(e)}}get Xt(){return this.Jt.size>1}en(e){if(ed(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=Td(e);if(void 0!==t&&!this.tn(t))return!1;const n=kd(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.tn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Jt.size>0){const e=this.Jt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.nn(e,t)||!this.rn(this.Yt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Yt.length||!this.rn(this.Yt[s++],e))return!1}return!0}sn(){if(this.Xt)return null;let e=new jf(Id.comparator);const t=[];for(const n of this.Zt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new Nd(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new Nd(n.field,0))}for(const n of this.Yt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new Nd(n.field,"asc"===n.dir?0:1)));return new xd(xd.UNKNOWN_ID,this.collectionId,t,Cd.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Uv(e){var t,n;if(ed(e instanceof Tp||e instanceof kp),e instanceof Tp){if(e instanceof Bp){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Tp.create(e.field,"==",t))))||[];return kp.create(r,"or")}return e}const r=e.filters.map((e=>Uv(e)));return kp.create(r,e.op)}function Vv(e){if(0===e.getFilters().length)return[];const t=Wv(Uv(e));return ed(qv(t)),Bv(t)||zv(t)?[t]:t.getFilters()}function Bv(e){return e instanceof Tp}function zv(e){return e instanceof kp&&Ap(e)}function qv(e){return Bv(e)||zv(e)||function(e){if(e instanceof kp&&Cp(e)){for(const t of e.getFilters())if(!Bv(t)&&!zv(t))return!1;return!0}return!1}(e)}function Wv(e){if(ed(e instanceof Tp||e instanceof kp),e instanceof Tp)return e;if(1===e.filters.length)return Wv(e.filters[0]);const t=e.filters.map((e=>Wv(e)));let n=kp.create(t,e.op);return n=Gv(n),qv(n)?n:(ed(n instanceof kp),ed(Np(n)),ed(n.filters.length>1),n.filters.reduce(((e,t)=>Hv(e,t))))}function Hv(e,t){let n;return ed(e instanceof Tp||e instanceof kp),ed(t instanceof Tp||t instanceof kp),n=e instanceof Tp?t instanceof Tp?function(e,t){return kp.create([e,t],"and")}(e,t):Kv(e,t):t instanceof Tp?Kv(t,e):function(e,t){if(ed(e.filters.length>0&&t.filters.length>0),Np(e)&&Np(t))return Op(e,t.getFilters());const n=Cp(e)?e:t,r=Cp(e)?t:e,i=n.filters.map((e=>Hv(e,r)));return kp.create(i,"or")}(e,t),Gv(n)}function Kv(e,t){if(Np(t))return Op(t,e.getFilters());{const n=t.filters.map((t=>Hv(e,t)));return kp.create(n,"or")}}function Gv(e){if(ed(e instanceof Tp||e instanceof kp),e instanceof Tp)return e;const t=e.getFilters();if(1===t.length)return Gv(t[0]);if(Rp(e))return e;const n=t.map((e=>Gv(e))),r=[];return n.forEach((t=>{t instanceof Tp?r.push(t):t instanceof kp&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:kp.create(r,e.op)}class Qv{constructor(){this.on=new Yv}addToCollectionParentIndex(e,t){return this.on.add(t),Md.resolve()}getCollectionParents(e,t){return Md.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return Md.resolve()}deleteFieldIndex(e,t){return Md.resolve()}deleteAllFieldIndexes(e){return Md.resolve()}createTargetIndexes(e,t){return Md.resolve()}getDocumentsMatchingTarget(e,t){return Md.resolve(null)}getIndexType(e,t){return Md.resolve(0)}getFieldIndexes(e,t){return Md.resolve([])}getNextCollectionGroupToUpdate(e){return Md.resolve(null)}getMinOffset(e,t){return Md.resolve(Dd.min())}getMinOffsetFromCollectionGroup(e,t){return Md.resolve(Dd.min())}updateCollectionGroup(e,t,n){return Md.resolve()}updateIndexEntries(e,t){return Md.resolve()}}class Yv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new jf(_d.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new jf(_d.comparator)).toArray()}}const Jv=new Uint8Array(0);class Xv{constructor(e,t){this.user=e,this.databaseId=t,this._n=new Yv,this.an=new mm((e=>Kp(e)),((e,t)=>Gp(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this._n.add(t)}));const i={collectionId:n,parent:Zd(r)};return $v(e).put(i)}return Md.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[vd(t),""],!1,!0);return $v(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(nf(r.parent))}return n}))}addFieldIndex(e,t){const n=ey(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=ty(e);return i.next((e=>{n.put(Ev(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=ey(e),r=ty(e),i=Zv(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=ey(e),n=Zv(e),r=ty(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return Md.forEach(this.un(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new Fv(t).sn();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Zv(e);let r=!0;const i=new Map;return Md.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Tm();const r=[];return Md.forEach(i,((i,s)=>{Yh("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(Kp(t)));const a=function(e,t){const n=Td(t);if(void 0===n)return null;for(const r of Yp(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),o=function(e,t){const n=new Map;for(const r of kd(t))for(const t of Yp(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of kd(t)){const t=0===i.kind?Jp(e,i.fieldPath,e.startAt):Xp(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new bp(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of kd(t)){const t=0===i.kind?Xp(e,i.fieldPath,e.endAt):Jp(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new bp(n,r)}(s,i),u=this.ln(i,s,l),h=this.ln(i,s,c),d=this.hn(i,s,o),f=this.Pn(i.indexId,a,u,l.inclusive,h,c.inclusive,d);return Md.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=Sd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Md.resolve(null)}))}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:Vv(kp.create(e.filters,"and")).map((t=>Hp(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.an.set(e,t),t)}Pn(e,t,n,r,i,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,i.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.In(t[u/l]):Jv,h=this.Tn(e,o,n[u%l],r),d=this.En(e,o,i[u%l],s),f=a.map((t=>this.Tn(e,o,t,!0)));c.push(...this.createRange(h,d,f))}return c}Tn(e,t,n,r){const i=new jv(e,Sd.empty(),t,n);return r?i:i.Ht()}En(e,t,n,r){const i=new jv(e,Sd.empty(),t,n);return r?i.Ht():i}cn(e,t){const n=new Fv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.en(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return Md.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new jf(Id.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}dn(e,t){const n=new Ov;for(const r of kd(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.jt(r.kind);Nv.St.ht(e,i)}return n.Ut()}In(e){const t=new Ov;return Nv.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const n=new Ov;return Nv.St.ht(sp(this.databaseId,t),n.jt(function(e){const t=kd(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ut()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Ov);let i=0;for(const s of kd(e)){const e=n[i++];for(const n of r)if(this.Rn(t,s.fieldPath)&&op(e))r=this.Vn(r,s,e);else{const t=n.jt(s.kind);Nv.St.ht(e,t)}}return this.mn(r)}ln(e,t,n){return this.hn(e,t,n.position)}mn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ut();return t}Vn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new Ov;n.seed(e.Ut()),Nv.St.ht(s,n.jt(t.kind)),i.push(n)}return i}Rn(e,t){return!!e.filters.find((e=>e instanceof Tp&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=ey(e),r=ty(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return Md.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Cd(t.sequenceNumber,new Dd(mv(t.readTime),new Sd(nf(t.documentKey)),t.largestBatchId)):Cd.empty(),r=e.fields.map((e=>{let[t,n]=e;return new Nd(Id.fromServerFormat(t),n)}));return new xd(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:md(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=ey(e),i=ty(e);return this.fn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Md.forEach(t,(t=>i.put(Ev(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Md.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Md.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Md.forEach(i,(n=>this.gn(e,t,n).next((t=>{const i=this.pn(r,n);return t.isEqual(i)?Md.resolve():this.yn(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Zv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.An(n,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,n,r){return Zv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.An(n,t.key),t.key.path.toArray()])}gn(e,t,n){const r=Zv(e);let i=new jf(Lv);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.An(n,t)])},((e,r)=>{i=i.add(new jv(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}pn(e,t){let n=new jf(Lv);const r=this.dn(t,e);if(null==r)return n;const i=Td(t);if(null!=i){const s=e.data.field(i.fieldPath);if(op(s))for(const i of s.arrayValue.values||[])n=n.add(new jv(t.indexId,e.key,this.In(i),r))}else n=n.add(new jv(t.indexId,e.key,Jv,r));return n}yn(e,t,n,r,i){Yh("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),a=t.getIterator();let o=Mf(s),l=Mf(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const r=n(o,l);r<0?t=!0:r>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(r(l),l=Mf(a)):t?(i(o),o=Mf(s)):(o=Mf(s),l=Mf(a))}}(r,i,Lv,(r=>{s.push(this.wn(e,t,n,r))}),(r=>{s.push(this.Sn(e,t,n,r))})),Md.waitFor(s)}fn(e){let t=1;return ty(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>Lv(e,t))).filter(((e,t,n)=>!t||0!==Lv(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=Lv(s,e),i=Lv(s,t);if(0===n)r[0]=e.Ht();else if(n>0&&i<0)r.push(s),r.push(s.Ht());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.bn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,Jv,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,Jv,[]];i.push(IDBKeyRange.bound(e,t))}return i}bn(e,t){return Lv(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ny)}getMinOffset(e,t){return Md.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||Zh())))).next(ny)}}function $v(e){return Nf(e,"collectionParents")}function Zv(e){return Nf(e,"indexEntries")}function ey(e){return Nf(e,"indexConfiguration")}function ty(e){return Nf(e,"indexState")}function ny(e){ed(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Pd(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Dd(t.readTime,t.documentKey,n)}const ry={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class iy{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new iy(e,iy.DEFAULT_COLLECTION_PERCENTILE,iy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sy(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=r.Y({range:a},((e,t,n)=>(o++,n.delete())));s.push(l.next((()=>{ed(1===o)})));const c=[];for(const u of n.mutations){const e=af(t,u.key.path,n.batchId);s.push(i.delete(e)),c.push(u.key)}return Md.waitFor(s).next((()=>c))}function ay(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zh();t=e.noDocument}return JSON.stringify(t).length}iy.DEFAULT_COLLECTION_PERCENTILE=10,iy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,iy.DEFAULT=new iy(41943040,iy.DEFAULT_COLLECTION_PERCENTILE,iy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),iy.DISABLED=new iy(-1,0,0);class oy{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Dn={}}static ct(e,t,n,r){ed(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new oy(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cy(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=uy(e),s=cy(e);return s.add({}).next((a=>{ed("number"==typeof a);const o=new og(a,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>Jg(e.ut,t))),i=n.mutations.map((t=>Jg(e.ut,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,o),c=[];let u=new jf(((e,t)=>md(e.canonicalString(),t.canonicalString())));for(const e of r){const t=af(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(i.put(t,of))}return u.forEach((t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Dn[a]=o.keys()})),Md.waitFor(c).next((()=>o))}))}lookupMutationBatch(e,t){return cy(e).get(t).next((e=>e?(ed(e.userId===this.userId),gv(this.serializer,e)):null))}Cn(e,t){return this.Dn[t]?Md.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Dn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return cy(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(ed(t.batchId>=n),i=gv(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return cy(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cy(e).W("userMutationsIndex",t).next((e=>e.map((e=>gv(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=sf(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return uy(e).Y({range:r},((n,r,s)=>{const[a,o,l]=n,c=nf(o);if(a===this.userId&&t.path.isEqual(c))return cy(e).get(l).next((e=>{if(!e)throw Zh();ed(e.userId===this.userId),i.push(gv(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jf(md);const r=[];return t.forEach((t=>{const i=sf(this.userId,t.path),s=IDBKeyRange.lowerBound(i),a=uy(e).Y({range:s},((e,r,i)=>{const[s,a,o]=e,l=nf(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):i.done()}));r.push(a)})),Md.waitFor(r).next((()=>this.vn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=sf(this.userId,n),s=IDBKeyRange.lowerBound(i);let a=new jf(md);return uy(e).Y({range:s},((e,t,i)=>{const[s,o,l]=e,c=nf(o);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(a=a.add(l)):i.done()})).next((()=>this.vn(e,a)))}vn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(cy(e).get(t).next((e=>{if(null===e)throw Zh();ed(e.userId===this.userId),n.push(gv(this.serializer,e))})))})),Md.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return sy(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Fn(t.batchId)})),Md.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Md.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return uy(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=nf(e[1]);r.push(t)}else n.done()})).next((()=>{ed(0===r.length)}))}))}containsKey(e,t){return ly(e,this.userId,t)}Mn(e){return hy(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function ly(e,t,n){const r=sf(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let a=!1;return uy(e).Y({range:s,J:!0},((e,n,r)=>{const[s,o,l]=e;s===t&&o===i&&(a=!0),r.done()})).next((()=>a))}function cy(e){return Nf(e,"mutations")}function uy(e){return Nf(e,"documentMutations")}function hy(e){return Nf(e,"mutationQueues")}class dy{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new dy(0)}static Nn(){return new dy(-1)}}class fy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new dy(t.highestTargetId);return t.highestTargetId=n.next(),this.Ln(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>wd.fromTimestamp(new yd(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Ln(e,r))))}addTargetData(e,t){return this.kn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.qn(t,n),this.Ln(e,n))))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>py(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(ed(t.targetCount>0),t.targetCount-=1,this.Ln(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return py(e).Y(((s,a)=>{const o=vv(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(r++,i.push(this.removeTargetData(e,o)))})).next((()=>Md.waitFor(i))).next((()=>r))}forEachTarget(e,t){return py(e).Y(((e,n)=>{const r=vv(n);t(r)}))}Bn(e){return my(e).get("targetGlobalKey").next((e=>(ed(null!==e),e)))}Ln(e,t){return my(e).put("targetGlobalKey",t)}kn(e,t){return py(e).put(yv(this.serializer,t))}qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=Kp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return py(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=vv(n);Gp(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=gy(e);return t.forEach((t=>{const s=Zd(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),Md.waitFor(r)}removeMatchingKeys(e,t,n){const r=gy(e);return Md.forEach(t,(t=>{const i=Zd(t.path);return Md.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=gy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gy(e);let i=Tm();return r.Y({range:n,J:!0},((e,t,n)=>{const r=nf(e[1]),s=new Sd(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=Zd(t.path),r=IDBKeyRange.bound([n],[vd(n)],!1,!0);let i=0;return gy(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return py(e).get(t).next((e=>e?vv(e):null))}}function py(e){return Nf(e,"targets")}function my(e){return Nf(e,"targetGlobal")}function gy(e){return Nf(e,"targetDocuments")}function vy(e,t){let[n,r]=e,[i,s]=t;const a=md(n,i);return 0===a?md(r,s):a}class yy{constructor(e){this.Qn=e,this.buffer=new jf(vy),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();vy(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wy{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){Yh("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Wn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){zd(e)?Yh("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ld(e)}await this.Gn(3e5)}))}}class by{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Md.resolve(Yd._e);const n=new yy(t);return this.zn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.zn.Hn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Yh("LruGarbageCollector","Garbage collection skipped; disabled"),Md.resolve(ry)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Yh("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),ry):this.Jn(e,t)))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Yh("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Qh()<=ht.DEBUG&&Yh("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Md.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function _y(e,t){return new by(e,t)}class Ey{constructor(e,t){this.db=e,this.garbageCollector=_y(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Yn(e){let t=0;return this.Hn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,((e,n)=>t(n)))}addReference(e,t,n){return Iy(e,n)}removeReference(e,t,n){return Iy(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Iy(e,t)}Xn(e,t){return function(e,t){let n=!1;return hy(e).Z((r=>ly(e,r,t).next((e=>(e&&(n=!0),Md.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Zn(e,((s,a)=>{if(a<=t){const t=this.Xn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,wd.min()),gy(e).delete(function(e){return[0,Zd(e.path)]}(s)))))}));r.push(t)}})).next((()=>Md.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Iy(e,t)}Zn(e,t){const n=gy(e);let r,i=Yd._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,a]=e,{path:o,sequenceNumber:l}=n;0===s?(i!==Yd._e&&t(new Sd(nf(r)),i),i=l,r=o):i=Yd._e})).next((()=>{i!==Yd._e&&t(new Sd(nf(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Iy(e,t){return gy(e).put(function(e,t){return{targetId:0,path:Zd(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Sy{constructor(){this.changes=new mm((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wp.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Md.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xy{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Cy(e).put(n)}removeEntry(e,t,n){return Cy(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],fv(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.er(e,n))))}getEntry(e,t){let n=wp.newInvalidDocument(t);return Cy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ay(t))},((e,r)=>{n=this.tr(t,r)})).next((()=>n))}nr(e,t){let n={size:0,document:wp.newInvalidDocument(t)};return Cy(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ay(t))},((e,r)=>{n={document:this.tr(t,r),size:ay(r)}})).next((()=>n))}getEntries(e,t){let n=vm();return this.rr(e,t,((e,t)=>{const r=this.tr(e,t);n=n.insert(e,r)})).next((()=>n))}ir(e,t){let n=vm(),r=new Df(Sd.comparator);return this.rr(e,t,((e,t)=>{const i=this.tr(e,t);n=n.insert(e,i),r=r.insert(e,ay(t))})).next((()=>({documents:n,sr:r})))}rr(e,t,n){if(t.isEmpty())return Md.resolve();let r=new jf(Dy);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ay(r.first()),Ay(r.last())),s=r.getIterator();let a=s.getNext();return Cy(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=Sd.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&Dy(a,i)<0;)n(a,null),a=s.getNext();a&&a.isEqual(i)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?r.U(Ay(a)):r.done()})).next((()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),fv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cy(e).W(IDBKeyRange.bound(a,o,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=vm();for(const i of e){const e=this.tr(Sd.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(hm(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=vm();const s=Ry(t,n),a=Ry(t,Dd.max());return Cy(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},((e,t,n)=>{const s=this.tr(Sd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new ky(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return Ny(e).get("remoteDocumentGlobalKey").next((e=>(ed(!!e),e)))}er(e,t){return Ny(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Yg(e.ut,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Sd.fromSegments(t.noDocument.path),r=mv(t.noDocument.readTime);n=wp.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Zh();{const e=Sd.fromSegments(t.unknownDocument.path),r=mv(t.unknownDocument.version);n=wp.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new yd(e[0],e[1]);return wd.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(wd.min()))return e}return wp.newInvalidDocument(e)}}function Ty(e){return new xy(e)}class ky extends Sy{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new mm((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new jf(((e,t)=>md(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const a=this.ar.get(i);if(t.push(this._r.removeEntry(e,i,a.readTime)),s.isValidDocument()){const o=dv(this._r.serializer,s);r=r.add(i.path.popLast());const l=ay(o);n+=l-a.size,t.push(this._r.addEntry(e,i,o))}else if(n-=a.size,this.trackRemovals){const n=dv(this._r.serializer,s.convertToNoDocument(wd.min()));t.push(this._r.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,n))})),t.push(this._r.updateMetadata(e,n)),Md.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next((e=>(this.ar.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this._r.ir(e,t).next((e=>{let{documents:t,sr:n}=e;return n.forEach(((e,n)=>{this.ar.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function Ny(e){return Nf(e,"remoteDocumentGlobal")}function Cy(e){return Nf(e,"remoteDocumentsV14")}function Ay(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ry(e,t){const n=t.documentKey.path.toArray();return[e,fv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Dy(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=md(n[s],r[s]),i)return i;return i=md(n.length,r.length),i||(i=md(n[n.length-2],r[r.length-2]),i||md(n[n.length-1],r[r.length-1]))}class Py{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Oy{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Xm(n.mutation,e,Ff.empty(),yd.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Tm()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tm();const r=_m();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=wm();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=_m();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Tm())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=vm();const s=Im(),a=Im();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof tg)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Xm(a.mutation,t,a.mutation.getFieldMask(),yd.now())):s.set(t.key,Ff.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Py(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Im();let r=new Df(((e,t)=>e-t)),i=Tm();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Ff.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Tm()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=Em();l.forEach((e=>{if(!i.has(e)){const r=Ym(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Md.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Sd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):nm(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Md.resolve(_m());let a=-1,o=i;return s.next((t=>Md.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?Md.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Tm()))).next((e=>({batchId:a,changes:bm(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Sd(t)).next((e=>{let t=wm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=wm();return this.indexManager.getCollectionParents(e,i).next((a=>Md.forEach(a,(a=>{const o=function(e,t){return new $p(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,wp.newInvalidDocument(r)))}));let n=wm();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Xm(s.mutation,r,Ff.empty(),yd.now()),hm(t,r)&&(n=n.insert(e,r))})),n}))}}class jy{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return Md.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Ug(e.createTime)}}(t)),Md.resolve()}getNamedQuery(e,t){return Md.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,function(e){return{name:e.name,query:wv(e.bundledQuery),readTime:Ug(e.readTime)}}(t)),Md.resolve()}}class Ly{constructor(){this.overlays=new Df(Sd.comparator),this.lr=new Map}getOverlay(e,t){return Md.resolve(this.overlays.get(t))}getOverlays(e,t){const n=_m();return Md.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.lt(e,t,r)})),Md.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.lr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.lr.delete(n)),Md.resolve()}getOverlaysForCollection(e,t,n){const r=_m(),i=t.length+1,s=new Sd(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Md.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Df(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=_m(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=_m(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return Md.resolve(a)}lt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.lr.get(r.largestBatchId).delete(n.key);this.lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new cg(t,n));let i=this.lr.get(t);void 0===i&&(i=Tm(),this.lr.set(t,i)),this.lr.set(t,i.add(n.key))}}class My{constructor(){this.hr=new jf(Fy.Pr),this.Ir=new jf(Fy.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const n=new Fy(e,t);this.hr=this.hr.add(n),this.Ir=this.Ir.add(n)}Er(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.dr(new Fy(e,t))}Ar(e,t){e.forEach((e=>this.removeReference(e,t)))}Rr(e){const t=new Sd(new _d([])),n=new Fy(t,e),r=new Fy(t,e+1),i=[];return this.Ir.forEachInRange([n,r],(e=>{this.dr(e),i.push(e.key)})),i}Vr(){this.hr.forEach((e=>this.dr(e)))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new Sd(new _d([])),n=new Fy(t,e),r=new Fy(t,e+1);let i=Tm();return this.Ir.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Fy(e,0),n=this.hr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Fy{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return Sd.comparator(e.key,t.key)||md(e.gr,t.gr)}static Tr(e,t){return md(e.gr,t.gr)||Sd.comparator(e.key,t.key)}}class Uy{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new jf(Fy.Pr)}checkEmpty(e){return Md.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new og(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Fy(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Md.resolve(s)}lookupMutationBatch(e,t){return Md.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Sr(n),i=r<0?0:r;return Md.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Md.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Md.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Fy(t,0),r=new Fy(t,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([n,r],(e=>{const t=this.wr(e.gr);i.push(t)})),Md.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new jf(md);return t.forEach((e=>{const t=new Fy(e,0),r=new Fy(e,Number.POSITIVE_INFINITY);this.yr.forEachInRange([t,r],(e=>{n=n.add(e.gr)}))})),Md.resolve(this.br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Sd.isDocumentKey(i)||(i=i.child(""));const s=new Fy(new Sd(i),0);let a=new jf(md);return this.yr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.gr)),!0)}),s),Md.resolve(this.br(a))}br(e){const t=[];return e.forEach((e=>{const n=this.wr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){ed(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.yr;return Md.forEach(t.mutations,(r=>{const i=new Fy(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.yr=n}))}Fn(e){}containsKey(e,t){const n=new Fy(t,0),r=this.yr.firstAfterOrEqual(n);return Md.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Md.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vy{constructor(e){this.Cr=e,this.docs=new Df(Sd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Md.resolve(n?n.document.mutableCopy():wp.newInvalidDocument(t))}getEntries(e,t){let n=vm();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():wp.newInvalidDocument(e))})),Md.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=vm();const s=t.path,a=new Sd(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Pd(Rd(a),n)<=0||(r.has(a.key)||hm(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return Md.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zh()}vr(e,t){return Md.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new By(this)}getSize(e){return Md.resolve(this.size)}}class By extends Sy{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(n)})),Md.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class zy{constructor(e){this.persistence=e,this.Fr=new mm((e=>Kp(e)),Gp),this.lastRemoteSnapshotVersion=wd.min(),this.highestTargetId=0,this.Mr=0,this.Or=new My,this.targetCount=0,this.Nr=dy.On()}forEachTarget(e,t){return this.Fr.forEach(((e,n)=>t(n))),Md.resolve()}getLastRemoteSnapshotVersion(e){return Md.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Md.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Md.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Mr&&(this.Mr=t),Md.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new dy(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,Md.resolve()}updateTargetData(e,t){return this.kn(t),Md.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,Md.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Fr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Fr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),Md.waitFor(i).next((()=>r))}getTargetCount(e){return Md.resolve(this.targetCount)}getTargetData(e,t){const n=this.Fr.get(t)||null;return Md.resolve(n)}addMatchingKeys(e,t,n){return this.Or.Er(t,n),Md.resolve()}removeMatchingKeys(e,t,n){this.Or.Ar(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Md.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),Md.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Or.mr(t);return Md.resolve(n)}containsKey(e,t){return Md.resolve(this.Or.containsKey(t))}}class qy{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Yd(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new zy(this),this.indexManager=new Qv,this.remoteDocumentCache=function(e){return new Vy(e)}((e=>this.referenceDelegate.Qr(e))),this.serializer=new hv(t),this.Kr=new jy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ly,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Uy(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,n){Yh("MemoryPersistence","Starting transaction:",e);const r=new Wy(this.Lr.next());return this.referenceDelegate.$r(),n(r).next((e=>this.referenceDelegate.Ur(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Wr(e,t){return Md.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Wy extends jd{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.Gr=new My,this.zr=null}static jr(e){return new Hy(e)}get Hr(){if(this.zr)return this.zr;throw Zh()}addReference(e,t,n){return this.Gr.addReference(n,t),this.Hr.delete(n.toString()),Md.resolve()}removeReference(e,t,n){return this.Gr.removeReference(n,t),this.Hr.add(n.toString()),Md.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),Md.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach((e=>this.Hr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Hr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Md.forEach(this.Hr,(n=>{const r=Sd.fromPath(n);return this.Jr(e,r).next((e=>{e||t.removeEntry(r,wd.min())}))})).next((()=>(this.zr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Jr(e,t).next((e=>{e?this.Hr.delete(t.toString()):this.Hr.add(t.toString())}))}Qr(e){return 0}Jr(e,t){return Md.or([()=>Md.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class Ky{constructor(e){this.serializer=e}N(e,t,n,r){const i=new Fd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0}),e.createObjectStore("documentMutations")}(e),Gy(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=Md.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Gy(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wd.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rf,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Md.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Zr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(i))))),n<7&&r>=7&&(s=s.next((()=>this.ei(i)))),n<8&&r>=8&&(s=s.next((()=>this.ti(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ni(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:wf});t.createIndex("collectionPathOverlayIndex",bf,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",_f,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:lf});t.createIndex("documentKeyIndex",cf),t.createIndex("collectionGroupIndex",uf)}(e))).next((()=>this.ri(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ii(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:mf}).createIndex("sequenceNumberIndex",gf,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:vf}).createIndex("documentKeyIndex",yf,{unique:!1})}(e)))),s}Xr(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=ay(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Zr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>Md.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>Md.forEach(n,(n=>{ed(n.userId===t.userId);const r=gv(this.serializer,n);return sy(e,t.userId,r).next((()=>{}))}))))}))))}ei(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new _d(n),a=function(e){return[0,Zd(e)]}(s);r.push(t.get(a).next((n=>n?Md.resolve():(n=>t.put({targetId:0,path:Zd(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>Md.waitFor(r)))}))}ti(e,t){e.createObjectStore("collectionParents",{keyPath:pf});const n=t.store("collectionParents"),r=new Yv,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Zd(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new _d(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const a=nf(r);return i(a.popLast())}))))}ni(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=vv(n),i=yv(this.serializer,r);return t.put(i)}))}ri(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new Sd(_d.fromString(e.document.name).popFirst(5)):e.noDocument?Sd.fromSegments(e.noDocument.path):e.unknownDocument?Sd.fromSegments(e.unknownDocument.path):Zh()}(n).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Md.waitFor(r)))}ii(e,t){const n=t.store("mutations"),r=Ty(this.serializer),i=new qy(Hy.jr,this.serializer.ut);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Tm();gv(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Md.forEach(n,((e,n)=>{const s=new Hh(n),a=Tv.ct(this.serializer,s),o=i.getIndexManager(s),l=oy.ct(s,this.serializer,o,i.referenceDelegate);return new Oy(r,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new kf(t,Yd._e),e).next()}))}))}}function Gy(e){e.createObjectStore("targetDocuments",{keyPath:df}).createIndex("documentTargetsIndex",ff,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",hf,{unique:!0}),e.createObjectStore("targetGlobal")}const Qy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yy{constructor(e,t,n,r,i,s,a,o,l,c){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=a,this.oi=l,this._i=c,this.ai=u,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=e=>Promise.resolve(),!Yy.D())throw new rd(nd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ey(this,r),this.Ii=t+"main",this.serializer=new hv(o),this.Ti=new Ud(this.Ii,this.ai,new Ky(this.serializer)),this.qr=new fy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Ty(this.serializer),this.Kr=new Iv,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===c&&Jh("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rd(nd.FAILED_PRECONDITION,Qy);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.qr.getHighestSequenceNumber(e)))})).then((e=>{this.Lr=new Yd(e,this.oi)})).then((()=>{this.kr=!0})).catch((e=>(this.Ti&&this.Ti.close(),Promise.reject(e))))}mi(e){return this.Pi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.di()})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Xy(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.fi(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))))}))})).next((()=>this.gi(e))).next((t=>this.isPrimary&&!t?this.pi(e).next((()=>!1)):!!t&&this.yi(e).next((()=>!0)))))).catch((e=>{if(zd(e))return Yh("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Yh("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.Pi(e))),this.isPrimary=e}))}fi(e){return Jy(e).get("owner").next((e=>Md.resolve(this.wi(e))))}Si(e){return Xy(e).delete(this.clientId)}async bi(){if(this.isPrimary&&!this.Di(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Nf(e,"clientMetadata");return t.W().next((e=>{const n=this.Ci(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Md.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.Ei)for(const t of e)this.Ei.removeItem(this.vi(t.clientId))}}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.di().then((()=>this.bi())).then((()=>this.Vi()))))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?Md.resolve(!0):Jy(e).get("owner").next((t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new rd(nd.FAILED_PRECONDITION,Qy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Xy(e).W().next((e=>void 0===this.Ci(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Yh("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.kr=!1,this.Mi(),this.li&&(this.li.cancel(),this.li=null),this.xi(),this.Oi(),await this.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new kf(e,Yd._e);return this.pi(t).next((()=>this.Si(t)))})),this.Ti.close(),this.Ni()}Ci(e,t){return e.filter((e=>this.Di(e.updateTimeMs,t)&&!this.Fi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Xy(e).W().next((e=>this.Ci(e,18e5).map((e=>e.clientId))))))}get started(){return this.kr}getMutationQueue(e,t){return oy.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Xv(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return Tv.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,n){Yh("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?Tf:14===e?xf:13===e?Sf:12===e?If:11===e?Ef:void Zh()}(this.ai);let s;return this.Ti.runTransaction(e,r,i,(r=>(s=new kf(r,this.Lr?this.Lr.next():Yd._e),"readwrite-primary"===t?this.fi(s).next((e=>!!e||this.gi(s))).next((t=>{if(!t)throw Jh("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.Pi(!1))),new rd(nd.FAILED_PRECONDITION,Od);return n(s)})).next((e=>this.yi(s).next((()=>e)))):this.Li(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}Li(e){return Jy(e).get("owner").next((e=>{if(null!==e&&this.Di(e.leaseTimestampMs,5e3)&&!this.Fi(e.ownerId)&&!this.wi(e)&&!(this._i||this.allowTabSynchronization&&e.allowTabSynchronization))throw new rd(nd.FAILED_PRECONDITION,Qy)}))}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Jy(e).put("owner",t)}static D(){return Ud.D()}pi(e){const t=Jy(e);return t.get("owner").next((e=>this.wi(e)?(Yh("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Md.resolve()))}Di(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Jh("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.di())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const e=/(?:Version|Mobile)\/1[456]/;!ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const n=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return Yh("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Jh("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Jh("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch(e){}}vi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function Jy(e){return Nf(e,"owner")}function Xy(e){return Nf(e,"clientMetadata")}function $y(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Zy{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ki=n,this.qi=r}static Qi(e,t){let n=Tm(),r=Tm();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zy(e,t.fromCache,n,r)}}class ew{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tw{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.zi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ji(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ew;return this.Hi(e,t,n).next((r=>{if(i.result=r,this.$i)return this.Ji(e,t,n,r.size)}))})).next((()=>i.result))}Ji(e,t,n,r){return n.documentReadCount<this.Ui?(Qh()<=ht.DEBUG&&Yh("QueryEngine","SDK will not create cache indexes for query:",um(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Md.resolve()):(Qh()<=ht.DEBUG&&Yh("QueryEngine","Query:",um(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Wi*r?(Qh()<=ht.DEBUG&&Yh("QueryEngine","The SDK decides to create cache indexes for query:",um(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,im(t))):Md.resolve())}zi(e,t){if(tm(t))return Md.resolve(null);let n=im(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=om(t,null,"F"),n=im(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Tm(...r);return this.Gi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Yi(t,r);return this.Zi(t,s,i,n.readTime)?this.zi(e,om(t,null,"F")):this.Xi(e,s,t,n)}))))})))))}ji(e,t,n,r){return tm(t)||r.isEqual(wd.min())?Md.resolve(null):this.Gi.getDocuments(e,n).next((i=>{const s=this.Yi(t,i);return this.Zi(t,s,n,r)?Md.resolve(null):(Qh()<=ht.DEBUG&&Yh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),um(t)),this.Xi(e,s,t,Ad(r,-1)).next((e=>e)))}))}Yi(e,t){let n=new jf(fm(e));return t.forEach(((t,r)=>{hm(e,r)&&(n=n.add(r))})),n}Zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Hi(e,t,n){return Qh()<=ht.DEBUG&&Yh("QueryEngine","Using full collection scan to execute query:",um(t)),this.Gi.getDocumentsMatchingQuery(e,t,Dd.min(),n)}Xi(e,t,n,r){return this.Gi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class nw{constructor(e,t,n,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new Df(md),this.ns=new mm((e=>Kp(e)),Gp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(n)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oy(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ts)))}}function rw(e,t,n,r){return new nw(e,t,n,r)}async function iw(e,t){const n=td(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.os(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Tm();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({_s:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function sw(e){const t=td(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.qr.getLastRemoteSnapshotVersion(e)))}function aw(e,t,n){let r=Tm(),i=Tm();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=vm();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(wd.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Yh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{us:r,cs:i}}))}function ow(e,t){const n=td(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function lw(e,t){const n=td(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.qr.getTargetData(e,t).next((i=>i?(r=i,Md.resolve(r)):n.qr.allocateTargetId(e).next((i=>(r=new uv(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ts=n.ts.insert(e.targetId,e),n.ns.set(t,e.targetId)),e}))}async function cw(e,t,n){const r=td(e),i=r.ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!zd(e))throw e;Yh("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ts=r.ts.remove(t),r.ns.delete(i.target)}function uw(e,t,n){const r=td(e);let i=wd.min(),s=Tm();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=td(e),i=r.ns.get(n);return void 0!==i?Md.resolve(r.ts.get(i)):r.qr.getTargetData(t,n)}(r,e,im(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.es.getDocumentsMatchingQuery(e,t,n?i:wd.min(),n?s:Tm()))).next((e=>(fw(r,dm(t),e),{documents:e,ls:s})))))}function hw(e,t){const n=td(e),r=td(n.qr),i=n.ts.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function dw(e,t){const n=td(e),r=n.rs.get(t)||wd.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.ss.getAllFromCollectionGroup(e,t,Ad(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(fw(n,t,e),e)))}function fw(e,t,n){let r=e.rs.get(t)||wd.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.rs.set(t,r)}async function pw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tm();const r=await lw(e,im(wv(t.bundledQuery))),i=td(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Ug(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Kr.saveNamedQuery(e,t);const a=r.withResumeToken(Vf.EMPTY_BYTE_STRING,s);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(e,a).next((()=>i.qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.Kr.saveNamedQuery(e,t)))}))}function mw(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gw(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vw(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class yw{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ts(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new rd(r.error.code,r.error.message))),s?new yw(e,t,r.state,i):(Jh("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ww{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ts(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new rd(n.error.code,n.error.message))),i?new ww(e,n.state,r):(Jh("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Nm();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=$d(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new bw(e,i):(Jh("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class _w{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _w(t.clientId,t.onlineState):(Jh("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class Ew{constructor(){this.activeTargetIds=Nm()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Iw{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.Rs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new Df(md),this.started=!1,this.ps=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ys=mw(this.persistenceKey,this.Rs),this.ws=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gs=this.gs.insert(this.Rs,new Ew),this.Ss=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.bs=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Ds=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.Cs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.vs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Rs)continue;const e=this.getItem(mw(this.persistenceKey,n));if(e){const t=bw.Ts(n,e);t&&(this.gs=this.gs.insert(t.clientId,t))}}this.Fs();const t=this.storage.getItem(this.Cs);if(t){const e=this.Ms(t);e&&this.xs(e)}for(const n of this.ps)this.fs(n);this.ps=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,n){this.Ns(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(vw(this.persistenceKey,e));if(n){const r=ww.Ts(e,n);r&&(t=r.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vw(this.persistenceKey,e))}updateQueryState(e,t,n){this.ks(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Yh("SharedClientState","READ",e,t),t}setItem(e,t){Yh("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Yh("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){const t=e;if(t.storageArea===this.storage){if(Yh("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ys)return void Jh("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ss.test(t.key)){if(null==t.newValue){const e=this.Ks(t.key);return this.$s(e,null)}{const e=this.Us(t.key,t.newValue);if(e)return this.$s(e.clientId,e)}}else if(this.bs.test(t.key)){if(null!==t.newValue){const e=this.Ws(t.key,t.newValue);if(e)return this.Gs(e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.zs(t.key,t.newValue);if(e)return this.js(e)}}else if(t.key===this.Cs){if(null!==t.newValue){const e=this.Ms(t.newValue);if(e)return this.xs(e)}}else if(t.key===this.ws){const e=function(e){let t=Yd._e;if(null!=e)try{const n=JSON.parse(e);ed("number"==typeof n),t=n}catch(e){Jh("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Yd._e&&this.sequenceNumberHandler(e)}else if(t.key===this.vs){const e=this.Hs(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Js(e))))}}else this.ps.push(t)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,n){const r=new yw(this.currentUser,e,t,n),i=gw(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Es())}Bs(e){const t=gw(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){const t={clientId:this.Rs,onlineState:e};this.storage.setItem(this.Cs,JSON.stringify(t))}ks(e,t,n){const r=vw(this.persistenceKey,e),i=new ww(e,t,n);this.setItem(r,i.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const n=this.Ks(e);return bw.Ts(n,t)}Ws(e,t){const n=this.bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yw.Ts(new Hh(i),r,t)}zs(e,t){const n=this.Ds.exec(e),r=Number(n[1]);return ww.Ts(r,t)}Ms(e){return _w.Ts(e)}Hs(e){return JSON.parse(e)}async Gs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Ys(e.batchId,e.state,e.error);Yh("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const n=t?this.gs.insert(e,t):this.gs.remove(e),r=this.Os(this.gs),i=this.Os(n),s=[],a=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||a.push(e)})),this.syncEngine.Xs(s,a).then((()=>{this.gs=n}))}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=Nm();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class Sw{constructor(){this.eo=new Ew,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,n){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new Ew,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class xw{ro(e){}shutdown(){}}class Tw{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){Yh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){Yh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kw=null;function Nw(){return null===kw?kw=268435456+Math.round(2147483648*Math.random()):kw++,"0x"+kw.toString(16)}const Cw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Aw{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Rw="WebChannelConnection";class Dw extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.mo=t+"://"+e.host,this.fo="projects/".concat(n,"/databases/").concat(r),this.po="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get yo(){return!1}wo(e,t,n,r,i){const s=Nw(),a=this.So(e,t);Yh("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(o,r,i),this.Do(e,a,o,n).then((t=>(Yh("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Xh("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}Co(e,t,n,r,i,s){return this.wo(e,t,n,r,i)}bo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Kh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Cw[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,n,r){const i=Nw();return new Promise(((s,a)=>{const o=new Bh;o.setWithCredentials(!0),o.listenOnce(Mh.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Lh.NO_ERROR:const t=o.getResponseJson();Yh(Rw,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Lh.TIMEOUT:Yh(Rw,"RPC '".concat(e,"' ").concat(i," timed out")),a(new rd(nd.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const n=o.getStatus();if(Yh(Rw,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(nd).indexOf(t)>=0?t:nd.UNKNOWN}(t.status);a(new rd(e,t.message))}else a(new rd(nd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new rd(nd.UNAVAILABLE,"Connection failed."));break;default:Zh()}}finally{Yh(Rw,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Yh(Rw,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}vo(e,t,n){const r=Nw(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Oh(),a=jh(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.bo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Yh(Rw,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Aw({co:t=>{d?Yh(Rw,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Yh(Rw,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Yh(Rw,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},lo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Vh.EventType.OPEN,(()=>{d||Yh(Rw,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Vh.EventType.CLOSE,(()=>{d||(d=!0,Yh(Rw,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Ro())})),p(u,Vh.EventType.ERROR,(t=>{d||(d=!0,Xh(Rw,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Ro(new rd(nd.UNAVAILABLE,"The operation could not be completed")))})),p(u,Vh.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];ed(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Yh(Rw,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=hg[e];if(void 0!==t)return pg(t)}(t),i=a.message;void 0===n&&(n=nd.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.Ro(new rd(n,i)),u.close()}else Yh(Rw,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.Vo(i)}})),p(a,Fh.STAT_EVENT,(t=>{t.stat===Uh.PROXY?Yh(Rw,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Uh.NOPROXY&&Yh(Rw,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ao()}),0),f}}function Pw(){return"undefined"!=typeof window?window:null}function Ow(){return"undefined"!=typeof document?document:null}function jw(e){return new Og(e,!0)}class Lw{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.si=e,this.timerId=t,this.Fo=n,this.Mo=r,this.xo=i,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Yh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Oo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.No=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Mw{constructor(e,t,n,r,i,s,a,o){this.si=e,this.Ko=n,this.$o=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Lw(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}async stop(){this.jo()&&await this.close(0)}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,(()=>this.Xo())))}e_(e){this.t_(),this.stream.send(e)}async Xo(){if(this.Ho())return this.close(0)}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}async close(e,t){this.t_(),this.n_(),this.zo.cancel(),this.Uo++,4!==e?this.zo.reset():t&&t.code===nd.RESOURCE_EXHAUSTED?(Jh(t.toString()),Jh("Using maximum backoff delay to prevent overloading the backend."),this.zo.Lo()):t&&t.code===nd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.r_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Io(t)}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Uo===t&&this.s_(n,r)}),(t=>{e((()=>{const e=new rd(nd.UNKNOWN,"Fetching auth token failed: "+t.message);return this.o_(e)}))}))}s_(e,t){const n=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho((()=>{n((()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,(()=>(this.Ho()&&(this.state=3),Promise.resolve()))),this.listener.ho())))})),this.stream.Io((e=>{n((()=>this.o_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Jo(){this.state=5,this.zo.ko((async()=>{this.state=0,this.start()}))}o_(e){return Yh("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget((()=>this.Uo===e?t():(Yh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fw extends Mw{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zh()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ed(void 0===t||"string"==typeof t),Vf.fromBase64String(t||"")):(ed(void 0===t||t instanceof Uint8Array),Vf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?nd.UNKNOWN:pg(e.code);return new rd(t,e.message||"")}(a);n=new Tg(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=qg(e,r.document.name),s=Ug(r.document.updateTime),a=r.document.createTime?Ug(r.document.createTime):wd.min(),o=new vp({mapValue:{fields:r.document.fields}}),l=wp.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Sg(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=qg(e,r.document),s=r.readTime?Ug(r.readTime):wd.min(),a=wp.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Sg([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=qg(e,r.document),s=r.removedTargetIds||[];n=new Sg([],s,i,null)}else{if(!("filter"in t))return Zh();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new ug(r,i),a=e.targetId;n=new xg(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wd.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?wd.min():t.readTime?Ug(t.readTime):wd.min()}(e);return this.listener.a_(t,n)}u_(e){const t={};t.database=Kg(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Qp(r)?{documents:$g(e,r)}:{query:Zg(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Mg(e,t.resumeToken);const r=jg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(wd.min())>0){n.readTime=Lg(e,t.snapshotVersion.toTimestamp());const r=jg(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zh()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.e_(t)}c_(e){const t={};t.database=Kg(this.serializer),t.removeTarget=e,this.e_(t)}}class Uw extends Mw{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(ed(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function(e,t){return e&&e.length>0?(ed(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Ug(e.updateTime):Ug(t);return n.isEqual(wd.min())&&(n=Ug(t)),new Hm(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Ug(e.commitTime);return this.listener.I_(n,t)}return ed(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Kg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Jg(this.serializer,e)))};this.e_(t)}}class Vw extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new rd(nd.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,n){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((r=>{let[i,s]=r;return this.connection.wo(e,t,n,i,s)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rd(nd.UNKNOWN,e.toString())}))}Co(e,t,n,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Co(e,t,n,s,a,r)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rd(nd.UNKNOWN,e.toString())}))}terminate(){this.d_=!0}}class Bw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve()))))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.f_?(Jh(t),this.f_=!1):Yh("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class zw{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=i,this.F_.ro((e=>{n.enqueueAndForget((async()=>{Xw(this)&&(Yh("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=td(e);t.C_.add(4),await Ww(t),t.M_.set("Unknown"),t.C_.delete(4),await qw(t)}(this))}))})),this.M_=new Bw(n,r)}}async function qw(e){if(Xw(e))for(const t of e.v_)await t(!0)}async function Ww(e){for(const t of e.v_)await t(!1)}function Hw(e,t){const n=td(e);n.D_.has(t.targetId)||(n.D_.set(t.targetId,t),Jw(n)?Yw(n):mb(n).Ho()&&Gw(n,t))}function Kw(e,t){const n=td(e),r=mb(n);n.D_.delete(t),r.Ho()&&Qw(n,t),0===n.D_.size&&(r.Ho()?r.Zo():Xw(n)&&n.M_.set("Unknown"))}function Gw(e,t){if(e.x_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wd.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mb(e).u_(t)}function Qw(e,t){e.x_.Oe(t),mb(e).c_(t)}function Yw(e){e.x_=new Ng({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.D_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),mb(e).start(),e.M_.g_()}function Jw(e){return Xw(e)&&!mb(e).jo()&&e.D_.size>0}function Xw(e){return 0===td(e).C_.size}function $w(e){e.x_=void 0}async function Zw(e){e.D_.forEach(((t,n)=>{Gw(e,t)}))}async function eb(e,t){$w(e),Jw(e)?(e.M_.w_(t),Yw(e)):e.M_.set("Unknown")}async function tb(e,t,n){if(e.M_.set("Online"),t instanceof Tg&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.D_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.D_.delete(r),e.x_.removeTarget(r))}(e,t)}catch(n){Yh("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await nb(e,n)}else if(t instanceof Sg?e.x_.$e(t):t instanceof xg?e.x_.Je(t):e.x_.Ge(t),!n.isEqual(wd.min()))try{const t=await sw(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.x_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.D_.get(r);i&&e.D_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.D_.get(t);if(!r)return;e.D_.set(t,r.withResumeToken(Vf.EMPTY_BYTE_STRING,r.snapshotVersion)),Qw(e,t);const i=new uv(r.target,t,n,r.sequenceNumber);Gw(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Yh("RemoteStore","Failed to raise snapshot:",t),await nb(e,t)}}async function nb(e,t,n){if(!zd(t))throw t;e.C_.add(1),await Ww(e),e.M_.set("Offline"),n||(n=()=>sw(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Yh("RemoteStore","Retrying IndexedDB access"),await n(),e.C_.delete(1),await qw(e)}))}function rb(e,t){return t().catch((n=>nb(e,n,t)))}async function ib(e){const t=td(e),n=gb(t);let r=t.b_.length>0?t.b_[t.b_.length-1].batchId:-1;for(;sb(t);)try{const e=await ow(t.localStore,r);if(null===e){0===t.b_.length&&n.Zo();break}r=e.batchId,ab(t,e)}catch(e){await nb(t,e)}ob(t)&&lb(t)}function sb(e){return Xw(e)&&e.b_.length<10}function ab(e,t){e.b_.push(t);const n=gb(e);n.Ho()&&n.h_&&n.P_(t.mutations)}function ob(e){return Xw(e)&&!gb(e).jo()&&e.b_.length>0}function lb(e){gb(e).start()}async function cb(e){gb(e).E_()}async function ub(e){const t=gb(e);for(const n of e.b_)t.P_(n.mutations)}async function hb(e,t,n){const r=e.b_.shift(),i=lg.from(r,t,n);await rb(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ib(e)}async function db(e,t){t&&gb(e).h_&&await async function(e,t){if(function(e){return fg(e)&&e!==nd.ABORTED}(t.code)){const n=e.b_.shift();gb(e).Yo(),await rb(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ib(e)}}(e,t),ob(e)&&lb(e)}async function fb(e,t){const n=td(e);n.asyncQueue.verifyOperationInProgress(),Yh("RemoteStore","RemoteStore received new credentials");const r=Xw(n);n.C_.add(3),await Ww(n),r&&n.M_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.C_.delete(3),await qw(n)}async function pb(e,t){const n=td(e);t?(n.C_.delete(2),await qw(n)):t||(n.C_.add(2),await Ww(n),n.M_.set("Unknown"))}function mb(e){return e.O_||(e.O_=function(e,t,n){const r=td(e);return r.A_(),new Fw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:Zw.bind(null,e),Io:eb.bind(null,e),a_:tb.bind(null,e)}),e.v_.push((async t=>{t?(e.O_.Yo(),Jw(e)?Yw(e):e.M_.set("Unknown")):(await e.O_.stop(),$w(e))}))),e.O_}function gb(e){return e.N_||(e.N_=function(e,t,n){const r=td(e);return r.A_(),new Uw(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{ho:cb.bind(null,e),Io:db.bind(null,e),T_:ub.bind(null,e),I_:hb.bind(null,e)}),e.v_.push((async t=>{t?(e.N_.Yo(),await ib(e)):(await e.N_.stop(),e.b_.length>0&&(Yh("RemoteStore","Stopping write stream with ".concat(e.b_.length," pending writes")),e.b_=[]))}))),e.N_}class vb{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new id,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new vb(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rd(nd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yb(e,t){if(Jh("AsyncQueue","".concat(t,": ").concat(e)),zd(e))return new rd(nd.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wb{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Sd.comparator(t.key,n.key):(e,t)=>Sd.comparator(e.key,t.key),this.keyedMap=wm(),this.sortedSet=new Df(this.comparator)}static emptySet(e){return new wb(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wb))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wb;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class bb{constructor(){this.B_=new Df(Sd.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Zh():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _b{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new _b(e,t,wb.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Eb{constructor(){this.k_=void 0,this.listeners=[]}}class Ib{constructor(){this.queries=new mm((e=>cm(e)),lm),this.onlineState="Unknown",this.q_=new Set}}async function Sb(e,t){const n=td(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Eb),i)try{s.k_=await n.onListen(r)}catch(e){const n=yb(e,"Initialization of query '".concat(um(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Q_(n.onlineState),s.k_&&t.K_(s.k_)&&Nb(n)}async function xb(e,t){const n=td(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Tb(e,t){const n=td(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.K_(i)&&(r=!0);t.k_=i}}r&&Nb(n)}function kb(e,t,n){const r=td(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Nb(e){e.q_.forEach((e=>{e.next()}))}class Cb{constructor(e,t,n){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=n||{}}K_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _b(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.J_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){if(e.docChanges.length>0)return!0;const t=this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}H_(e){e=_b.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ab{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class Rb{constructor(e){this.serializer=e}hs(e){return qg(this.serializer,e)}Ps(e){return e.metadata.exists?Yg(this.serializer,e.document,!1):wp.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Ug(e)}}class Db{constructor(e,t,n){this.X_=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Pb(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const n=_d.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,n=new Rb(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.hs(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Tm()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=td(e);let s=Tm(),a=vm();for(const c of n){const e=t.hs(c.metadata.name);c.document&&(s=s.add(e));const n=t.Ps(c);n.setReadTime(t.Is(c.metadata.readTime)),a=a.insert(e,n)}const o=i.ss.newChangeBuffer({trackRemovals:!0}),l=await lw(i,function(e){return im(em(_d.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>aw(e,o,a).next((t=>(o.apply(e),t))).next((t=>i.qr.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.qr.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.us,t.cs))).next((()=>t.us))))))}(this.localStore,new Rb(this.serializer),this.documents,this.X_.id),t=this.ta(this.documents);for(const n of this.queries)await pw(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,na:this.collectionGroups,ra:e}}}function Pb(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class Ob{constructor(e){this.key=e}}class jb{constructor(e){this.key=e}}class Lb{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=Tm(),this.mutatedKeys=Tm(),this._a=fm(e),this.aa=new wb(this._a)}get ua(){return this.ia}ca(e,t){const n=t?t.la:new bb,r=t?t.aa:this.aa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=hm(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.ha(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this._a(u,o)>0||l&&this._a(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{aa:s,la:n,Zi:a,mutatedKeys:i}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zh()}};return n(e)-n(t)}(e.type,t.type)||this._a(e.doc,t.doc))),this.Pa(n),r=null!=r&&r;const a=t&&!r?this.Ia():[],o=0===this.oa.size&&this.current&&!r?1:0,l=o!==this.sa;return this.sa=o,0!==s.length||l?{snapshot:new _b(this.query,e.aa,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ta:a}:{Ta:a}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new bb,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach((e=>this.ia=this.ia.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ia=this.ia.delete(e))),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=Tm(),this.aa.forEach((e=>{this.Ea(e.key)&&(this.oa=this.oa.add(e.key))}));const t=[];return e.forEach((e=>{this.oa.has(e)||t.push(new jb(e))})),this.oa.forEach((n=>{e.has(n)||t.push(new Ob(n))})),t}da(e){this.ia=e.ls,this.oa=Tm();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return _b.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Mb{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Fb{constructor(e){this.key=e,this.Ra=!1}}class Ub{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new mm((e=>cm(e)),lm),this.fa=new Map,this.ga=new Set,this.pa=new Df(Sd.comparator),this.ya=new Map,this.wa=new My,this.Sa={},this.ba=new Map,this.Da=dy.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}async function Vb(e,t){const n=d_(e);let r,i;const s=n.ma.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const e=await lw(n.localStore,im(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Bb(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Hw(n.remoteStore,e)}return i}async function Bb(e,t,n,r,i){e.va=(t,n,r)=>async function(e,t,n,r){let i=t.view.ca(n);i.Zi&&(i=await uw(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ca(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return $b(e,t.targetId,o.Ta),o.snapshot}(e,t,n,r);const s=await uw(e.localStore,t,!0),a=new Lb(t,s.ls),o=a.ca(s.documents),l=Ig.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);$b(e,n,c.Ta);const u=new Mb(t,n,a);return e.ma.set(t,u),e.fa.has(n)?e.fa.get(n).push(t):e.fa.set(n,[t]),c.snapshot}async function zb(e,t){const n=td(e),r=n.ma.get(t),i=n.fa.get(r.targetId);if(i.length>1)return n.fa.set(r.targetId,i.filter((e=>!lm(e,t)))),void n.ma.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cw(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Kw(n.remoteStore,r.targetId),Jb(n,r.targetId)})).catch(Ld)):(Jb(n,r.targetId),await cw(n.localStore,r.targetId,!0))}async function qb(e,t){const n=td(e);try{const e=await function(e,t){const n=td(e),r=t.snapshotVersion;let i=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.ss.newChangeBuffer({trackRemovals:!0});i=n.ts;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.qr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.qr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Vf.EMPTY_BYTE_STRING,wd.min()).withLastLimboFreeSnapshotVersion(wd.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.qr.updateTargetData(e,c))}));let o=vm(),l=Tm();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(aw(e,s,t.documentUpdates).next((e=>{o=e.us,l=e.cs}))),!r.isEqual(wd.min())){const t=n.qr.getLastRemoteSnapshotVersion(e).next((t=>n.qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return Md.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ya.get(t);r&&(ed(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ra=!0:e.modifiedDocuments.size>0?ed(r.Ra):e.removedDocuments.size>0&&(ed(r.Ra),r.Ra=!1))})),await t_(n,e,t)}catch(e){await Ld(e)}}function Wb(e,t,n){const r=td(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ma.forEach(((n,r)=>{const i=r.view.Q_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=td(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Q_(t)&&(r=!0)})),r&&Nb(n)}(r.eventManager,t),e.length&&r.Va.a_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Hb(e,t,n){const r=td(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ya.get(t),s=i&&i.key;if(s){let e=new Df(Sd.comparator);e=e.insert(s,wp.newNoDocument(s,wd.min()));const n=Tm().add(s),i=new Eg(wd.min(),new Map,new Df(md),e,n);await qb(r,i),r.pa=r.pa.remove(s),r.ya.delete(t),e_(r)}else await cw(r.localStore,t,!1).then((()=>Jb(r,t,n))).catch(Ld)}async function Kb(e,t){const n=td(e),r=t.batch.batchId;try{const e=await function(e,t){const n=td(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ss.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=Md.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);ed(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Tm();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Yb(n,r,null),Qb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await t_(n,e)}catch(e){await Ld(e)}}async function Gb(e,t,n){const r=td(e);try{const e=await function(e,t){const n=td(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(ed(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Yb(r,t,n),Qb(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await t_(r,e)}catch(n){await Ld(n)}}function Qb(e,t){(e.ba.get(t)||[]).forEach((e=>{e.resolve()})),e.ba.delete(t)}function Yb(e,t,n){const r=td(e);let i=r.Sa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Sa[r.currentUser.toKey()]=i}}function Jb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.fa.get(t))e.ma.delete(r),n&&e.Va.Fa(r,n);e.fa.delete(t),e.isPrimaryClient&&e.wa.Rr(t).forEach((t=>{e.wa.containsKey(t)||Xb(e,t)}))}function Xb(e,t){e.ga.delete(t.path.canonicalString());const n=e.pa.get(t);null!==n&&(Kw(e.remoteStore,n),e.pa=e.pa.remove(t),e.ya.delete(n),e_(e))}function $b(e,t,n){for(const r of n)r instanceof Ob?(e.wa.addReference(r.key,t),Zb(e,r)):r instanceof jb?(Yh("SyncEngine","Document no longer in limbo: "+r.key),e.wa.removeReference(r.key,t),e.wa.containsKey(r.key)||Xb(e,r.key)):Zh()}function Zb(e,t){const n=t.key,r=n.path.canonicalString();e.pa.get(n)||e.ga.has(r)||(Yh("SyncEngine","New document in limbo: "+n),e.ga.add(r),e_(e))}function e_(e){for(;e.ga.size>0&&e.pa.size<e.maxConcurrentLimboResolutions;){const t=e.ga.values().next().value;e.ga.delete(t);const n=new Sd(_d.fromString(t)),r=e.Da.next();e.ya.set(r,new Fb(n)),e.pa=e.pa.insert(n,r),Hw(e.remoteStore,new uv(im(em(n.path)),r,"TargetPurposeLimboResolution",Yd._e))}}async function t_(e,t,n){const r=td(e),i=[],s=[],a=[];r.ma.isEmpty()||(r.ma.forEach(((e,o)=>{a.push(r.va(o,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Zy.Qi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Va.a_(i),await async function(e,t){const n=td(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Md.forEach(t,(t=>Md.forEach(t.ki,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Md.forEach(t.qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!zd(e))throw e;Yh("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ts=n.ts.insert(e,i)}}}(r.localStore,s))}async function n_(e,t){const n=td(e);if(!n.currentUser.isEqual(t)){Yh("SyncEngine","User change. New user:",t.toKey());const e=await iw(n.localStore,t);n.currentUser=t,function(e,t){e.ba.forEach((e=>{e.forEach((e=>{e.reject(new rd(nd.CANCELLED,t))}))})),e.ba.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await t_(n,e._s)}}function r_(e,t){const n=td(e),r=n.ya.get(t);if(r&&r.Ra)return Tm().add(r.key);{let e=Tm();const r=n.fa.get(t);if(!r)return e;for(const t of r){const r=n.ma.get(t);e=e.unionWith(r.view.ua)}return e}}async function i_(e,t){const n=td(e),r=await uw(n.localStore,t.query,!0),i=t.view.da(r);return n.isPrimaryClient&&$b(n,t.targetId,i.Ta),i}async function s_(e,t){const n=td(e);return dw(n.localStore,t).then((e=>t_(n,e)))}async function a_(e,t,n,r){const i=td(e),s=await function(e,t){const n=td(e),r=td(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Cn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Md.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await ib(i.remoteStore):"acknowledged"===n||"rejected"===n?(Yb(i,t,r||null),Qb(i,t),function(e,t){td(td(e).mutationQueue).Fn(t)}(i.localStore,t)):Zh(),await t_(i,s)):Yh("SyncEngine","Cannot apply mutation batch with id: "+t)}async function o_(e,t,n){const r=td(e),i=[],s=[];for(const a of t){let e;const t=r.fa.get(a);if(t&&0!==t.length){e=await lw(r.localStore,im(t[0]));for(const e of t){const t=r.ma.get(e),n=await i_(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await hw(r.localStore,a);e=await lw(r.localStore,t),await Bb(r,l_(t),a,!1,e.resumeToken)}i.push(e)}return r.Va.a_(s),i}function l_(e){return Zp(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function c_(e){return function(e){return td(td(e).persistence).Bi()}(td(e).localStore)}async function u_(e,t,n,r){const i=td(e);if(i.Ca)return void Yh("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await dw(i.localStore,dm(s[0])),r=Eg.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Vf.EMPTY_BYTE_STRING);await t_(i,e,r);break}case"rejected":await cw(i.localStore,t,!0),Jb(i,t,r);break;default:Zh()}}async function h_(e,t,n){const r=d_(e);if(r.Ca){for(const e of t){if(r.fa.has(e)){Yh("SyncEngine","Adding an already active target "+e);continue}const t=await hw(r.localStore,e),n=await lw(r.localStore,t);await Bb(r,l_(t),n.targetId,!1,n.resumeToken),Hw(r.remoteStore,n)}for(const e of n)r.fa.has(e)&&await cw(r.localStore,e,!1).then((()=>{Kw(r.remoteStore,e),Jb(r,e)})).catch(Ld)}}function d_(e){const t=td(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=r_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Hb.bind(null,t),t.Va.a_=Tb.bind(null,t.eventManager),t.Va.Fa=kb.bind(null,t.eventManager),t}function f_(e){const t=td(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Kb.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Gb.bind(null,t),t}class p_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jw(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rw(this.persistence,new tw,e.initialUser,this.serializer)}createPersistence(e){return new qy(Hy.jr,this.serializer)}createSharedClientState(e){return new Sw}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class m_ extends p_{constructor(e,t,n){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xa.initialize(this,e),await f_(this.xa.syncEngine),await ib(this.xa.remoteStore),await this.persistence.mi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return rw(this.persistence,new tw,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new wy(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new Qd(t,this.persistence);return new Gd(e.asyncQueue,n)}createPersistence(e){const t=$y(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?iy.withCacheSize(this.cacheSizeBytes):iy.DEFAULT;return new Yy(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Pw(),Ow(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Sw}}class g_ extends m_{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xa.syncEngine;this.sharedClientState instanceof Iw&&(this.sharedClientState.syncEngine={Ys:a_.bind(null,t),Zs:u_.bind(null,t),Xs:h_.bind(null,t),Bi:c_.bind(null,t),Js:s_.bind(null,t)},await this.sharedClientState.start()),await this.persistence.mi((async e=>{await async function(e,t){const n=td(e);if(d_(n),f_(n),!0===t&&!0!==n.Ca){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await o_(n,e.toArray());n.Ca=!0,await pb(n.remoteStore,!0);for(const r of t)Hw(n.remoteStore,r)}else if(!1===t&&!1!==n.Ca){const e=[];let t=Promise.resolve();n.fa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Jb(n,i),cw(n.localStore,i,!0)))),Kw(n.remoteStore,i)})),await t,await o_(n,e),function(e){const t=td(e);t.ya.forEach(((e,n)=>{Kw(t.remoteStore,n)})),t.wa.Vr(),t.ya=new Map,t.pa=new Df(Sd.comparator)}(n),n.Ca=!1,await pb(n.remoteStore,!1)}}(this.xa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=Pw();if(!Iw.D(t))throw new rd(nd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=$y(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Iw(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class v_{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Wb(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=n_.bind(null,this.syncEngine),await pb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ib}createDatastore(e){const t=jw(e.databaseInfo.databaseId),n=function(e){return new Dw(e)}(e.databaseInfo);return function(e,t,n,r){return new Vw(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new zw(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Wb(this.syncEngine,e,0)),Tw.D()?new Tw:new xw)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Ub(e,t,n,r,i,s);return a&&(o.Ca=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=td(e);Yh("RemoteStore","RemoteStore shutting down."),t.C_.add(5),await Ww(t),t.F_.shutdown(),t.M_.set("Unknown")}(this.remoteStore)}}function y_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Jh("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class b_{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new id,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then((e=>{e&&e.Z_()?this.metadata.resolve(e.Y_.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Y_))))}),(e=>this.metadata.reject(e)))}close(){return this.Ba.cancel()}async getMetadata(){return this.metadata.promise}async Ma(){return await this.getMetadata(),this.ka()}async ka(){const e=await this.qa();if(null===e)return null;const t=this.La.decode(e),n=Number(t);isNaN(n)&&this.Qa("length string (".concat(t,") is not valid number"));const r=await this.Ka(n);return new Ab(JSON.parse(r),e.length+n)}$a(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async qa(){for(;this.$a()<0&&!await this.Ua(););if(0===this.buffer.length)return null;const e=this.$a();e<0&&this.Qa("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ka(e){for(;this.buffer.length<e;)await this.Ua()&&this.Qa("Reached the end of bundle when more is expected.");const t=this.La.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Qa(e){throw this.Ba.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ua(){const e=await this.Ba.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class __{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new rd(nd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=td(e),r=Kg(n.serializer)+"/documents",i={documents:t.map((e=>zg(n.serializer,e)))},s=await n.Co("BatchGetDocuments",r,i,t.length),a=new Map;s.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){ed(!!t.found),t.found.name,t.found.updateTime;const n=qg(e,t.found.name),r=Ug(t.found.updateTime),i=t.found.createTime?Ug(t.found.createTime):wd.min(),s=new vp({mapValue:{fields:t.found.fields}});return wp.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){ed(!!t.missing),ed(!!t.readTime);const n=qg(e,t.missing),r=Ug(t.readTime);return wp.newNoDocument(n,r)}(e,t):Zh()}(n.serializer,e);a.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=a.get(e.toString());ed(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new sg(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=Sd.fromPath(t);this.mutations.push(new ag(n,this.precondition(n)))})),await async function(e,t){const n=td(e),r=Kg(n.serializer)+"/documents",i={writes:t.map((e=>Jg(n.serializer,e)))};await n.wo("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zh();t=wd.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new rd(nd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wd.min())?Km.exists(!1):Km.updateTime(t):Km.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wd.min()))throw new rd(nd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Km.updateTime(t)}return Km.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class E_{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Wa=n.maxAttempts,this.zo=new Lw(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){this.zo.ko((async()=>{const e=new __(this.datastore),t=this.za(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.ja(e)}))))})).catch((e=>{this.ja(e)}))}))}za(e){try{const t=this.updateFunction(e);return!Jd(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ga(),Promise.resolve())))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!fg(t)}return!1}}class I_{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Hh.UNAUTHENTICATED,this.clientId=pd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Yh("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Yh("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rd(nd.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new id;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=yb(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function S_(e,t){e.asyncQueue.verifyOperationInProgress(),Yh("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await iw(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function x_(e,t){e.asyncQueue.verifyOperationInProgress();const n=await k_(e);Yh("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>fb(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>fb(t.remoteStore,n))),e._onlineComponents=t}function T_(e){return"FirebaseError"===e.name?e.code===nd.FAILED_PRECONDITION||e.code===nd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function k_(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Yh("FirestoreClient","Using user provided OfflineComponentProvider");try{await S_(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!T_(n))throw n;Xh("Error using user provided cache. Falling back to memory cache: "+n),await S_(e,new p_)}}else Yh("FirestoreClient","Using default OfflineComponentProvider"),await S_(e,new p_);return e._offlineComponents}async function N_(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Yh("FirestoreClient","Using user provided OnlineComponentProvider"),await x_(e,e._uninitializedComponentsProvider._online)):(Yh("FirestoreClient","Using default OnlineComponentProvider"),await x_(e,new v_))),e._onlineComponents}function C_(e){return k_(e).then((e=>e.persistence))}function A_(e){return k_(e).then((e=>e.localStore))}function R_(e){return N_(e).then((e=>e.remoteStore))}function D_(e){return N_(e).then((e=>e.syncEngine))}function P_(e){return N_(e).then((e=>e.datastore))}async function O_(e){const t=await N_(e),n=t.eventManager;return n.onListen=Vb.bind(null,t.syncEngine),n.onUnlisten=zb.bind(null,t.syncEngine),n}function j_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new id;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new w_({next:s=>{t.enqueueAndForget((()=>xb(e,a)));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new rd(nd.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new rd(nd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new Cb(em(n.path),s,{includeMetadataChanges:!0,J_:!0});return Sb(e,a)}(await O_(e),e.asyncQueue,t,n,r))),r.promise}function L_(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new id;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new w_({next:n=>{t.enqueueAndForget((()=>xb(e,a))),n.fromCache&&"server"===r.source?i.reject(new rd(nd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Cb(n,s,{includeMetadataChanges:!0,J_:!0});return Sb(e,a)}(await O_(e),e.asyncQueue,t,n,r))),r.promise}function M_(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?gg().encode(e):e,function(e,t){return new b_(e,t)}(function(e,t){if(e instanceof Uint8Array)return y_(e,t);if(e instanceof ArrayBuffer)return y_(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,jw(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=td(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=td(e),r=Ug(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Kr.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(Pb(r));const i=new Db(r,e.localStore,t.serializer);let s=await t.Ma();for(;s;){const e=await i.ea(s);e&&n._updateProgress(e),s=await t.Ma()}const a=await i.complete();return await t_(e,a.ra,void 0),await function(e,t){const n=td(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Kr.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(a.progress),Promise.resolve(a.na)}catch(e){return Xh("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await D_(e),i,r)}))}function F_(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const U_=new Map;function V_(e,t,n){if(!n)throw new rd(nd.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function B_(e,t,n,r){if(!0===t&&!0===r)throw new rd(nd.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function z_(e){if(!Sd.isDocumentKey(e))throw new rd(nd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function q_(e){if(Sd.isDocumentKey(e))throw new rd(nd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function W_(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Zh()}function H_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rd(nd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=W_(e);throw new rd(nd.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function K_(e,t){if(t<=0)throw new rd(nd.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class G_{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rd(nd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rd(nd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B_("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F_(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rd(nd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rd(nd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rd(nd.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Q_{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rd(nd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rd(nd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ad;switch(e.type){case"firstParty":return new ud(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rd(nd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=U_.get(e);t&&(Yh("ComponentProvider","Removing Datastore"),U_.delete(e),t.terminate())}(this),Promise.resolve()}}function Y_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=H_(e,Q_))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&Xh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Hh.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Oe(JSON.stringify({alg:"none",type:"JWT"})),Oe(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rd(nd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Hh(s)}e._authCredentials=new od(new sd(t,n))}}class J_{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new J_(this.firestore,e,this._query)}}class X_{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $_(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new X_(this.firestore,e,this._key)}}class $_ extends J_{constructor(e,t,n){super(e,t,em(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new X_(this.firestore,null,new Sd(e))}withConverter(e){return new $_(this.firestore,e,this._path)}}function Z_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),V_("collection","path",t),e instanceof Q_){const n=_d.fromString(t,...r);return q_(n),new $_(e,null,n)}{if(!(e instanceof X_||e instanceof $_))throw new rd(nd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_d.fromString(t,...r));return q_(n),new $_(e.firestore,null,n)}}function eE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=st(e),1===arguments.length&&(t=pd.newId()),V_("doc","path",t),e instanceof Q_){const n=_d.fromString(t,...r);return z_(n),new X_(e,null,new Sd(n))}{if(!(e instanceof X_||e instanceof $_))throw new rd(nd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_d.fromString(t,...r));return z_(n),new X_(e.firestore,e instanceof $_?e.converter:null,new Sd(n))}}function tE(e,t){return e=st(e),t=st(t),(e instanceof X_||e instanceof $_)&&(t instanceof X_||t instanceof $_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function nE(e,t){return e=st(e),t=st(t),e instanceof J_&&t instanceof J_&&e.firestore===t.firestore&&lm(e._query,t._query)&&e.converter===t.converter}class rE{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Lw(this,"async_queue_retry"),this.iu=()=>{const e=Ow();e&&Yh("AsyncQueue","Visibility state changed to "+e.visibilityState),this.zo.Qo()};const e=Ow();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=Ow();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise((()=>{}));const t=new id;return this.ou((()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ya.push(e),this._u())))}async _u(){if(0!==this.Ya.length){try{await this.Ya[0](),this.Ya.shift(),this.zo.reset()}catch(e){if(!zd(e))throw e;Yh("AsyncQueue","Operation failed with retryable error: "+e)}this.Ya.length>0&&this.zo.ko((()=>this._u()))}}ou(e){const t=this.Ja.then((()=>(this.tu=!0,e().catch((e=>{this.eu=e,this.tu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Jh("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.tu=!1,e))))));return this.Ja=t,t}enqueueAfterDelay(e,t,n){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=vb.createAndSchedule(this,e,t,n,(e=>this.au(e)));return this.Xa.push(r),r}su(){this.eu&&Zh()}verifyOperationInProgress(){}async uu(){let e;do{e=this.Ja,await e}while(e!==this.Ja)}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then((()=>{this.Xa.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()}))}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function iE(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class sE{constructor(){this._progressObserver={},this._taskCompletionResolver=new id,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class aE extends Q_{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new rE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lE(this),this._firestoreClient.terminate()}}function oE(e){return e._firestoreClient||lE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function lE(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Qf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,F_(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new I_(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function cE(e,t,n){const r=new id;return e.asyncQueue.enqueue((async()=>{try{await S_(e,n),await x_(e,t),r.resolve()}catch(e){const n=e;if(!T_(n))throw n;Xh("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function uE(e){return function(e){const t=new id;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=td(e);Xw(n.remoteStore)||Yh("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=td(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.ba.get(e)||[];r.push(t),n.ba.set(e,r)}catch(e){const n=yb(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await D_(e),t))),t.promise}(oE(e=H_(e,aE)))}function hE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await C_(e),n=await R_(e);return t.setNetworkEnabled(!0),function(e){const t=td(e);return t.C_.delete(0),qw(t)}(n)}))}(oE(e=H_(e,aE)))}function dE(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await C_(e),n=await R_(e);return t.setNetworkEnabled(!1),async function(e){const t=td(e);t.C_.add(0),await Ww(t),t.M_.set("Offline")}(n)}))}(oE(e=H_(e,aE)))}function fE(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=td(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Kr.getNamedQuery(e,t)))}(await A_(e),t)))}(oE(e=H_(e,aE)),t).then((t=>t?new J_(e,null,t.query):null))}function pE(e){if(e._initialized||e._terminated)throw new rd(nd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class mE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new mE(Vf.fromBase64String(e))}catch(e){throw new rd(nd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new mE(Vf.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class gE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new rd(nd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Id(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class vE{constructor(e){this._methodName=e}}class yE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rd(nd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rd(nd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return md(this._lat,e._lat)||md(this._long,e._long)}}const wE=/^__.*__$/;class bE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new tg(e,this.data,this.fieldMask,t,this.fieldTransforms):new eg(e,this.data,t,this.fieldTransforms)}}class _E{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new tg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function EE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zh()}}class IE{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new IE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Au(e),r}Ru(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:n,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return qE(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(EE(this.Iu)&&wE.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class SE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||jw(e)}pu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new IE({Iu:e,methodName:t,gu:n,path:Id.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xE(e){const t=e._freezeSettings(),n=jw(e._databaseId);return new SE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function TE(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.pu(s.merge||s.mergeFields?2:0,t,n,i);UE("Data must be an object, but it was:",a,r);const o=ME(r,a);let l,c;if(s.merge)l=new Ff(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=VE(t,r,n);if(!a.contains(i))throw new rd(nd.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));WE(e,i)||e.push(i)}l=new Ff(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new bE(new vp(o),l,c)}class kE extends vE{_toFieldTransform(e){if(2!==e.Iu)throw 1===e.Iu?e.mu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.mu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kE}}function NE(e,t,n){return new IE({Iu:3,gu:t.settings.gu,methodName:e._methodName,du:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class CE extends vE{_toFieldTransform(e){return new Wm(e.path,new Lm)}isEqual(e){return e instanceof CE}}class AE extends vE{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=NE(this,e,!0),n=this.yu.map((e=>LE(e,t))),r=new Mm(n);return new Wm(e.path,r)}isEqual(e){return this===e}}class RE extends vE{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=NE(this,e,!0),n=this.yu.map((e=>LE(e,t))),r=new Um(n);return new Wm(e.path,r)}isEqual(e){return this===e}}class DE extends vE{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new Bm(e.serializer,Rm(e.serializer,this.wu));return new Wm(e.path,t)}isEqual(e){return this===e}}function PE(e,t,n,r){const i=e.pu(1,t,n);UE("Data must be an object, but it was:",i,r);const s=[],a=vp.empty();Af(r,((e,r)=>{const o=zE(t,e,n);r=st(r);const l=i.Ru(o);if(r instanceof kE)s.push(o);else{const e=LE(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new Ff(s);return new _E(a,o,i.fieldTransforms)}function OE(e,t,n,r,i,s){const a=e.pu(1,t,n),o=[VE(t,r,n)],l=[i];if(s.length%2!=0)throw new rd(nd.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(VE(t,s[d])),l.push(s[d+1]);const c=[],u=vp.empty();for(let d=o.length-1;d>=0;--d)if(!WE(c,o[d])){const e=o[d];let t=l[d];t=st(t);const n=a.Ru(e);if(t instanceof kE)c.push(e);else{const r=LE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Ff(c);return new _E(u,h,a.fieldTransforms)}function jE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return LE(n,e.pu(r?4:3,t))}function LE(e,t){if(FE(e=st(e)))return UE("Unsupported field value:",t,e),ME(e,t);if(e instanceof vE)return function(e,t){if(!EE(t.Iu))throw t.mu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.mu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.du&&4!==t.Iu)throw t.mu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=LE(i,t.Vu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=st(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rm(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=yd.fromDate(e);return{timestampValue:Lg(t.serializer,n)}}if(e instanceof yd){const n=new yd(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lg(t.serializer,n)}}if(e instanceof yE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mE)return{bytesValue:Mg(t.serializer,e._byteString)};if(e instanceof X_){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.mu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Vg(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.mu("Unsupported field value: ".concat(W_(e)))}(e,t)}function ME(e,t){const n={};return Rf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Af(e,((e,r)=>{const i=LE(r,t.Eu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function FE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yd||e instanceof yE||e instanceof mE||e instanceof X_||e instanceof vE)}function UE(e,t,n){if(!FE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=W_(n);throw"an object"===r?t.mu(e+" a custom object"):t.mu(e+" "+r)}}function VE(e,t,n){if((t=st(t))instanceof gE)return t._internalPath;if("string"==typeof t)return zE(e,t);throw qE("Field path arguments must be of type string or ",e,!1,void 0,n)}const BE=new RegExp("[~\\*/\\[\\]]");function zE(e,t,n){if(t.search(BE)>=0)throw qE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new gE(...t.split("."))._internalPath}catch(Fo){throw qE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function qE(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new rd(nd.INVALID_ARGUMENT,o+e+l)}function WE(e,t){return e.some((e=>e.isEqual(t)))}class HE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new X_(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new KE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(GE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class KE extends HE{data(){return super.data()}}function GE(e,t){return"string"==typeof t?zE(e,t):t instanceof gE?t._internalPath:t._delegate._internalPath}function QE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rd(nd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class YE{}class JE extends YE{}function XE(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof YE&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof ZE)).length,n=e.filter((e=>e instanceof $E)).length;if(t>1||t>0&&n>0)throw new rd(nd.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class $E extends JE{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new $E(e,t,n)}_apply(e){const t=this._parse(e);return oI(e._query,t),new J_(e.firestore,e.converter,am(e._query,t))}_parse(e){const t=xE(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rd(nd.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){aI(a,s);const t=[];for(const n of a)t.push(sI(r,e,n));o={arrayValue:{values:t}}}else o=sI(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||aI(a,s),o=jE(n,t,a,"in"===s||"not-in"===s);return Tp.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class ZE extends YE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ZE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:kp.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)oI(n,i),n=am(n,i)}(e._query,t),new J_(e.firestore,e.converter,am(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class eI extends JE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new eI(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ip(t,n)}(e._query,this._field,this._direction);return new J_(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new $p(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class tI extends JE{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new tI(e,t,n)}_apply(e){return new J_(e.firestore,e.converter,om(e._query,this._limit,this._limitType))}}class nI extends JE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new nI(e,t,n)}_apply(e){const t=iI(e,this.type,this._docOrFields,this._inclusive);return new J_(e.firestore,e.converter,function(e,t){return new $p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class rI extends JE{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new rI(e,t,n)}_apply(e){const t=iI(e,this.type,this._docOrFields,this._inclusive);return new J_(e.firestore,e.converter,function(e,t){return new $p(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function iI(e,t,n,r){if(n[0]=st(n[0]),n[0]instanceof HE)return function(e,t,n,r,i){if(!r)throw new rd(nd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const a of rm(e))if(a.field.isKeyField())s.push(sp(t,r.key));else{const e=r.data.field(a.field);if(Hf(e))throw new rd(nd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=a.field.canonicalString();throw new rd(nd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new bp(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=xE(e.firestore);return function(e,t,n,r,i,s){const a=e.explicitOrderBy;if(i.length>a.length)throw new rd(nd.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const o=[];for(let l=0;l<i.length;l++){const s=i[l];if(a[l].field.isKeyField()){if("string"!=typeof s)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!nm(e)&&-1!==s.indexOf("/"))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(_d.fromString(s));if(!Sd.isDocumentKey(n))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new Sd(n);o.push(sp(t,i))}else{const e=jE(n,r,s);o.push(e)}}return new bp(o,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function sI(e,t,n){if("string"==typeof(n=st(n))){if(""===n)throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nm(t)&&-1!==n.indexOf("/"))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(_d.fromString(n));if(!Sd.isDocumentKey(r))throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return sp(e,new Sd(r))}if(n instanceof X_)return sp(e,n._key);throw new rd(nd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(W_(n),"."))}function aI(e,t){if(!Array.isArray(e)||0===e.length)throw new rd(nd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function oI(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rd(nd.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rd(nd.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class lI{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch($f(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zh()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Af(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new yE(qf(e.latitude),qf(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Kf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gf(e));default:return null}}convertTimestamp(e){const t=zf(e);return new yd(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=_d.fromString(e);ed(cv(n));const r=new Yf(n.get(1),n.get(3)),i=new Sd(n.popFirst(5));return r.isEqual(t)||Jh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function cI(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class uI extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new mE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new X_(this.firestore,null,t)}}class hI{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dI extends HE{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new fI(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(GE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class fI extends dI{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class pI{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hI(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new fI(this._firestore,this._userDataWriter,n.key,n,new hI(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rd(nd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new fI(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hI(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new fI(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hI(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:mI(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function mI(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zh()}}function gI(e,t){return e instanceof dI&&t instanceof dI?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof pI&&t instanceof pI&&e._firestore===t._firestore&&nE(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class vI extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new mE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new X_(this.firestore,null,t)}}function yI(e){e=H_(e,X_);const t=H_(e.firestore,aE),n=oE(t),r=new vI(t);return function(e,t){const n=new id;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=td(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new rd(nd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=yb(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await A_(e),t,n))),n.promise}(n,e._key).then((n=>new dI(t,r,e._key,n,new hI(null!==n&&n.hasLocalMutations,!0),e.converter)))}function wI(e){e=H_(e,J_);const t=H_(e.firestore,aE),n=oE(t),r=new vI(t);return function(e,t){const n=new id;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await uw(e,t,!0),i=new Lb(t,r.ls),s=i.ca(r.documents),a=i.applyChanges(s,!1);n.resolve(a.snapshot)}catch(e){const r=yb(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await A_(e),t,n))),n.promise}(n,e._query).then((n=>new pI(t,r,e,n)))}function bI(e,t,n){e=H_(e,X_);const r=H_(e.firestore,aE),i=cI(e.converter,t,n);return SI(r,[TE(xE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Km.none())])}function _I(e,t,n){e=H_(e,X_);const r=H_(e.firestore,aE),i=xE(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=st(t))||t instanceof gE?OE(i,"updateDoc",e._key,t,n,o):PE(i,"updateDoc",e._key,t),SI(r,[s.toMutation(e._key,Km.exists(!0))])}function EI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=st(e);let o={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||iE(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges};if(iE(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,h,d;if(e instanceof X_)h=H_(e.firestore,aE),d=em(e._key.path),u={next:t=>{n[l]&&n[l](xI(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=H_(e,J_);h=H_(t.firestore,aE),d=t._query;const r=new vI(h);u={next:e=>{n[l]&&n[l](new pI(h,r,t,e))},error:n[l+1],complete:n[l+2]},QE(e._query)}return function(e,t,n,r){const i=new w_(r),s=new Cb(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Sb(await O_(e),s))),()=>{i.Na(),e.asyncQueue.enqueueAndForget((async()=>xb(await O_(e),s)))}}(oE(h),d,c,u)}function II(e,t){return function(e,t){const n=new w_(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){td(e).q_.add(t),t.next()}(await O_(e),n))),()=>{n.Na(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){td(e).q_.delete(t)}(await O_(e),n)))}}(oE(e=H_(e,aE)),iE(t)?t:{next:t})}function SI(e,t){return function(e,t){const n=new id;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=f_(e);try{const e=await function(e,t){const n=td(e),r=yd.now(),i=t.reduce(((e,t)=>e.add(t.key)),Tm());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=vm(),l=Tm();return n.ss.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=$m(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new tg(e.key,t,yp(t.value.mapValue),Km.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:bm(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Sa[e.currentUser.toKey()];r||(r=new Df(md)),r=r.insert(t,n),e.Sa[e.currentUser.toKey()]=r}(r,e.batchId,n),await t_(r,e.changes),await ib(r.remoteStore)}catch(e){const t=yb(e,"Failed to persist write");n.reject(t)}}(await D_(e),t,n))),n.promise}(oE(e),t)}function xI(e,t,n){const r=n.docs.get(t._key),i=new vI(e);return new dI(e,i,t._key,r,new hI(n.hasPendingWrites,n.fromCache),t.converter)}const TI={maxAttempts:5};class kI{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=xE(e)}set(e,t,n){this._verifyNotCommitted();const r=NI(e,this._firestore),i=cI(r.converter,t,n),s=TE(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Km.none())),this}update(e,t,n){this._verifyNotCommitted();const r=NI(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=st(t))||t instanceof gE?OE(this._dataReader,"WriteBatch.update",r._key,t,n,a):PE(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Km.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=NI(e,this._firestore);return this._mutations=this._mutations.concat(new sg(t._key,Km.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rd(nd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function NI(e,t){if((e=st(e)).firestore!==t)throw new rd(nd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class CI extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=xE(e)}get(e){const t=NI(e,this._firestore),n=new uI(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Zh();const r=e[0];if(r.isFoundDocument())return new HE(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new HE(this._firestore,n,t._key,null,t.converter);throw Zh()}))}set(e,t,n){const r=NI(e,this._firestore),i=cI(r.converter,t,n),s=TE(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=NI(e,this._firestore);let i;for(var s=arguments.length,a=new Array(s>3?s-3:0),o=3;o<s;o++)a[o-3]=arguments[o];return i="string"==typeof(t=st(t))||t instanceof gE?OE(this._dataReader,"Transaction.update",r._key,t,n,a):PE(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=NI(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=NI(e,this._firestore),n=new vI(this._firestore);return super.get(e).then((e=>new dI(this._firestore,n,t._key,e._document,new hI(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Kh=e}(Jt),Wt(new at("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new aE(new ld(e.getProvider("auth-internal")),new dd(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rd(nd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yf(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),tn(Wh,"4.4.0",e),tn(Wh,"4.4.0","esm2017")}();function AI(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new rd("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function RI(){if("undefined"===typeof Uint8Array)throw new rd("unimplemented","Uint8Arrays are not available in this environment.")}function DI(){if("undefined"==typeof atob)throw new rd("unimplemented","Blobs are unavailable in Firestore in this environment.")}class PI{constructor(e){this._delegate=e}static fromBase64String(e){return DI(),new PI(mE.fromBase64String(e))}static fromUint8Array(e){return RI(),new PI(mE.fromUint8Array(e))}toBase64(){return DI(),this._delegate.toBase64()}toUint8Array(){return RI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function OI(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class jI{enableIndexedDbPersistence(e,t){return function(e,t){pE(e=H_(e,aE));const n=oE(e);if(n._uninitializedComponentsProvider)throw new rd(nd.FAILED_PRECONDITION,"SDK cache is already specified.");Xh("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new v_;return cE(n,i,new m_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){pE(e=H_(e,aE));const t=oE(e);if(t._uninitializedComponentsProvider)throw new rd(nd.FAILED_PRECONDITION,"SDK cache is already specified.");Xh("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new v_;return cE(t,r,new g_(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new rd(nd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new id;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Ud.D())return Promise.resolve();const t=e+"main";await Ud.delete(t)}($y(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class LI{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Yf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||Xh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Y_(this._delegate,e,t,n)}enableNetwork(){return hE(this._delegate)}disableNetwork(){return dE(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,B_("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return uE(this._delegate)}onSnapshotsInSync(e){return II(this._delegate,e)}get app(){if(!this._appCompat)throw new rd("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new JI(this,Z_(this._delegate,e))}catch(t){throw zI(t,"collection()","Firestore.collection()")}}doc(e){try{return new BI(this,eE(this._delegate,e))}catch(t){throw zI(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new GI(this,function(e,t){if(e=H_(e,Q_),V_("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new rd(nd.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new J_(e,null,function(e){return new $p(_d.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw zI(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=H_(e,aE);const r=Object.assign(Object.assign({},TI),n);return function(e){if(e.maxAttempts<1)throw new rd(nd.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new id;return e.asyncQueue.enqueueAndForget((async()=>{const i=await P_(e);new E_(e.asyncQueue,i,n,t,r).run()})),r.promise}(oE(e),(n=>t(new CI(e,n))),r)}(this._delegate,(t=>e(new FI(this,t))))}batch(){return oE(this._delegate),new UI(new kI(this._delegate,(e=>SI(this._delegate,e))))}loadBundle(e){return function(e,t){const n=oE(e=H_(e,aE)),r=new sE;return M_(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return fE(this._delegate,e).then((e=>e?new GI(this,e):null))}}class MI extends lI{constructor(e){super(),this.firestore=e}convertBytes(e){return new PI(new mE(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return BI.forKey(t,this.firestore,null)}}class FI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new MI(e)}get(e){const t=XI(e);return this._delegate.get(t).then((e=>new HI(this._firestore,new dI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=XI(e);return n?(AI("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=XI(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=XI(e);return this._delegate.delete(t),this}}class UI{constructor(e){this._delegate=e}set(e,t,n){const r=XI(e);return n?(AI("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const a=XI(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,n,...i),this}delete(e){const t=XI(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class VI{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new fI(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new KI(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=VI.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new VI(e,new MI(e),t),r.set(t,i)),i}}VI.INSTANCES=new WeakMap;class BI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MI(e)}static forPath(e,t,n){if(e.length%2!==0)throw new rd("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new BI(t,new X_(t._delegate,n,new Sd(e)))}static forKey(e,t,n){return new BI(t,new X_(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new JI(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new JI(this.firestore,Z_(this._delegate,e))}catch(t){throw zI(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=st(e))instanceof X_&&tE(this._delegate,e)}set(e,t){t=AI("DocumentReference.set",t);try{return t?bI(this._delegate,e,t):bI(this._delegate,e)}catch(n){throw zI(n,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?_I(this._delegate,e):_I(this._delegate,e,t,...r)}catch(s){throw zI(s,"updateDoc()","DocumentReference.update()")}}delete(){return SI(H_((e=this._delegate).firestore,aE),[new sg(e._key,Km.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=qI(t),i=WI(t,(e=>new HI(this.firestore,new dI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return EI(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?yI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=H_(e,X_);const t=H_(e.firestore,aE);return j_(oE(t),e._key,{source:"server"}).then((n=>xI(t,e,n)))}(this._delegate):function(e){e=H_(e,X_);const t=H_(e.firestore,aE);return j_(oE(t),e._key).then((n=>xI(t,e,n)))}(this._delegate),t.then((e=>new HI(this.firestore,new dI(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new BI(this.firestore,e?this._delegate.withConverter(VI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function zI(e,t,n){return e.message=e.message.replace(t,n),e}function qI(e){for(const t of e)if("object"===typeof t&&!OI(t))return t;return{}}function WI(e,t){var n,r;let i;return i=OI(e[0])?e[0]:OI(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class HI{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new BI(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return gI(this._delegate,e._delegate)}}class KI extends HI{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Zh(),t}}class GI{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new MI(e)}where(e,t,n){try{return new GI(this.firestore,XE(this._delegate,function(e,t,n){const r=t,i=GE("where",e);return $E._create(i,r,n)}(e,t,n)))}catch(r){throw zI(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new GI(this.firestore,XE(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=GE("orderBy",e);return eI._create(n,t)}(e,t)))}catch(n){throw zI(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new GI(this.firestore,XE(this._delegate,(K_("limit",t=e),tI._create("limit",t,"F"))))}catch(t){throw zI(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new GI(this.firestore,XE(this._delegate,(K_("limitToLast",t=e),tI._create("limitToLast",t,"L"))))}catch(t){throw zI(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new GI(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nI._create("startAt",t,!0)}(...arguments)))}catch(e){throw zI(e,"startAt()","Query.startAt()")}}startAfter(){try{return new GI(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return nI._create("startAfter",t,!1)}(...arguments)))}catch(e){throw zI(e,"startAfter()","Query.startAfter()")}}endBefore(){try{return new GI(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rI._create("endBefore",t,!1)}(...arguments)))}catch(e){throw zI(e,"endBefore()","Query.endBefore()")}}endAt(){try{return new GI(this.firestore,XE(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return rI._create("endAt",t,!0)}(...arguments)))}catch(e){throw zI(e,"endAt()","Query.endAt()")}}isEqual(e){return nE(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?wI(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=H_(e,J_);const t=H_(e.firestore,aE),n=oE(t),r=new vI(t);return L_(n,e._query,{source:"server"}).then((n=>new pI(t,r,e,n)))}(this._delegate):function(e){e=H_(e,J_);const t=H_(e.firestore,aE),n=oE(t),r=new vI(t);return QE(e._query),L_(n,e._query).then((n=>new pI(t,r,e,n)))}(this._delegate),t.then((e=>new YI(this.firestore,new pI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=qI(t),i=WI(t,(e=>new YI(this.firestore,new pI(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return EI(this._delegate,r,i)}withConverter(e){return new GI(this.firestore,e?this._delegate.withConverter(VI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class QI{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new KI(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YI{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new GI(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new KI(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new QI(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new KI(this._firestore,n))}))}isEqual(e){return gI(this._delegate,e._delegate)}}class JI extends GI{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new BI(this.firestore,e):null}doc(e){try{return new BI(this.firestore,void 0===e?eE(this._delegate):eE(this._delegate,e))}catch(t){throw zI(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=H_(e.firestore,aE),r=eE(e),i=cI(e.converter,t);return SI(n,[TE(xE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Km.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new BI(this.firestore,e)))}isEqual(e){return tE(this._delegate,e._delegate)}withConverter(e){return new JI(this.firestore,e?this._delegate.withConverter(VI.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function XI(e){return H_(e,X_)}class $I{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new gE(...t)}static documentId(){return new $I(Id.keyField().canonicalString())}isEqual(e){return(e=st(e))instanceof gE&&this._delegate._internalPath.isEqual(e._internalPath)}}class ZI{constructor(e){this._delegate=e}static serverTimestamp(){const e=new CE("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new ZI(e)}static delete(){const e=new kE("deleteField");return e._methodName="FieldValue.delete",new ZI(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new AE("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new ZI(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new RE("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new ZI(e)}static increment(e){const t=new DE("increment",e);return t._methodName="FieldValue.increment",new ZI(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const eS={Firestore:LI,GeoPoint:yE,Timestamp:yd,Blob:PI,Transaction:FI,WriteBatch:UI,DocumentReference:BI,DocumentSnapshot:HI,Query:GI,QueryDocumentSnapshot:KI,QuerySnapshot:YI,CollectionReference:JI,FieldPath:$I,FieldValue:ZI,setLogLevel:function(e){var t;t=e,Gh.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new at("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},eS)))}(e,((e,t)=>new LI(e,t,new jI))),e.registerVersion("@firebase/firestore-compat","0.3.23")}(_n);_n.initializeApp({apiKey:"AIzaSyBk_oSKrLs6ZDIOKPYbNPOiXx9ZDoWaZqk",authDomain:"otp-verification-e1f88.firebaseapp.com",projectId:"otp-verification-e1f88",storageBucket:"otp-verification-e1f88.appspot.com",messagingSenderId:"870706566020",appId:"1:870706566020:web:b8ee6de8025c26c341c3d1",measurementId:"G-SWX0SL8PQB"});const tS=_n;var nS=n(116);const rS=function(){const e=tS.auth(),t=ee(),n=(0,r.useRef)(null),i=(0,r.useRef)(null),s=(0,r.useRef)(null),a=(0,r.useRef)(null),l=(0,r.useRef)(null),c=(0,r.useRef)(null),[u,h]=(0,r.useState)("red"),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!0),[g,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(),[b,_]=(0,r.useState)(),[E,I]=(0,r.useState)(),[S,x]=(0,r.useState)(),[T,k]=(0,r.useState)(),[N,C]=(0,r.useState)(!1),[A,R]=(0,r.useState)(!1),[D,P]=(0,r.useState)(!1),[O,j]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!1),[F,U]=(0,r.useState)(null),[V,B]=(0,r.useState)("none"),[z,q]=(0,r.useState)(!1),[W,H]=(0,r.useState)("inline-block"),[K,G]=(0,r.useState)(!1),Q=t=>{if(t.preventDefault(),""===a.current.value)w("FIELD IS"),_("EMPTY");else if(a.current.value.length>9){M("none"),q(!0),window.recaptchaVerifier=new Ps(e,"sign-in-button",{size:"invisible",callback:e=>{Q()},defaultCountry:"IN"});const t="+91"+a.current.value,n=window.recaptchaVerifier;tS.auth().signInWithPhoneNumber(t,n).then((e=>{window.confirmationResult=e,B("inline-block"),U("OTP SENT SUCCESSFULL"),H("none")})).catch((e=>{U(e.message),M("inline-block")}))}else w("INVALID"),_("PHONE NUMBER")},Y=async e=>{e.preventDefault(),""!==i.current.value&&""!==s.current.value&&""!==a.current.value?i.current.value.length>5?s.current.value.length>5?!0===g?await o().post("http://localhost:4000/signup",{suname:i.current.value,spass:s.current.value,sphone:a.current.value}).then((e=>{"permit"===e.data&&(console.log("permit"),I("permit"),w("SIGN-UP SUCCESSFULL"),_("GO TO LOGIN")),"up"===e.data&&(I("notpermit"),w("BOTH USERNAME AND"),_("PHONE NUMBER ALREADY EXIST")),"u"===e.data&&(I("notpermit"),w("USERNAME IS"),_("ALREADY EXIST")),"p"===e.data&&(I("notpermit"),w("PHONE NUMBER IS"),_("ALREADY EXIST"))})):(w("PHONE NUMBER"),_("IS NOT VERIFIED")):(w("PASSWORD MUST"),_("CONTAINS ATLEAST 6 CHARACTER")):(w("USERNAME MUST"),_("CONTAINS ATLEAST 6 CHARACTER")):(w("SOME FIELD"),_("IS EMPTY"))};return(0,nS.jsxs)("div",{className:"lbody",children:[(0,nS.jsx)("h1",{id:"logh1",children:"GAMING HUB"}),(0,nS.jsxs)("div",{className:"main",children:[(0,nS.jsx)("input",{type:"checkbox",id:"chk","aria-hidden":"true"}),(0,nS.jsx)("div",{className:"signup",children:(0,nS.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0),""!==l.current.value&&""!==c.current.value?await o().post("http://localhost:4000/login",{luname:l.current.value,lpass:c.current.value}).then((e=>{const n=e.data;console.log(n),"bc"===n.name&&(sessionStorage.setItem("un",l.current.value),sessionStorage.setItem("ud",n.uuid),t("/home")),"ip"===n.name&&(f(!1),k("INCORRECT PASSWORD")),"iu"===n.name&&(f(!1),k("INCORRECT USERNAME")),"bic"===n.name&&(f(!1),k("BOTH ARE INCORRECT"))})):(f(!1),k("FIELD IS EMPTY"))},children:[(0,nS.jsx)("label",{htmlFor:"chk","aria-hidden":"true",children:"LOGIN"}),(0,nS.jsx)("input",{className:"linput",type:"text",name:"username",placeholder:"USER NAME",required:"",ref:l}),(0,nS.jsx)("input",{className:"linput",type:A?"text":"password",name:"password",placeholder:"PASSWORD",required:"",ref:c}),O?(0,nS.jsx)("button",{id:"la",onClick:e=>{e.preventDefault(),R(!1),j(!1)},children:"HIDE"}):(0,nS.jsx)("button",{id:"la",onClick:e=>{e.preventDefault(),R(!0),j(!0)},children:"SHOW"}),d?(0,nS.jsx)("div",{id:"logload"}):(0,nS.jsx)("button",{id:"lbutton",children:"LOGIN"}),(0,nS.jsx)("div",{className:"amess",children:T}),(0,nS.jsx)(Ne,{to:"/fp",id:"forp",children:"forgot password ?"})]})}),"permit"!==E?(0,nS.jsx)("div",{className:"login",children:(0,nS.jsxs)("form",{onSubmit:Y,children:[(0,nS.jsx)("label",{htmlFor:"chk","aria-hidden":"true",children:"SIGN UP"}),(0,nS.jsx)("input",{id:"suinput",type:"text",name:"username",placeholder:"USER NAME",required:"",ref:i}),(0,nS.jsx)("button",{className:"ca",onClick:async e=>{e.preventDefault(),""!==i.current.value?i.current.value.length>5?await o().post("http://localhost:4000/cu",{suname:i.current.value}).then((e=>{"a"===e.data?(h("green"),x("USERNAME IS AVAILABLE")):(h("red"),x("USERNAME IS NOT AVAILABLE"))})):x("MUST CONTAIN 6 CHARACTERS"):x("FIELD IS EMPTY")},children:"CHECK"}),(0,nS.jsx)("h6",{id:"am",style:{color:"".concat(u)},children:S}),(0,nS.jsx)("input",{id:"spinput",type:N?"text":"password",name:"password",placeholder:"PASSWORD",required:"",ref:s}),D?(0,nS.jsx)("button",{className:"ca",onClick:e=>{e.preventDefault(),C(!1),P(!1)},children:"HIDE"}):(0,nS.jsx)("button",{className:"ca",onClick:e=>{e.preventDefault(),C(!0),P(!0)},children:"SHOW"}),(0,nS.jsx)("input",{className:"sninput",type:"number",name:"phone",placeholder:"PHONE NUMBER",required:"",ref:a}),z?(0,nS.jsx)("div",{className:"mload",style:{display:"".concat(W)}}):(0,nS.jsx)("button",{className:"ca",onClick:Q,style:{display:"".concat(L)},children:"GET OTP"}),(0,nS.jsx)("div",{className:"osm",children:F}),p?(0,nS.jsx)("div",{children:K?(0,nS.jsx)("div",{className:"vload"}):(0,nS.jsx)("input",{id:"eotp",className:"sninput",type:"number",name:"phone",placeholder:"ENTER OTP",required:"",ref:n})}):(0,nS.jsx)("div",{className:"sver",children:"VERIFIED"}),p?(0,nS.jsx)("div",{children:K?(0,nS.jsx)("div",{style:{display:"none"}}):(0,nS.jsx)("button",{id:"verify",onClick:e=>{if(e.preventDefault(),""===n.current.value)w("FIELD IS"),_("EMPTY");else{G(!0);const e=n.current.value;window.confirmationResult.confirm(e).then((e=>{"object"===typeof e&&(m(!1),v(!0))})).catch((e=>{console.log(e.message),m(!0),w("INCORRECT"),_("OTP"),v(!1),G(!1)}))}},style:{display:"".concat(V)},children:"VERIFY"})}):(0,nS.jsx)("div",{style:{display:"none"}}),(0,nS.jsx)("div",{id:"sign-in-button",style:{display:"none"}}),(0,nS.jsx)("button",{id:"sbutton",children:"SIGN UP"}),(0,nS.jsxs)("div",{className:"emess",children:[y," ",b]})]})}):(0,nS.jsx)("div",{className:"login",children:(0,nS.jsxs)("form",{onSubmit:Y,children:[(0,nS.jsx)("label",{htmlFor:"chk","aria-hidden":"true",children:"SIGN UP"}),(0,nS.jsxs)("div",{className:"amess",children:[y,(0,nS.jsx)("br",{}),b]})]})})]})]})};const iS=function(){const e=ee(),[t,n]=(0,r.useState)(!1),[i,s]=(0,r.useState)(!1),[a,l]=(0,r.useState)();return(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/coin",{username:e}).then((e=>{l(e.data.amount)}))})()}),[]),(0,nS.jsxs)("div",{className:"nmain",children:[(0,nS.jsxs)("div",{className:"nav",children:[(0,nS.jsx)("div",{id:"nh1",children:"GAMING HUB"}),(0,nS.jsx)("div",{className:"ndd",children:(0,nS.jsx)("button",{id:"ndd",onClick:()=>{s(!i)}})}),i&&(0,nS.jsxs)("div",{className:"drop",children:[(0,nS.jsx)("div",{className:"idrop",children:(0,nS.jsxs)("span",{id:"cspan",children:[(0,nS.jsx)("button",{id:"coin"}),a]})}),(0,nS.jsx)("div",{className:"idrop",children:(0,nS.jsx)("span",{onClick:()=>{s(!i),e("/home")},children:"HOME"})}),(0,nS.jsx)("div",{className:"idrop",children:(0,nS.jsx)("span",{onClick:()=>{s(!i),e("/um")},children:"UPCOMMING MATCHES"})}),(0,nS.jsx)("div",{className:"idrop",children:(0,nS.jsx)("span",{onClick:()=>{s(!i),e("/result")},children:"RESULT"})}),(0,nS.jsx)("div",{className:"idrop",children:(0,nS.jsx)("span",{onClick:()=>{s(!i),e("/deposit")},children:"DEPOSIT"})}),(0,nS.jsx)("div",{className:"idrop",children:(0,nS.jsx)("span",{onClick:()=>{s(!i),e("/withdraw")},children:"WITHDRAW"})}),(0,nS.jsx)("div",{className:"idrop",children:(0,nS.jsx)("span",{onClick:()=>{s(!i),e("/helpline")},children:"HELP-LINE"})})]}),(0,nS.jsxs)("div",{className:"hur",children:[(0,nS.jsx)("button",{onClick:()=>{e("/home")},children:"HOME"}),(0,nS.jsx)("button",{className:"ur",onClick:()=>{e("/um")},children:"UPCOMMING MATCHES"}),(0,nS.jsx)("button",{className:"ur",onClick:()=>{e("/result")},children:"RESULT"})]}),(0,nS.jsx)("div",{className:"p",children:(0,nS.jsx)("button",{onClick:()=>{n(!t)},children:"PROFILE"})})]}),t&&(0,nS.jsxs)("div",{className:"dw",children:[(0,nS.jsxs)("span",{id:"spcoin",children:[(0,nS.jsx)("button",{id:"dcoin"}),a]}),(0,nS.jsx)("button",{onClick:()=>{n(!t),e("/deposit")},children:"DEPOSIT"}),(0,nS.jsx)("button",{onClick:()=>{n(!t),e("/withdraw")},children:"WITHDRAW"}),(0,nS.jsx)("button",{onClick:()=>{n(!t),e("/helpline")},children:"HELP-LINE"})]})]})};const sS=function(){const e=ee();return(0,nS.jsxs)("div",{className:"hmain",children:[(0,nS.jsx)("div",{id:"hh",children:"MOBILE GAMES"}),(0,nS.jsxs)("div",{className:"hbody",children:[(0,nS.jsx)("button",{id:"hb",onClick:()=>{e("/bgmi")}}),(0,nS.jsx)("button",{id:"hf",onClick:()=>{e("/ff")}})]})]})};const aS=function(){return(0,nS.jsxs)("div",{className:"loadm",children:[(0,nS.jsx)("div",{className:"loadt"}),(0,nS.jsx)("h4",{children:"Loading...."})]})};const oS=function(e){let{bs1:t,bs2:n,bsd:i}=e;const[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(),[u,h]=(0,r.useState)(),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(),b=(0,r.useRef)(null),_=(0,r.useRef)(null),[E,I]=(0,r.useState)(),[S,x]=(0,r.useState)(),[T,k]=(0,r.useState)(),[N,C]=(0,r.useState)(),[A,R]=(0,r.useState)(!1),[D,P]=(0,r.useState)(!1),[O,j]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!0),F=ee();return(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/bjstatus",{username:e}).then((e=>{e.data.count[0]<100?I(e.data.count[0]):(f(!0),I(e.data.count[0]),C("MATCH FULL")),e.data.count[1]<100?x(e.data.count[1]):(m(!0),x(e.data.count[1]),C("MATCH FULL")),e.data.count[2]<100?k(e.data.count[2]):(v(!0),k(e.data.count[2]),C("MATCH FULL")),"av"===e.data.bsolo1&&(f(!0),C("JOINED")),"av"===e.data.bsolo2&&(m(!0),C("JOINED")),"av"===e.data.bsquad&&(v(!0),C("JOINED"))})).then((()=>{M(!1)}))})()}),[]),s?(0,nS.jsx)("div",{id:"pmain",children:L?(0,nS.jsx)(aS,{}):(0,nS.jsxs)("div",{id:"jp",children:[(0,nS.jsxs)("div",{id:"tc",children:[(0,nS.jsxs)("div",{id:"phc",children:[(0,nS.jsx)("h2",{id:"phead",children:"TERMS AND CONDITIONS"}),(0,nS.jsx)("button",{id:"pc",onClick:()=>{a(!1)},children:"X"})," "]}),(0,nS.jsxs)("ol",{children:[(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The room id and password will be sent to your registered mobile number,Before 10min of the match."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The player game level must be 25 or above.If you join the match with below level no cash price will be provided."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not team up with any players."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The resgistered game name should be same as your real game name,if its being different no cash prize will be provided."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not use any hacks."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not share the room id and password."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"If you have any payment issue after the result of the match,you should contact helpline within 24hrs because the result of the matches will be cleared within 24hrs."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"If you violate any of these terms and conditions,your account will be banned."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"No refund policy"})})]})]}),(0,nS.jsxs)("div",{id:"jb",children:[(0,nS.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER THE NAME IN GAME",ref:b}),(0,nS.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER GAME ID",ref:_}),(0,nS.jsxs)("button",{id:"pay",onClick:async()=>{if(M(!0),"bsolo1"===u)if(""!==b.current.value)if(""!==_.current.value){const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/bsolo1",{username:e,gamename:b.current.value,gameid:_.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),F("/bgmi")):(M(!1),w("LOW FUND,MAKE DEPOSIT"))}))}else M(!1),w("FIELD IS EMPTY");else M(!1),w("FIELD IS EMPTY");if("bsolo2"===u)if(""!==b.current.value)if(""!==_.current.value){const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/bsolo2",{username:e,gamename:b.current.value,gameid:_.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),F("/bgmi")):(M(!1),w("LOW FUND,MAKE DEPOSIT"))}))}else M(!1),w("FIELD IS EMPTY");else M(!1),w("FIELD IS EMPTY");if("bsquad"===u)if(""!==b.current.value)if(""!==_.current.value){const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/bsquad",{username:e,gamename:b.current.value,gameid:_.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),F("/bgmi")):(M(!1),w("LOW FUND,MAKE DEPOSIT"))}))}else M(!1),w("FIELD IS EMPTY");else M(!1),w("FIELD IS EMPTY")},children:["PAY=",(0,nS.jsx)("span",{id:"pamnt",children:l})]}),(0,nS.jsx)("div",{id:"pstatus",children:y})]})]})}):(0,nS.jsx)("div",{className:"bmain",children:L?(0,nS.jsx)(aS,{}):(0,nS.jsxs)(nS.Fragment,{children:[A?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",t.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",t.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",t.k]}),(0,nS.jsx)("button",{onClick:async()=>{R(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"bdiv",id:"bsolo",children:[(0,nS.jsx)("div",{className:"bimage"}),(0,nS.jsxs)("div",{className:"bdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:t.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:t.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:t.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:t.time})]})]}),(0,nS.jsxs)("div",{className:"bdown2",children:[(0,nS.jsx)("div",{id:"bp",children:(0,nS.jsx)("div",{id:"ibp",style:{width:"".concat(E,"%")}})}),(0,nS.jsxs)("h4",{id:"bpn",children:[E,"/100"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:async()=>{R(!0)},children:"PRICE"}),!1===d?(0,nS.jsx)("button",{className:"bjoin",onClick:async()=>{c("10"),a(!0),h("bsolo1")},children:"JOIN"}):(0,nS.jsx)("div",{className:"bjoined",children:N})]})]}),D?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",n.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",n.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",n.k]}),(0,nS.jsx)("button",{onClick:async()=>{P(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"bdiv",id:"bduo",children:[(0,nS.jsx)("div",{className:"bimage"}),(0,nS.jsxs)("div",{className:"bdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:n.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:n.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:n.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:n.time})]})]}),(0,nS.jsxs)("div",{className:"bdown2",children:[(0,nS.jsx)("div",{id:"bp",children:(0,nS.jsx)("div",{id:"ibp",style:{width:"".concat(S,"%")}})}),(0,nS.jsxs)("h4",{id:"bpn",children:[S,"/100"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:async()=>{P(!0)},children:"PRICE"}),!1===p?(0,nS.jsx)("button",{className:"bjoin",onClick:async()=>{c("10"),a(!0),h("bsolo2")},children:"JOIN"}):(0,nS.jsx)("div",{className:"bjoined",children:N})]})]}),O?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",i.w,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",i.r,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",i.k]}),(0,nS.jsx)("button",{onClick:async()=>{j(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"bdiv",id:"bsquad",children:[(0,nS.jsx)("div",{className:"bimage"}),(0,nS.jsxs)("div",{className:"bdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:i.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:i.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:i.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:i.time})]})]}),(0,nS.jsxs)("div",{className:"bdown2",children:[(0,nS.jsx)("div",{id:"bp",children:(0,nS.jsx)("div",{id:"ibp",style:{width:"".concat(T,"%")}})}),(0,nS.jsxs)("h4",{id:"bpn",children:[T,"/100"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:async()=>{j(!0)},children:"PRICE"}),!1===g?(0,nS.jsx)("button",{className:"bjoin",onClick:async()=>{c("10"),a(!0),h("bsquad")},children:"JOIN"}):(0,nS.jsx)("div",{className:"bjoined",children:N})]})]})]})})};const lS=function(e){let{fs1:t,fs2:n,fsd:i}=e;const[s,a]=(0,r.useState)(),[l,c]=(0,r.useState)(),[u,h]=(0,r.useState)(),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(!1),[g,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(),b=(0,r.useRef)(null),_=(0,r.useRef)(null),[E,I]=(0,r.useState)(),[S,x]=(0,r.useState)(),[T,k]=(0,r.useState)(),[N,C]=(0,r.useState)(),[A,R]=(0,r.useState)(!1),[D,P]=(0,r.useState)(!1),[O,j]=(0,r.useState)(!1),[L,M]=(0,r.useState)(!0),F=ee();return(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/fjstatus",{username:e}).then((e=>{e.data.count[0]<50?I(e.data.count[0]):(f(!0),I(e.data.count[0]),C("MATCH FULL")),e.data.count[1]<50?x(e.data.count[1]):(m(!0),x(e.data.count[1]),C("MATCH FULL")),e.data.count[2]<50?k(e.data.count[2]):(v(!0),k(e.data.count[2]),C("MATCH FULL")),"av"===e.data.fsolo1&&(f(!0),C("JOINED")),"av"===e.data.fsolo2&&(m(!0),C("JOINED")),"av"===e.data.fsquad&&(v(!0),C("JOINED"))})).then((()=>{M(!1)}))})()}),[]),s?(0,nS.jsx)("div",{id:"pmain",children:L?(0,nS.jsx)(aS,{}):(0,nS.jsxs)("div",{id:"jp",children:[(0,nS.jsxs)("div",{id:"tc",children:[(0,nS.jsxs)("div",{id:"phc",children:[(0,nS.jsx)("h2",{id:"phead",children:"TERMS AND CONDITIONS"}),(0,nS.jsx)("button",{id:"pc",onClick:()=>{a(!1)},children:"X"})]}),(0,nS.jsxs)("ol",{children:[(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The room id and password will be sent to your registered mobile number,Before 10min of the match."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The player game level must be 25 or above.If you join the match with below level no cash price will be provided."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not team up with any players."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The resgistered game name should be same as your real game name,if its being different no cash prize will be provided."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not use any hacks."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not share the room id and password."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"If you have any payment issue after the result of the match,you should contact helpline within 24hrs because the result of the matches will be cleared within 24hrs."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"If you violate any of these terms and conditions,your account will be banned."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"No refund policy"})})]})]}),(0,nS.jsxs)("div",{id:"jb",children:[(0,nS.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER THE NAME IN GAME",ref:b}),(0,nS.jsx)("input",{className:"ptext",type:"text",placeholder:"ENTER GAME ID",ref:_}),(0,nS.jsxs)("button",{id:"pay",onClick:async()=>{if(M(!0),"fsolo1"===u)if(""!==b.current.value)if(""!==_.current.value){const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/fsolo1",{username:e,gamename:b.current.value,gameid:_.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),F("/ff")):(M(!1),w("LOW FUND,MAKE DEPOSIT"))}))}else M(!1),w("FIELD IS EMPTY");else M(!1),w("FIELD IS EMPTY");if("fsolo2"===u)if(""!==b.current.value)if(""!==_.current.value){const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/fsolo2",{username:e,gamename:b.current.value,gameid:_.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),F("/ff")):(M(!1),w("LOW FUND,MAKE DEPOSIT"))}))}else M(!1),w("FIELD IS EMPTY");else M(!1),w("FIELD IS EMPTY");if("fsquad"===u)if(""!==b.current.value)if(""!==_.current.value){const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/fsquad",{username:e,gamename:b.current.value,gameid:_.current.value}).then((e=>{"success"===e.data.ws?(window.location.reload(!1),F("/ff")):(M(!1),w("LOW FUND,MAKE DEPOSIT"))}))}else M(!1),w("FIELD IS EMPTY");else M(!1),w("FIELD IS EMPTY")},children:["PAY=",l]}),(0,nS.jsx)("div",{id:"pstatus",children:y})]})]})}):(0,nS.jsx)("div",{className:"fmain",children:L?(0,nS.jsx)(aS,{}):(0,nS.jsxs)(nS.Fragment,{children:[A?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",t.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",t.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",t.k]}),(0,nS.jsx)("button",{onClick:async()=>{R(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"fdiv",id:"fsolo",children:[(0,nS.jsx)("div",{className:"fimage"}),(0,nS.jsxs)("div",{className:"fdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:t.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:t.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:t.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:t.time})]})]}),(0,nS.jsxs)("div",{className:"fdown2",children:[(0,nS.jsx)("div",{id:"fp",children:(0,nS.jsx)("div",{id:"ifp",style:{width:"".concat(2*E,"%")}})}),(0,nS.jsxs)("h4",{id:"fpn",children:[E,"/50"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:async()=>{R(!0)},children:"PRICE"}),!1===d?(0,nS.jsx)("button",{className:"bjoin",onClick:async()=>{c("20"),a(!0),h("fsolo1")},children:"JOIN"}):(0,nS.jsx)("div",{className:"bjoined",children:N})]})]}),D?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",n.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",n.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",n.k]}),(0,nS.jsx)("button",{onClick:async()=>{P(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"fdiv",id:"fduo",children:[(0,nS.jsx)("div",{className:"fimage"}),(0,nS.jsxs)("div",{className:"fdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:n.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:n.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:n.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:n.time})]})]}),(0,nS.jsxs)("div",{className:"fdown2",children:[(0,nS.jsx)("div",{id:"fp",children:(0,nS.jsx)("div",{id:"ifp",style:{width:"".concat(2*S,"%")}})}),(0,nS.jsxs)("h4",{id:"fpn",children:[S,"/50"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:async()=>{P(!0)},children:"PRICE"}),!1===p?(0,nS.jsx)("button",{className:"bjoin",onClick:async()=>{c("20"),a(!0),h("fsolo2")},children:"JOIN"}):(0,nS.jsx)("div",{className:"bjoined",children:N})]})]}),O?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",i.w,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",i.r,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",i.k]}),(0,nS.jsx)("button",{onClick:async()=>{j(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"fdiv",id:"fsquad",children:[(0,nS.jsx)("div",{className:"fimage"}),(0,nS.jsxs)("div",{className:"fdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:i.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:i.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:i.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:i.time})]})]}),(0,nS.jsxs)("div",{className:"fdown2",children:[(0,nS.jsx)("div",{id:"fp",children:(0,nS.jsx)("div",{id:"ifp",style:{width:"".concat(2*T,"%")}})}),(0,nS.jsxs)("h4",{id:"fpn",children:[T,"/50"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:async()=>{j(!0)},children:"PRICE"}),!1===g?(0,nS.jsx)("button",{className:"bjoin",onClick:async()=>{c("20"),a(!0),h("fsquad")},children:"JOIN"}):(0,nS.jsx)("div",{className:"bjoined",children:N})]})]})]})})};const cS=function(){const[e,t]=(0,r.useState)();return(async()=>{const e=sessionStorage.getItem("ud"),n=sessionStorage.getItem("un");null!==e&&(console.log(e),await o().post("http://localhost:4000/pr",{ud:e,un:n}).then((e=>{console.log(e.data.per),"ac"===e.data.per?t(!0):t(!1)})))})(),e?(0,nS.jsx)(pe,{}):(0,nS.jsx)(rS,{})};const uS=function(e){let{bs1:t,bs2:n,bsd:i,fs1:s,fs2:a,fsd:l}=e;const[c,u]=(0,r.useState)("none"),[h,d]=(0,r.useState)("none"),[f,p]=(0,r.useState)("none"),[m,g]=(0,r.useState)("none"),[v,y]=(0,r.useState)("none"),[w,b]=(0,r.useState)("none"),[_,E]=(0,r.useState)(),[I,S]=(0,r.useState)(),[x,T]=(0,r.useState)(),[k,N]=(0,r.useState)(),[C,A]=(0,r.useState)(),[R,D]=(0,r.useState)(),[P,O]=(0,r.useState)(!1),[j,L]=(0,r.useState)(!1),[M,F]=(0,r.useState)(!1),[U,V]=(0,r.useState)(!1),[B,z]=(0,r.useState)(!1),[q,W]=(0,r.useState)(!1),[H,K]=(0,r.useState)(!1),[G,Q]=(0,r.useState)(!0),[Y,J]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{const e=sessionStorage.getItem("un");await o().post("http://localhost:4000/um",{username:e}).then((e=>{"na"===e.data.bsolo1&&"na"===e.data.bsolo2&&"na"===e.data.bsquad&&"na"===e.data.fsolo1&&"na"===e.data.fsolo2&&"na"===e.data.fsquad&&(O(!0),Q(!1)),"av"===e.data.bsolo1?u("flex"):u("none"),"av"===e.data.bsolo2?d("flex"):d("none"),"av"===e.data.bsquad?p("flex"):p("none"),"av"===e.data.fsolo1?g("flex"):g("none"),"av"===e.data.fsolo2?y("flex"):y("none"),"av"===e.data.fsquad?b("flex"):b("none"),E(e.data.count[0]),S(e.data.count[1]),T(e.data.count[2]),N(e.data.count[3]),A(e.data.count[4]),D(e.data.count[5])})).then((()=>{J(!1)}))})()}),[]);const X=()=>{O(!0),Q(!0)};return P?(0,nS.jsx)("div",{className:"umain",children:G?(0,nS.jsxs)("div",{className:"rules",children:[(0,nS.jsx)("div",{id:"rules",children:(0,nS.jsxs)("ol",{children:[(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The room id and password will be sent to your registered mobile number,Before 10min of the match."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The player game level must be 25 or above.If you join the match with below level no cash price will be provided."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not team up with any players."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"The resgistered game name should be same as your real game name,if its being different no cash prize will be provided."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not use any hacks."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"Do not share the room id and password."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"If you have any payment issue after the result of the match,you should contact helpline within 24hrs because the result of the matches will be cleared within 24hrs."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"If you violate any of these terms and conditions,your account will be banned."})}),(0,nS.jsx)("li",{children:(0,nS.jsx)("span",{className:"rli",children:"No refund policy"})})]})}),(0,nS.jsx)("div",{className:"src",children:(0,nS.jsx)("button",{onClick:()=>{O(!1)},id:"src",children:"CLOSE"})})]}):(0,nS.jsx)("div",{className:"utext",children:Y?(0,nS.jsx)(aS,{}):(0,nS.jsx)("h1",{id:"utext",children:"NO MATCH HAS BEEN REGISTERED"})})}):(0,nS.jsx)("div",{className:"bmain",children:Y?(0,nS.jsx)(aS,{}):(0,nS.jsxs)(nS.Fragment,{children:[j?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",t.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",t.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",t.k]}),(0,nS.jsx)("button",{onClick:async()=>{L(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"bdiv",id:"bsolo",style:{display:"".concat(c)},children:[(0,nS.jsx)("div",{className:"bimage"}),(0,nS.jsxs)("div",{className:"bdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:t.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:t.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:t.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:t.time})]})]}),(0,nS.jsxs)("div",{className:"bdown2",children:[(0,nS.jsx)("div",{id:"bp",children:(0,nS.jsx)("div",{id:"ibp",style:{width:"".concat(_,"%")}})}),(0,nS.jsxs)("h4",{id:"bpn",children:[_,"/100"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:X,children:"RULES"}),(0,nS.jsx)(Ne,{className:"sbl",onClick:async()=>{L(!0)},children:"PRICE"})]})]}),M?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",n.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",n.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",n.k]}),(0,nS.jsx)("button",{onClick:async()=>{F(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"bdiv",id:"bsolo",style:{display:"".concat(h)},children:[(0,nS.jsx)("div",{className:"bimage"}),(0,nS.jsxs)("div",{className:"bdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:n.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:n.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:n.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:n.time})]})]}),(0,nS.jsxs)("div",{className:"bdown2",children:[(0,nS.jsx)("div",{id:"bp",children:(0,nS.jsx)("div",{id:"ibp",style:{width:"".concat(I,"%")}})}),(0,nS.jsxs)("h4",{id:"bpn",children:[I,"/100"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:X,children:"RULES"}),(0,nS.jsx)(Ne,{className:"sbl",onClick:async()=>{F(!0)},children:"PRICE"})]})]}),U?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",i.w,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",i.r,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",i.k]}),(0,nS.jsx)("button",{onClick:async()=>{V(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"bdiv",id:"bsquad",style:{display:"".concat(f)},children:[(0,nS.jsx)("div",{className:"bimage"}),(0,nS.jsxs)("div",{className:"bdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:i.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:i.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:i.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:i.time})]})]}),(0,nS.jsxs)("div",{className:"bdown2",children:[(0,nS.jsx)("div",{id:"bp",children:(0,nS.jsx)("div",{id:"ibp",style:{width:"".concat(x,"%")}})}),(0,nS.jsxs)("h4",{id:"bpn",children:[x,"/100"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:X,children:"RULES"}),(0,nS.jsx)(Ne,{className:"sbl",onClick:async()=>{V(!0)},children:"PRICE"})]})]}),B?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",s.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",s.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",s.k]}),(0,nS.jsx)("button",{onClick:async()=>{z(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"fdiv",id:"fsolo",style:{display:"".concat(m)},children:[(0,nS.jsx)("div",{className:"fimage"}),(0,nS.jsxs)("div",{className:"fdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:s.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:s.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:s.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:s.time})]})]}),(0,nS.jsxs)("div",{className:"fdown2",children:[(0,nS.jsx)("div",{id:"fp",children:(0,nS.jsx)("div",{id:"ifp",style:{width:"".concat(2*k,"%")}})}),(0,nS.jsxs)("h4",{id:"fpn",children:[k,"/50"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:X,children:"RULES"}),(0,nS.jsx)(Ne,{className:"sbl",onClick:async()=>{z(!0)},children:"PRICE"})]})]}),q?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",a.w]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",a.r]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",a.k]}),(0,nS.jsx)("button",{onClick:async()=>{W(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"fdiv",id:"fsolo",style:{display:"".concat(v)},children:[(0,nS.jsx)("div",{className:"fimage"}),(0,nS.jsxs)("div",{className:"fdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:a.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:a.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:a.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:a.time})]})]}),(0,nS.jsxs)("div",{className:"fdown2",children:[(0,nS.jsx)("div",{id:"fp",children:(0,nS.jsx)("div",{id:"ifp",style:{width:"".concat(2*C,"%")}})}),(0,nS.jsxs)("h4",{id:"fpn",children:[C,"/50"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:X,children:"RULES"}),(0,nS.jsx)(Ne,{className:"sbl",onClick:async()=>{W(!0)},children:"PRICE"})]})]}),H?(0,nS.jsxs)("div",{className:"ps",children:[(0,nS.jsxs)("h4",{children:["WINNER : ",l.w,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["RUNNER : ",l.r,"(EACH PLAYER)"]}),(0,nS.jsxs)("h4",{children:["PER KILL : ",l.k]}),(0,nS.jsx)("button",{onClick:async()=>{K(!1)},children:"CLOSE"})]}):(0,nS.jsxs)("div",{className:"fdiv",id:"fsquad",style:{display:"".concat(w)},children:[(0,nS.jsx)("div",{className:"fimage"}),(0,nS.jsxs)("div",{className:"fdown1",children:[(0,nS.jsxs)("h4",{children:["TYPE : ",(0,nS.jsx)("span",{children:l.type})]}),(0,nS.jsxs)("h4",{children:["MAP : ",(0,nS.jsx)("span",{children:l.map})]}),(0,nS.jsxs)("h4",{children:["DATE : ",(0,nS.jsx)("span",{children:l.date})]}),(0,nS.jsxs)("h4",{children:["TIME : ",(0,nS.jsx)("span",{children:l.time})]})]}),(0,nS.jsxs)("div",{className:"fdown2",children:[(0,nS.jsx)("div",{id:"fp",children:(0,nS.jsx)("div",{id:"ifp",style:{width:"".concat(2*R,"%")}})}),(0,nS.jsxs)("h4",{id:"fpn",children:[R,"/50"]}),(0,nS.jsx)(Ne,{className:"bl",onClick:X,children:"RULES"}),(0,nS.jsx)(Ne,{className:"sbl",onClick:async()=>{K(!0)},children:"PRICE"})]})]})]})})};const hS=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(),[s,a]=(0,r.useState)(),[l,c]=(0,r.useState)(),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(null),[g,v]=(0,r.useState)(null);return d?(0,nS.jsx)("div",{className:"wcmain",children:u?(0,nS.jsx)(aS,{}):(0,nS.jsx)("div",{className:"wcbody",children:e?(0,nS.jsxs)("div",{children:[(0,nS.jsxs)("div",{id:"wsf",children:[n," ",(0,nS.jsx)("span",{children:s})]}),(0,nS.jsx)("button",{id:"wcc",onClick:()=>{window.location.reload()},children:"CLOSE"})]}):(0,nS.jsxs)("div",{children:[(0,nS.jsxs)("div",{className:"cynm",id:"cnf",children:["ARE YOU SURE TO WITHDRAW ",(0,nS.jsx)("span",{children:p})," ?"]}),(0,nS.jsx)("button",{onClick:async()=>{h(!0),t(!0),await o().post("http://localhost:4000/wd",{username:sessionStorage.getItem("un"),upiid:g,amount:p}).then((e=>{"sc"===e.data.status?(i("WITHDRAW SUCCESSFULL"),a(",YOUR AMOUNT WILL BE CREDITED WITHIN 24 hrs."),h(!1)):(i("INSUFFICIENT BALANCE"),a(""),h(!1))}))},id:"wy",className:"cynm",children:"YES"}),(0,nS.jsx)("button",{className:"cynm",id:"wno",onClick:()=>{f(!1)},children:"NO"})]})})}):(0,nS.jsx)("div",{className:"wmain",children:(0,nS.jsxs)("div",{className:"wbody",children:[(0,nS.jsx)("div",{className:"wh",children:"WITHDRAW"}),(0,nS.jsx)("input",{id:"wupi",type:"text",placeholder:"ENTER UPI ID ",className:"lass",onChange:e=>{v(e.target.value)}}),(0,nS.jsxs)("div",{id:"we",className:"lass",children:[(0,nS.jsx)("span",{children:"Eg : "}),"123456789@paytm"]}),(0,nS.jsx)("input",{className:"lass",type:"number",placeholder:"ENTER THE AMOUNT",onChange:e=>{m(e.target.value)}}),(0,nS.jsx)("button",{className:"lass",id:"wsubmit",onClick:async()=>{null===g||null===p?c("SOME FIELD IS EMPTY"):p<20?c("MINIMUM MITHDRAW IS 20"):f(!0)},children:"SUBMIT"}),(0,nS.jsx)("div",{className:"lass",id:"wstatus",children:l})]})})};var dS,fS="https://js.stripe.com/v3",pS=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,mS="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",gS=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(fS).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n},vS=null,yS=null,wS=null,bS=function(e){return null!==vS?vS:(vS=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(mS),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(fS,'"]')),t=0;t<e.length;t++){var n=e[t];if(pS.test(n.src))return n}return null}();if(r&&e)console.warn(mS);else if(r){if(r&&null!==wS&&null!==yS){var i;r.removeEventListener("load",wS),r.removeEventListener("error",yS),null===(i=r.parentNode)||void 0===i||i.removeChild(r),r=gS(e)}}else r=gS(e);wS=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}}(t,n),yS=function(e){return function(){e(new Error("Failed to load Stripe.js"))}}(n),r.addEventListener("load",wS),r.addEventListener("error",yS)}catch(s){return void n(s)}else t(null)}))).catch((function(e){return vS=null,Promise.reject(e)}))},_S=!1,ES=function(){return dS||(dS=bS(null).catch((function(e){return dS=null,Promise.reject(e)})))};Promise.resolve().then((function(){return ES()})).catch((function(e){_S||console.warn(e)}));const IS=function(){const[e,t]=(0,r.useState)(),[n,i]=(0,r.useState)(!1),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(),[u,h]=(0,r.useState)(null),[d,f]=(0,r.useState)("");return(0,r.useEffect)((()=>{const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];_S=!0;var r=Date.now();return ES().then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51OXnenSC6UDJ5EILprhrs88tyup0P7XW3uwL9YzCWnCkftJLjA8ZYoHqa5UjvK5WBiFQOe5or1UwwVtAPn75rP8p00RVLGCHcH");h(e)}),[]),n?(0,nS.jsx)("div",{className:"upi",children:s?(0,nS.jsx)(aS,{}):(0,nS.jsxs)("div",{className:"iupi",children:[(0,nS.jsxs)("div",{id:"upia",children:["AMOUNT : ",(0,nS.jsx)("span",{children:e})]}),(0,nS.jsx)("div",{className:"uss",id:"upit",children:"ARE YOU SURE TO DEPOSIT ?"}),(0,nS.jsxs)("div",{children:[(0,nS.jsx)("button",{type:"submit",className:"uss",id:"upisubmit",onClick:async()=>{a(!0);try{const t=await u,n=sessionStorage.getItem("un");await o().post("http://localhost:4000/payment",{amount:e,username:n}).then((e=>{f(e.data.sessionId)}));const{error:r}=await t.redirectToCheckout({sessionId:d});r&&c("Payment Failed")}catch(t){a(!1),c(t.message)}},disabled:s,children:"YES"}),(0,nS.jsx)("button",{className:"uss",id:"upiclose",onClick:()=>{i(!1)},children:"NO"})]}),(0,nS.jsx)("div",{id:"upis",className:"uss",children:l})]})}):(0,nS.jsx)("div",{className:"dmain",children:(0,nS.jsxs)("div",{className:"dbody",children:[(0,nS.jsx)("div",{className:"dh",children:"DEPOSIT"}),(0,nS.jsx)("br",{}),(0,nS.jsx)("button",{onClick:()=>{i(!0),t(20)},className:"mdb",children:"20"}),(0,nS.jsx)("button",{className:"db",onClick:()=>{i(!0),t(50)},children:"50"}),(0,nS.jsx)("button",{className:"db",onClick:()=>{i(!0),t(100)},children:"100"}),(0,nS.jsx)("br",{}),(0,nS.jsx)("button",{onClick:()=>{i(!0),t(500)},className:"mdb",children:"500"}),(0,nS.jsx)("button",{className:"db",onClick:()=>{i(!0),t(1e3)},children:"1000"}),(0,nS.jsx)("button",{className:"db",onClick:()=>{i(!0),t(2e3)},children:"2000"})]})})};const SS=function(e){let{bs1:t,bs2:n,bsd:r,fs1:i,fs2:s,fsd:a}=e;const o=ee();return(0,nS.jsxs)("div",{className:"rmain",children:[(0,nS.jsx)("div",{id:"rn",children:"RESULT OF THE MATCHES WILL BE CLEARED WITHIN 24HRS"}),(0,nS.jsxs)("div",{className:"rbody",style:{display:"".concat(t.display)},children:[(0,nS.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,nS.jsx)("span",{children:t.name})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,nS.jsx)("span",{children:t.type})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,nS.jsx)("span",{children:t.map})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,nS.jsx)("span",{children:t.date})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,nS.jsx)("span",{children:t.time})]}),(0,nS.jsx)("button",{id:"sr",onClick:async()=>{o("/bsolo1r")},children:"SHOW"})]}),(0,nS.jsxs)("div",{className:"rbody",style:{display:"".concat(n.display)},children:[(0,nS.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,nS.jsx)("span",{children:n.name})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,nS.jsx)("span",{children:n.type})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,nS.jsx)("span",{children:n.map})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,nS.jsx)("span",{children:n.date})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,nS.jsx)("span",{children:n.time})]}),(0,nS.jsx)("button",{id:"sr",onClick:()=>{o("/bsolo2r")},children:"SHOW"})]}),(0,nS.jsxs)("div",{className:"rbody",style:{display:"".concat(r.display)},children:[(0,nS.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,nS.jsx)("span",{children:r.name})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,nS.jsx)("span",{children:r.type})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,nS.jsx)("span",{children:r.map})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,nS.jsx)("span",{children:r.date})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,nS.jsx)("span",{children:r.time})]}),(0,nS.jsx)("button",{id:"sr",onClick:()=>{o("/bsquadr")},children:"SHOW"})]}),(0,nS.jsxs)("div",{className:"rbody",style:{display:"".concat(i.display)},children:[(0,nS.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,nS.jsx)("span",{children:i.name})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,nS.jsx)("span",{children:i.type})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,nS.jsx)("span",{children:i.map})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,nS.jsx)("span",{children:i.date})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,nS.jsx)("span",{children:i.time})]}),(0,nS.jsx)("button",{id:"sr",onClick:()=>{o("/fsolo1r")},children:"SHOW"})]}),(0,nS.jsxs)("div",{className:"rbody",style:{display:"".concat(s.display)},children:[(0,nS.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,nS.jsx)("span",{children:s.name})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,nS.jsx)("span",{children:s.type})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,nS.jsx)("span",{children:s.map})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,nS.jsx)("span",{children:s.date})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,nS.jsx)("span",{children:s.time})]}),(0,nS.jsx)("button",{id:"sr",onClick:()=>{o("/fsolo2r")},children:"SHOW"})]}),(0,nS.jsxs)("div",{className:"rbody",style:{display:"".concat(a.display)},children:[(0,nS.jsxs)("div",{className:"gtmdt",children:["GAME : ",(0,nS.jsx)("span",{children:a.name})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TYPE : ",(0,nS.jsx)("span",{children:a.type})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["MAP : ",(0,nS.jsx)("span",{children:a.map})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["DATE : ",(0,nS.jsx)("span",{children:a.date})]}),(0,nS.jsxs)("div",{className:"gtmdt",children:["TIME : ",(0,nS.jsx)("span",{children:a.time})]}),(0,nS.jsx)("button",{id:"sr",onClick:()=>{o("/fsquadr")},children:"SHOW"})]})]})};const xS=function(e){let{bs1:t}=e;const n=ee();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await o().get("http://localhost:4000/bs1r").then((e=>{s(e.data.bsolo1)}))})()}),[]),(0,nS.jsxs)("div",{className:"sr",children:[(0,nS.jsx)("div",{className:"rc",children:(0,nS.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,nS.jsxs)("div",{className:"pd",children:[(0,nS.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,nS.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,nS.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,nS.jsxs)("table",{children:[(0,nS.jsx)("thead",{children:(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("th",{children:"POSITION"}),(0,nS.jsx)("th",{children:"PLAYER NAME"}),(0,nS.jsx)("th",{children:"KILLS"}),(0,nS.jsx)("th",{children:"CASH"})]})}),(0,nS.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const TS=function(e){let{bs2:t}=e;const n=ee();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await o().get("http://localhost:4000/bs2r").then((e=>{s(e.data.bsolo2)}))})()}),[]),(0,nS.jsxs)("div",{className:"sr",children:[(0,nS.jsx)("div",{className:"rc",children:(0,nS.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,nS.jsxs)("div",{className:"pd",children:[(0,nS.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,nS.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,nS.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,nS.jsxs)("table",{children:[(0,nS.jsx)("thead",{children:(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("th",{children:"POSITION"}),(0,nS.jsx)("th",{children:"PLAYER NAME"}),(0,nS.jsx)("th",{children:"KILLS"}),(0,nS.jsx)("th",{children:"CASH"})]})}),(0,nS.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const kS=function(e){let{bsd:t}=e;const n=ee();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await o().get("http://localhost:4000/bsdr").then((e=>{s(e.data.bsquad)}))})()}),[]),(0,nS.jsxs)("div",{className:"sr",children:[(0,nS.jsx)("div",{className:"rc",children:(0,nS.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,nS.jsxs)("div",{className:"pd",children:[(0,nS.jsxs)("div",{className:"w",children:["WINNER : ",t.w,"(EACH PLAYER)"]}),(0,nS.jsxs)("div",{className:"r",children:["RUNNER : ",t.r,"(EACH PLAYER)"]}),(0,nS.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,nS.jsxs)("table",{children:[(0,nS.jsx)("thead",{children:(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("th",{children:"POSITION"}),(0,nS.jsx)("th",{children:"PLAYER NAME"}),(0,nS.jsx)("th",{children:"KILLS"}),(0,nS.jsx)("th",{children:"CASH"})]})}),(0,nS.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const NS=function(e){let{fs1:t}=e;const n=ee();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await o().get("http://localhost:4000/fs1r").then((e=>{s(e.data.fsolo1)}))})()}),[]),(0,nS.jsxs)("div",{className:"sr",children:[(0,nS.jsx)("div",{className:"rc",children:(0,nS.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,nS.jsxs)("div",{className:"pd",children:[(0,nS.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,nS.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,nS.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,nS.jsxs)("table",{children:[(0,nS.jsx)("thead",{children:(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("th",{children:"POSITION"}),(0,nS.jsx)("th",{children:"PLAYER NAME"}),(0,nS.jsx)("th",{children:"KILLS"}),(0,nS.jsx)("th",{children:"CASH"})]})}),(0,nS.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const CS=function(e){let{fs2:t}=e;const n=ee();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await o().get("http://localhost:4000/fs2r").then((e=>{s(e.data.fsolo2)}))})()}),[]),(0,nS.jsxs)("div",{className:"sr",children:[(0,nS.jsx)("div",{className:"rc",children:(0,nS.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,nS.jsxs)("div",{className:"pd",children:[(0,nS.jsxs)("div",{className:"w",children:["WINNER : ",t.w]}),(0,nS.jsxs)("div",{className:"r",children:["RUNNER : ",t.r]}),(0,nS.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,nS.jsxs)("table",{children:[(0,nS.jsx)("thead",{children:(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("th",{children:"POSITION"}),(0,nS.jsx)("th",{children:"PLAYER NAME"}),(0,nS.jsx)("th",{children:"KILLS"}),(0,nS.jsx)("th",{children:"CASH"})]})}),(0,nS.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const AS=function(e){let{fsd:t}=e;const n=ee();let[i,s]=(0,r.useState)([]);return(0,r.useEffect)((()=>{(async()=>{await o().get("http://localhost:4000/fsdr").then((e=>{s(e.data.fsquad)}))})()}),[]),(0,nS.jsxs)("div",{className:"sr",children:[(0,nS.jsx)("div",{className:"rc",children:(0,nS.jsx)("button",{id:"rc",onClick:()=>{n("/result")},children:"X"})}),(0,nS.jsxs)("div",{className:"pd",children:[(0,nS.jsxs)("div",{className:"w",children:["WINNER : ",t.w,"(EACH PLAYER)"]}),(0,nS.jsxs)("div",{className:"r",children:["RUNNER : ",t.r,"(EACH PLAYER)"]}),(0,nS.jsxs)("div",{className:"k",children:["KILL : ",t.k]})]}),(0,nS.jsxs)("table",{children:[(0,nS.jsx)("thead",{children:(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("th",{children:"POSITION"}),(0,nS.jsx)("th",{children:"PLAYER NAME"}),(0,nS.jsx)("th",{children:"KILLS"}),(0,nS.jsx)("th",{children:"CASH"})]})}),(0,nS.jsx)("tbody",{children:i.map(((e,n)=>1===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.w})]},n):2===e.position?(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k+t.r})]},n):(0,nS.jsxs)("tr",{children:[(0,nS.jsx)("td",{children:e.position}),(0,nS.jsx)("td",{children:e.gamename}),(0,nS.jsx)("td",{children:e.kills}),(0,nS.jsx)("td",{children:e.kills*t.k})]},n)))})]})]})};const RS=function(){const e=(0,r.useRef)(),[t,n]=(0,r.useState)(!1);return(0,nS.jsx)("div",{className:"helmain",children:t?(0,nS.jsxs)("div",{className:"hstb",children:[(0,nS.jsx)("div",{id:"hstm",children:"YOUR  ISSUES  HAS  BEEN  SUBMITTED  SUCCESSFULLY  AND  IT  WILL  BE  SOLVED SOON"}),(0,nS.jsx)("div",{className:"hstc",children:(0,nS.jsx)("button",{onClick:()=>{n(!1)},children:"CLOSE"})})]}):(0,nS.jsxs)("div",{className:"helbody",children:[(0,nS.jsx)("div",{children:(0,nS.jsx)("textarea",{id:"hta",cols:"60",rows:"20",placeholder:"ENTER YOUR ISSUES.....",ref:e})}),(0,nS.jsx)("div",{className:"helb",children:(0,nS.jsx)("button",{onClick:async()=>{const t=sessionStorage.getItem("un");await o().post("http://localhost:4000/helpline",{username:t,issues:e.current.value}).then((e=>{"sc"===e.data.status&&n(!0)}))},children:"SUBMIT"})})]})})};const DS=function(){return(0,nS.jsx)("div",{className:"pnfmain",children:(0,nS.jsx)("div",{className:"pnfbody",children:"404 PAGE NOT FOUND"})})};const PS=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(),[s,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(),g=(0,r.useRef)(null),[v,y]=(0,r.useState)(!1),[w,b]=(0,r.useState)(!1),[_,E]=(0,r.useState)("none"),I=tS.auth(),S=(0,r.useRef)(null),x=(0,r.useRef)(null),[T,k]=(0,r.useState)(),[N,C]=(0,r.useState)(),[A,R]=(0,r.useState)(!1),[D,P]=(0,r.useState)(),[O,j]=(0,r.useState)(),L=ee(),M=e=>{e.preventDefault(),a(!0),window.recaptchaVerifier=new Ps(I,"sign-in-button",{size:"invisible",callback:e=>{M()},defaultCountry:"IN"});const t="+91"+D,n=window.recaptchaVerifier;tS.auth().signInWithPhoneNumber(t,n).then((e=>{window.confirmationResult=e,E("inline-block"),b(!0),a(!1)})).catch((e=>{k("OTP SENT FAILED"),a(!1),console.log(e.message)}))},F=async e=>{e.preventDefault(),""===S.current.value?C("FIELD IS EMPTY"):await o().post("http://localhost:4000/foruc",{username:S.current.value}).then((e=>{if("sc"===e.data.status){m(S.current.value);let t=e.data.phone.toString();j(t.slice(-4)),P(e.data.phone),R(!0)}else C("INVALID USERNAME")}))};return(0,nS.jsx)("div",{className:"formain",children:u?(0,nS.jsx)("div",{className:"fpav",children:e?(0,nS.jsxs)("div",{children:[(0,nS.jsx)("div",{id:"psc",children:"PASSWORD SUCCESSFULLY CHANGED"}),(0,nS.jsx)("div",{className:"fpvb",children:(0,nS.jsx)("button",{onClick:()=>{L("/")},children:"GO TO LOGIN"})})]}):(0,nS.jsxs)("div",{children:[(0,nS.jsx)("input",{type:d?"text":"password",placeholder:"ENTER YOUR NEW PASSWORD",ref:g}),v?(0,nS.jsx)("button",{id:"cnh",onClick:()=>{f(!1),y(!1)}}):(0,nS.jsx)("button",{id:"cns",onClick:()=>{f(!0),y(!0)}}),(0,nS.jsx)("div",{className:"fpvb",children:(0,nS.jsx)("button",{onClick:async()=>{g.current.value.length>5?await o().post("http://localhost:4000/cnp",{username:p,pass:g.current.value}).then((e=>{"sc"===e.data.status?t(!0):i("PASSWORD UPDATE FAILED")})):i("MINIMUM 6 CHARACTER REQUIRED")},children:"SUBMIT"})}),(0,nS.jsx)("div",{id:"cnpm",children:n})]})}):(0,nS.jsx)("div",{children:A?(0,nS.jsxs)("div",{className:"fpv",children:[(0,nS.jsxs)("div",{id:"fpt",children:["THE OTP WILL BE SENT TO THIS MOBILE NUMBER XXXX XX",O]}),s?(0,nS.jsx)("div",{id:"foload"}):(0,nS.jsx)("div",{className:"fpvb",children:w?(0,nS.jsx)("div",{id:"osend",children:"otp has been sent"}):(0,nS.jsx)("button",{onClick:M,children:"GET OTP"})}),(0,nS.jsx)("div",{children:l?(0,nS.jsx)("div",{id:"fvload"}):(0,nS.jsxs)("div",{children:[(0,nS.jsx)("input",{className:"fpvb",type:"text",placeholder:"ENTER OTP",ref:x}),(0,nS.jsx)("div",{className:"fpvb",children:(0,nS.jsx)("button",{onClick:e=>{if(e.preventDefault(),c(!0),""===x.current.value)c(!1),k("FIELD IS EMPTY");else{const e=x.current.value;window.confirmationResult.confirm(e).then((e=>{"object"===typeof e&&(c(!1),h(!0))})).catch((e=>{c(!1),k("INCORRECT OTP"),console.log(e.message)}))}},style:{display:"".concat(_)},children:"VERIFY"})})]})}),(0,nS.jsx)("div",{id:"fpvm",children:T}),(0,nS.jsx)("div",{id:"sign-in-button",style:{display:"none"}})]}):(0,nS.jsx)("form",{onSubmit:F,children:(0,nS.jsxs)("div",{className:"forbody",children:[(0,nS.jsx)("input",{className:"sm",type:"text",placeholder:"ENTER YOUR USERNAME",ref:S}),(0,nS.jsx)("div",{id:"forbut",className:"sm",children:(0,nS.jsx)("button",{type:"submit",onClick:F,children:"SUBMIT"})}),(0,nS.jsx)("div",{className:"sm",id:"formess",children:N})]})})})})};const OS=function(){const[e,t]=(0,r.useState)([null]),[n,i]=(0,r.useState)([null]),[s,a]=(0,r.useState)([null]),[l,c]=(0,r.useState)([null]),[u,h]=(0,r.useState)([null]),[d,f]=(0,r.useState)([null]),[p,m]=(0,r.useState)([null]),[g,v]=(0,r.useState)([null]),[y,w]=(0,r.useState)([null]),[b,_]=(0,r.useState)([null]),[E,I]=(0,r.useState)([null]),[S,x]=(0,r.useState)([null]),T="/"!==$().pathname;(0,r.useEffect)((()=>{(async()=>{await o().post("http://localhost:4000/md").then((e=>{t(e.data.bs1),i(e.data.bs2),a(e.data.bsd),c(e.data.fs1),h(e.data.fs2),f(e.data.fsd),m(e.data.bs1r),v(e.data.bs2r),w(e.data.bsdr),_(e.data.fs1r),I(e.data.fs2r),x(e.data.fsdr)}))})()}),[]);const k={type:e[0],map:e[1],date:e[2],time:e[3],w:e[4],r:e[5],k:e[6]},N={type:n[0],map:n[1],date:n[2],time:n[3],w:n[4],r:n[5],k:n[6]},C={type:s[0],map:s[1],date:s[2],time:s[3],w:s[4],r:s[5],k:s[6]},A={type:l[0],map:l[1],date:l[2],time:l[3],w:l[4],r:l[5],k:l[6]},R={type:u[0],map:u[1],date:u[2],time:u[3],w:u[4],r:u[5],k:u[6]},D={type:d[0],map:d[1],date:d[2],time:d[3],w:d[4],r:d[5],k:d[6]},P={name:p[0],type:p[1],map:p[2],date:p[3],time:p[4],display:p[5]},O={name:g[0],type:g[1],map:g[2],date:g[3],time:g[4],display:g[5]},j={name:y[0],type:y[1],map:y[2],date:y[3],time:y[4],display:y[5]},L={name:b[0],type:b[1],map:b[2],date:b[3],time:b[4],display:b[5]},M={name:E[0],type:E[1],map:E[2],date:E[3],time:E[4],display:E[5]},F={name:S[0],type:S[1],map:S[2],date:S[3],time:S[4],display:S[5]};return(0,nS.jsxs)(nS.Fragment,{children:[T&&(0,nS.jsx)(iS,{}),(0,nS.jsxs)(ve,{children:[(0,nS.jsx)(me,{path:"/",element:(0,nS.jsx)(rS,{})}),(0,nS.jsx)(me,{path:"/loading",element:(0,nS.jsx)(aS,{})}),(0,nS.jsxs)(me,{element:(0,nS.jsx)(cS,{}),children:[(0,nS.jsx)(me,{path:"/home",element:(0,nS.jsx)(sS,{})}),(0,nS.jsx)(me,{path:"/bgmi",element:(0,nS.jsx)(oS,{bs1:k,bs2:N,bsd:C})}),(0,nS.jsx)(me,{path:"/ff",element:(0,nS.jsx)(lS,{fs1:A,fs2:R,fsd:D})}),(0,nS.jsx)(me,{path:"/um",element:(0,nS.jsx)(uS,{bs1:k,bs2:N,bsd:C,fs1:A,fs2:R,fsd:D})}),(0,nS.jsx)(me,{path:"/result",element:(0,nS.jsx)(SS,{bs1:P,bs2:O,bsd:j,fs1:L,fs2:M,fsd:F})}),(0,nS.jsx)(me,{path:"/bsolo1r",element:(0,nS.jsx)(xS,{bs1:k})}),(0,nS.jsx)(me,{path:"/bsolo2r",element:(0,nS.jsx)(TS,{bs2:N})}),(0,nS.jsx)(me,{path:"/bsquadr",element:(0,nS.jsx)(kS,{bsd:C})}),(0,nS.jsx)(me,{path:"/fsolo1r",element:(0,nS.jsx)(NS,{fs1:A})}),(0,nS.jsx)(me,{path:"/fsolo2r",element:(0,nS.jsx)(CS,{fs2:R})}),(0,nS.jsx)(me,{path:"/fsquadr",element:(0,nS.jsx)(AS,{fsd:D})}),(0,nS.jsx)(me,{path:"/deposit",element:(0,nS.jsx)(IS,{})}),(0,nS.jsx)(me,{path:"/withdraw",element:(0,nS.jsx)(hS,{})}),(0,nS.jsx)(me,{path:"/helpline",element:(0,nS.jsx)(RS,{})})]}),(0,nS.jsx)(me,{path:"/fp",element:(0,nS.jsx)(PS,{})}),(0,nS.jsx)(me,{path:"/*",element:(0,nS.jsx)(DS,{})})]})]})};s.createRoot(document.getElementById("root")).render((0,nS.jsx)(xe,{children:(0,nS.jsx)(r.StrictMode,{children:(0,nS.jsx)(OS,{})})}))})()})();
//# sourceMappingURL=main.eafbbe1b.js.map